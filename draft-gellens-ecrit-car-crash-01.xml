<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC2119   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC5012   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5012.xml">
<!ENTITY RFC6881   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6881.xml">
<!ENTITY RFC6442   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6442.xml">
<!ENTITY RFC5962   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5962.xml">
<!ENTITY RFC5491   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5491.xml">
<!ENTITY RFC5069   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5069.xml">
<!ENTITY RFC4481   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4481.xml">
<!ENTITY RFC5031   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5031.xml">
<!ENTITY RFC3023   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3023.xml">
<!ENTITY RFC4288   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4288.xml">
<!ENTITY RFC4119   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4119.xml">
<!ENTITY RFC6443   PUBLIC "" "http://xml.resource.org/public/rfc/bibxml/reference.RFC.6443.xml">
<!ENTITY I-D.ietf-ecrit-trustworthy-location PUBLIC "" "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-ecrit-trustworthy-location.xml">
<!-- <!ENTITY I-D.ietf-ecrit-additional-data PUBLIC "" "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-ecrit-additional-data.xml"> -->
<!-- <!ENTITY I-D.gellens-ecrit-ecall PUBLIC "" "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.gellens-ecrit-ecall.xml"> -->
]>


<?rfc inline="yes"?>
<?rfc toc="yes" ?>
<?rfc tocdepth="2" ?> 
<?rfc symrefs="yes" ?>
<?rfc iprnotified="no" ?>
<?rfc strict="no" ?>
<?rfc compact="no" ?>
<?rfc sortrefs="yes" ?>
<!-- <?rfc colonspace='yes' ?> --> 

<rfc category="info" ipr="trust200902" docName="draft-gellens-ecrit-car-crash-01.txt">
  <front>
    <title abbrev="Next-Generation In-Vehicle Emergency Calls">Internet Protocol-based In-Vehicle Emergency Calls</title>

    <author initials="R." surname="Gellens" fullname="Randall Gellens">
      <organization>QUALCOMM Technologies, Inc</organization>
      <address>
        <postal>
          <street>5775 Morehouse Drive</street>
          <city>San Diego</city>
          <code>92651</code>
          <country>US</country>
        </postal>
        <email>rg+ietf@qti.qualcomm.com</email>
      </address>
    </author>

    <author initials="B." surname="Rosen" fullname="Brian Rosen">
      <organization>NeuStar, Inc. </organization>
      <address>
        <postal>
          <street>470 Conrad Dr</street>
          <city>Mars</city>
          <region> PA </region>
          <code>16046 </code>
          <country>US </country>
        </postal>
        <phone> </phone>
        <email>br@brianrosen.net</email>
      </address>
    </author>

    <author initials="H." surname="Tschofenig" fullname="Hannes Tschofenig">
            <organization>Nokia Siemens Networks</organization>
            <address>
                <postal>
                    <street>Linnoitustie 6</street>
                    <city>Espoo</city>
                    <code>02600</code>
                    <country>Finland</country>
                </postal>
                <phone>+358 (50) 4871445</phone>
                <email>Hannes.Tschofenig@gmx.net</email>
                <uri>http://www.tschofenig.priv.at</uri>
            </address>
        </author>

    <date year="2013"/>
    <area>Real-Time Applications and Infrastructure</area>
    <workgroup>ECRIT</workgroup>
    <keyword>Internet-Draft</keyword>

    <abstract>
      <t>This document describes how to use IP-based emergency services mechanisms to support the next generation of emergency calls  placed by vehicles (automatically in the event of a crash or serious incident, or manually invoked by a vehicle occupant) and conveying vehicle, sensor, and location data related to the crash or incident.  Such calls are often referred to as "Automatic Crash Notification" (ACN), or "Advanced Automatic Crash Notification" (AACN), even in the case of manual trigger.  The "Advanced" qualifier refers to the ability to carry a richer set of data.</t>
     
     <t>This document also registers a MIME Content Type and an Emergency Call Additional Data Block for the vehicle, sensor, and location data (often referred to as "crash data" even though there is not necessarily a crash).</t>

    <t>Profiling and simplifications are possible due to the
        nature of the functionality that is provided in vehicles with the usage of Global Satellite Navigation System (GNSS).</t>
    </abstract>
  </front>

  <middle>


    <section anchor="terminology" title="Terminology">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
        "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in
          <xref target="RFC2119"/>. </t>
      <t>This document re-uses terminology defined in Section 3 of <xref
          target="RFC5012"/>.</t>

      <t>Additionally, we use the following abbreviations:<list style="hanging"> 
      <t hangText="3GPP:">3rd Generation Partnership Project</t>
      <t hangText="AACN:">Advanced Automatic Crash Notification</t>
      <t hangText="ACN:">Automatic Crash Notification</t>
      <t hangText="APCO:">Association of Public-Safety Communications Officials</t>
      <t hangText="EENA:">European Emergency Number Association</t>
      <t hangText="ESInet:">Emergency Services IP network</t>
      <t hangText="GNSS:">Global Satellite Navigation System (which includes the various such systems including the Global Positioning System or GPS)</t>
      <t hangText="IVS:">In-Vehicle System</t>
      <t hangText="MNO:">Mobile Network Operator</t>
      <t hangText="NENA:">National Emergency Number Association</t> 
      <t hangText="TSP:">Telematics Service Provider</t>
      <t hangText="VEDS:">Vehicle Emergency Data Set</t>      </list> 
      </t> 
      
    </section>

    <section anchor="intro" title="Introduction">
      <t>Emergency calls made by in-vehicle systems (e.g., in the event of a crash) assist in significantly reducing
        road deaths and injuries by allowing emergency services to respond quickly and often with better location.</t>

    <t>Drivers often have a poor location awareness,
        especially outside of major cities, at night and when away from home (especially abroad).  In the most crucial cases, the
        victim(s) may not be able to call because they have been injured or trapped.</t>
    
    <t>For more than a decade, some vehicles have been equipped with telematics systems that, among other features, place an emergency call automatically in the event of a crash or manually in response to an emergency call button.  Such systems generally have on-board location determination systems that make use of satellite-based positioning technology, inertial sensors, gyroscopes, etc., to provide a fairly accurate position for the vehicle.  Such built-in systems can take advantage of the benefits of being integrated into a vehicle, such as more reliable power, ability to have larger or specialized antenna, ability to be engineered to avoid or minimise degradation by vehicle glass coatings, interference from other vehicle systems, etc.  Thus, the PSAP can be provided with a good estimate of where the vehicle is during an emergency.  Vehicle manufacturers are increasingly adopting such systems, both for the safety benefits and for the additional features and services they enable (e.g., remote engine diagnostics, remote door unlock, stolen vehicle tracking and disabling, etc.).</t>

    <t>The general term for such systems is Automatic Crash Notification (ACN) or "Advanced Automatic Crash Notification" (AACN).  "ACN" is used in this document as a general term.  ACN systems transmit some amount of data specific to the incident, referred to generally as "crash data."  While different systems transmit different amounts of crash data, standardized formats, structures, and mechanisms are needed to provide interoperability among systems and PSAPs.</t>

    <t>Currently deployed in-vehicle telematics systems are circuit-switched and lack a standards-based ability to convey crash data directly to the PSAP (generally relying on either a human call taker or an automated system to provide the PSAP call taker with some crash data orally, or possibly a proprietary mechanism) and are difficult to extend as new sensors are added.</t>

    <t>The transition to next-generation calling in general, and emergency calling in particular, provides an opportunity to vastly improve the scope, breadth, reliability and usefulness of crash data during an emergency by allowing it to be presented alongside the call, and to be automatically processed by the PSAP and made available to the call taker in an integrated, automated way.  In addition, vehicle manufacturers are provided an opportunity to take advantage of the same standardized mechanisms for data transmission for internal use if they wish (such as telemetry between the vehicle and a service center for both emergency and non-emergency uses, including location-based services, multi-media entertainment systems, and road-side assistance applications).</t>

    <t>Next-generation ACN provides an opportunity for such calls to be recognized and processed as such during call set-up, and routed to a specialized PSAP where the vehicle data is available to assist the call taker in assessing and responding to the situation.</t>

    <t>An ACN call may be either occupant-initiated or automatically triggered.  (The "A" in "ACN" does stand for "Automatic," but the term is often used to refer to the class of calls that are placed by an in-vehicle system (IVS) and that carry incident-related data as well as voice.)  Automatically triggered calls indicate a car crash or some other serious incident (e.g., a fire)  and carry a greater presumption of risk of injury.  Manually triggered calls are often reports of serious hazards (such as drunk drivers) and may require different responses depending on the situation.  Manually triggered calls are also more likely to be false (e.g., accidental) calls and may thus be subject to different handling by the PSAP.</t>

    <t>This document describes how the IETF mechanisms for IP-based emergency calls, including <xref target="RFC6443"/> and <xref target="additional-data-draft"/>, are used to provide the realization of next-generation ACN.</t>

    <t>The Association of Public-Safety Communications Officials (APCO) and the National Emergency Number Association (NENA) have jointly developed a standardized set of incident-related vehicle data for ACN use, called the Vehicle Emergency Data Set (VEDS) <xref target="VEDS"/>.  Such data is often referred to as crash data although it is applicable in incidents other than crashes.</t>

    <t>VEDS provides a standard data set for the transmission, exchange, and interpretation of vehicle-related data.  A standard data format
    allows the data to be generated by an IVS, and interpreted by PSAPs, emergency responders, and medical facilities (including those capable of providing trauma level patient care).
    It includes incident-related information such as airbag deployment, location of the vehicle, if the vehicle was involved in a rollover,
    various sensor data that can indicate the potential severity of the crash and the likelihood of severe injuries to the vehicle occupants, etc.  This data better informs the PSAP and
    emergency responders as to the type of response that may be needed. This information was recently included in the federal guidelines for field triage of injured patients. These guidelines are designed to help responders at the accident scene identify the potential
    existence of severe internal injuries and to make critical decisions about how and where a patient needs to be transported.</t>

<t>This document registers the 'application/emergencyCallData.VEDS+xml' MIME content-type, and registers the 'VEDS' entry in the Emergency Call Additional Data registry.</t>

<t>VEDS is an XML structure (see <xref target="VEDS"/>). The 'application/emergencyCallData.VEDS+xml' MIME content-type is used to identify it. The 'VEDS' entry in the Emergency Call Additional Data registry is used to construct a 'purpose' parameter value for conveying VEDS data in a Call-Info header (as described in <xref target="additional-data-draft"/>).</t>

<t>VEDS is a versatile structure that can accomodate varied needs.  However, if additional sets of data are determined to be needed, the steps to enable each data block are very briefly summarized below:

    <?rfc subcompact="yes"?>
    <list style="symbols">
        <t>A standardized format and encoding (such as XML) is defined and published by a Standards Development Organization (SDO).</t>
        <t>A MIME Content-Type is registered for it (typically under the 'Application' media type and with a sub-type starting with 'emergencyCallData.').</t>
        <t>An entry for the block is added to the Emergency Call Additional Data Blocks sub-registry (established by <xref target="additional-data-draft"/>); the registry entry is the root of the MIME sub-type (not including the 'emergencyCallData' prefix and any suffix such as '+xml').</t>
    </list>
    <?rfc subcompact="no"?>
</t>

<t>A next-generation In-Vehicle System (IVS) transmits crash data by encoding it in a standardized and registered format (such as VEDS) and attaching it to an INVITE as a MIME body part. The body part is identified by its MIME content-type (such as 'application/emergencyCallData.VEDS+xml') in the Content-Type header field of the body part.  The body part is assigned a unique identifier which is listed in a Content-ID header field in the body part.  The INVITE is marked as containing the crash data by adding (or appending to) a Call-Info header field at the top level of the INVITE.  The Call-Info header field contains a CID URL referencing the body part's unique identifier, and a 'purpose' parameter identifying the data as the crash data per the registry entry; the 'purpose' parameter's value is 'emergencyCallData.' and the root of the MIME type (not including the
'emergencyCallData' prefix and any suffix such as '+xml' (such as 'purpose=emergencyCallData.VEDS').</t>

<t>The mechanisms described here can be used place emergency calls that are identifiable as ACN calls and that carry one or more standardized crash data objects in an interoperable way.</t>

<t>Note that while ACN systems in the U.S. and other regions are not currently mandated, Europe has a mandated and standardized system for emergency calls by in-vehicle systems.  This pan-European system is known as "eCall" and is not further discussed in this document but is the subject of a separate document, <xref target="eCall-draft"/>
</t>

</section>

<section title="Overview of Current Deployment Models"> 

<t>Current (circuit-switched or legacy) systems for placing emergency calls by in-vehicle systems, including automatic crash notification systems, generally have a limited ability to convey at least location and in some cases telematics data to the PSAP.  Most such systems use one of three architectural models, which are described here as: "Telematics Service Provider" (TSP), "direct", and "paired handset". These three models are illustrated below.</t>

<t>In the TSP model, both emergency and non-emergency calls are placed to a Telematics Service Provider (TSP); a proprietary technique is used for data transfer (such as proprietary in-band modems) to the TSP.</t>

<t>In an emergency, the TSP call taker bridges in the PSAP and communicates location, crash data (such as impact severity and trauma prediction), and other data (such as the vehicle description) to the PSAP call taker verbally.  Typically, a three-way voice call is established between the vehicle, the TSP, and the PSAP, allowing communication between the PSAP call taker, the TSP call taker, and the vehicle occupants (who might be unconscious).</t>
<t>
        <figure anchor="tsp-model" title="Legacy TSP Model.">
        <?rfc needLines="5" ?>
          <artwork><![CDATA[
   ///----\\\  proprietary  +------+    911 trunk      +------+
  ||| IVS |||-------------->+ TSP  +------------------>+ PSAP |
   \\\----///  crash data   +------+                   +------+

]]></artwork>
        </figure>
      </t>



<t>In the paired model, the IVS uses a Bluetooth link with a previously-paired handset to
establish an emergency call with the PSAP (by dialing a standard emergency number such as 9-1-1), and then communicates
location data to the PSAP via text-to-speech; crash data is not
conveyed.  Some such systems use an automated voice prompt menu (e.g., "this is an automatic emergency call from a vehicle; press 1 to open a voice path to the vehicle; press 2 to hear the location read out") to allow the call taker to request location data via text-to-speech.</t>
<t>
       <figure anchor="paired-model" title="Legacy Paired Model">
          <artwork><![CDATA[
                +---+
   ///----\\\   | H |   911/etc voice call via handset   +------+
  ||| IVS |||-->| S +----------------------------------->+ PSAP |
   \\\----///   +---+   location via text-to-speech      +------+

]]></artwork>
        </figure>
      </t>



<t>In the direct model, the IVS directly places an emergency call with the PSAP by dialing a standard emergency number such as 9-1-1.  Such systems might communicate
location data to the PSAP via text-to-speech; crash data might not be conveyed.</t>
<t>
        <figure anchor="direct-model" title="Legacy Direct Model">
          <artwork><![CDATA[
   ///----\\\      911/etc voice call via IVS          +------+
  ||| IVS  |||---------------------------------------->+ PSAP |
   \\\----///     location via text-to-speech          +------+

]]></artwork>
        </figure>
      </t>

</section>

<section title="Document Scope">

<t>This document is focused on the interface to the PSAP, that is, how an ACN emergency call is setup and incident-related data (including vehicle, sensor, and location data) is transmitted to the PSAP using IETF specifications. (The goal is to re-use specifications rather than to invent new.)  For the direct model, this is the
end-to-end description (between the vehicle and the PSAP).  For the TSP model, this describes the
right-hand side (between the TSP and the PSAP), leaving the left-hand side (between the vehicle and the TSP) up to the entities involved
(i.e., IVS and TSP vendors) who are then free to use the same mechanism
as for the right-hand side (or not).
</t>

<t>This document does not address pan-European eCall (a mandated and standardized system for emergency calls by in-vehicle systems within Europe and other regions), which is the subject of a separate document, <xref target="eCall-draft"/>
</t>

</section>

<section title="Migration to Next-Generation">

<t>Migration of emergency calls placed by in-vehicle systems to next-generation (all-IP) technology provides a standardized mechanism to identify such calls and to present crash data with the call.  This allows ACN calls and crash data to be automatically processed by the PSAP and made available to the call taker in an integrated, automated way.</t>

<t>Vehicle manufacturers using the TSP model may choose to take advantage of the same mechanism to carry telematics data between the vehicle and the TSP for both emergency and non-emergency calls.</t>

<t>A next-generation IVS establishes an emergency call using the 3GPP IMS solution with a Request-URI indicating an ACN type of emergency call with vehicle data attached; the MNO only needs to recognize the call as an emergency call and route it to an ESInet; the ESInet recognizes the call as an ACN with vehicle data and routes the call to an NG-ACN capable PSAP; the PSAP interpets the vehicle data sent with the call and makes it available to the call taker.</t>

<t>Because of the need to identify and specially process Next-Generation ACN calls (as discussed above), this document registers new service URN children within the "sos" subservice.  These URNs provide the mechanism by which an NG-ACN call is identified, and differentiate between manually and automatically triggered NG-ACN calls (which may be subject to different treatment, depending on policy). The two service URNs are: 'urn:service:sos.vehicle.automatic' and 'urn:service:sos.vehicle.manual'.</t>

<t>Migration of the three architectural models to next-generation (all-IP) is described below.</t> 

<t>In the TSP model, the IVS transmits crash and location data to the TSP using either a protocol that is based on a proprietary design or one that re-uses IETF specifications.  In an emergency, the TSP call taker bridges in the PSAP and the TSP transmits
crash and other data to the PSAP using IETF specifications.  There
is a three-way call between the vehicle, the TSP, and the PSAP, allowing communication between the PSAP call taker, the TSP call taker, and the vehicle occupants (who might be unconscious).</t>
<t>
        <figure anchor="tsp-model2" title="Next-Generation TSP Model">
          <artwork><![CDATA[
               proprietary
   ///----\\\  or standard        +------+     standard       +------+
  ||| IVS ||| ------------------->+ TSP  +------------------->+ PSAP |
   \\\----///  crash + other data +------+ crash + other data +------+
]]></artwork>
        </figure>
</t>

<t>The vehicle manufacturer and the TSP may choose to use the same IETF specifications to transmit crash and location data from the vehicle to the TSP as is described here to transmit such data from the TSP to the PSAP.</t>



<t>In the paired model, the IVS uses a Bluetooth link to a
previously-paired handset to establish an emergency call with the
PSAP; it is not clear what facilities are or will be available for
transmitting crash data through the Bluetooth link.</t>
<t>
        <figure anchor="paired-model2" title="Next-Generation Paired Model">
          <artwork><![CDATA[
                                +---+                            
   ///----\\\     (unclear)     | H |      (unclear)     +------+
  ||| IVS |||------------------>| S +------------------->+ PSAP |
   \\\----///     (unclear)     +---+      (unclear)     +------+
]]></artwork>
        </figure>
      </t>



<t>In the direct model, the IVS communicates crash data to the PSAP directly using IETF specifications.</t>
<t>
        <figure anchor="direct-model2" title="Next-Generation Model">
          <artwork><![CDATA[
  ///----\\\          NG1-1-2/NG9-1-1 call            +------+
 ||| IVS |||----------------------------------------->+ PSAP |
  \\\----///               crash data                 +------+
]]></artwork>
        </figure>
      </t>

</section>


    <section anchor="data-profile" title="Profile">
      <t>In the context of emergncy calls placed by an in-vehicle system it is assumed that the car is equipped with a built-in GNSS receiver. 
	  For this reason only geodetic location information will
        be sent within an emergency call. The following location shapes MUST be implemented: 2d and 3d Point (see
        Section 5.2.1 of <xref target="RFC5491"/>), Circle (see Section
        5.2.3 of <xref target="RFC5491"/>), and Ellipsoid (see Section
        5.2.7 of <xref target="RFC5491"/>). The coordinate reference
        systems (CRS) specified in <xref target="RFC5491"/> are also
        mandatory for this document. The &lt;direction&gt; element, as defined in <xref target="RFC5962"/> which indicates the direction of travel of the vehicle, is
        important for dispatch and hence it MUST be included in the PIDF-LO . The
        &lt;heading&gt; element specified in <xref
          target="RFC5962"/> MUST be implemented and MAY be included. </t>

<t>Calls by in-vehicle systems are placed via cellular networks, which may ignore location sent by an originating device in an emergency call INVITE, instead attaching their own location (often determined in cooperation with the originating device).  The IVS MAY attach location data to the call INVITE.  Standardized crash data structures often include location as determined by the IVS.  A benefit of this is that it allows the PSAP to see both the location as determined by the cellular network (often in cooperation with the originating device) and the location as determined by the IVS.</t>
		  
	<t>This specification also inherits the ability to utilize test call functionality from Section 15 of <xref target="RFC6881"/>.</t>
    </section>

<section title="Call Setup">
<t>It is important that ACN calls be easily identifiable as such at all stages of call handling, and that automatic versis manual triggering be known.  ACN calls differ from general emergency calls in several aspects, including the presence of standardized crash data, the fact that the call is known to be placed by an in-vehicle system (which has implications for PSAP operational processes), and, especially for automatic calls, information that may indicate a likelihood of severe injury and hence need for trauma services.  Knowledge that a call is an ACN and further that it was automatically or manually invoked carries a range of implications about the call, the circumstances, and the vehicle occupants.  Calls by in-vehicle systems may be considered a specific sub-class of general emergency calls and need to be handled by a PSAP with the technical and operational capabilities to serve such calls.  (This is especially so in environments such as the U.S. where there are many PSAPs and where individual PSAPs have a range of capabilities.)  Technical capabilities include the ability to recognize and process standardized crash data.  Operational capabilities include training and processes for assessing severe injury likelihood and responding appropriately (e.g., dispatching trauma-capable medical responders, transporting victims to a trauma center, alerting the receiving facility, etc.).
</t>

<t>Because ACN calls differ in significant ways from general emergency calls, and because such calls need to be handled by specialized PSAPs (equipped technically to interpet and make use of crash data, and operationally to handle emergency calls placed by in-vehicle systems), this document proposes an SOS sub-service for ACN/car crash, specifically, "SOS.vehicle".  Using a sub-service makes it readily obvious that the call is an ACN; a further child elements is proposed to distinguish calls automatically placed due to a crash or other serious incident (such as a fire) from those manually invoked by a vehicle occupant (specifically, "SOS.vehicle.automatic" and "SOS.vehicle.manual").  The distinction between automatic and manual invocation is also significant; automatically triggered calls indicate a car crash or some other serious incident (e.g., a fire) and carry a greater presumption of risk of injury and hence need for specific responders (such as trauma or fire).  Manually triggered calls are often reports of serious hazards (such as drunk drivers) and may require different responses depending on the situation.  Manually triggered calls are also more likely to be false (e.g., accidental) calls and may thus be subject to different handling by the PSAP.</t>

<t>A next-generation In-Vehicle System (IVS) transmits crash data by encoding it in a standardized and registered format and attaching it to an INVITE as an additional data block as specified in Section 4.1 of <xref target="additional-data-draft"/>.  As described in that document, the block is identified by its MIME content-type, and pointed to by a CID URL in a Call-Info header with a 'purpose' parameter value corresponding to the block.</t>

<t>
Specifically, the steps required during standardization are:
    <list style="symbols">
        <t>A set of crash data is standardized by an SDO or appropriate organization</t>
        <t>A MIME Content-Type for the crash data set is registered with IANA
            <list style="symbols">
            <t>If the data is specifically for use in emergency calling, the MIME type is normally under the 'application' type with a subtype starting with 'emergencyCallData.'</t>
            <t>If the data format is XML there is by convention a suffix of '+xml'</t>
            </list>
        </t>
        <t>The item is registered in the Emergency Call Additional Data registry, as defined in Section 9.1.7 of <xref target="additional-data-draft"/>
            <list style="symbols">
            <t>For emergency-call-specific formats, the registered name is the root of the MIME Content-Type (not including the 'emergencyCallData' prefix and any suffix such as '+xml') as described in Section 4.1 of <xref target="additional-data-draft"/></t>
            </list>
        </t>
    </list>
</t>

<t>
When placing an emergency call:
    <list style="symbols">
        <t>The crash data set is created and encoded per its specification</t>
        <t>The crash data set is attached to the emergency call INVITE as specified in Section 4.1 of <xref target="additional-data-draft"/>, that is, as a MIME body part identified by its MIME Content-Type in the body part's Content-Type header field</t>
        <t>The body part is assigned a unique identifier label in a Content-ID header field of the body part</t>
        <t>A Call-Info header field at the top level of the INVITE references the crash data and identifies it by its MIME root (as registered in the Emergency Call Additional Data registry)
            <list style="symbols">
            <t>The crash data is referenced in the Call-Info header field by a CID URL that contains the unique Content ID assigned to the crash data body part</t>
            <t>The crash data is identified in the Call-Info header field by a 'purpose' parameter whose value is 'emergencyCallData.' concatenated with the specific crash data entry in the Emergency Call Additional Data registry</t>
            <t>The Call-Info header field MAY be either solely to reference the crash data (and hence have only the one URL) or may also contain other URLs referencing other data</t>
            </list>
            </t>
        <t>Additional crash data sets MAY be included by following the same steps</t>
    </list>
</t>

<t>The Vehicle Emergency Data Set (VEDS) is an XML structure defined by the Association of Public-Safety Communications Officials (APCO) and the National Emergency Number Association (NENA) <xref target="VEDS"/>. The 'application/emergencyCallData.VEDS+xml' MIME content-type is used to identify it. The 'VEDS' entry in the Emergency Call Additional Data registry is used to construct a 'purpose' parameter value for conveying VEDS data in a Call-Info header.</t>

<t>The VEDS data is attached as a body part with MIME content type 'application/emergencyCallData.VEDS+xml' which is pointed at by a Call-Info URL of type CID with a 'purpose' parameter of 'emergencyCallData.VEDS'.</t>

<t>Entities along the path between the vehicle and the PSAP are able to identify the call as an ACN call and handle it appropriately.  The PSAP is able to identify the crash data as well as any other additional data attached to the INVITE by examining the Call-Info header fields for 'purpose' parameters whose values start with 'emergencyCallData.'  The PSAP is able to access and the data it is capable of handling and is interested in by checking the 'purpose' parameter values.</t>

</section>


<section anchor="routing" title="Call Routing">

    <t>An Emergency Services IP Network (ESInet) is a network operated by emergency services authorities.  It handles emergency call routing and processing before delivery to a PSAP.  In the NG9-1-1 architecture adopted by NENA as well as the NG1-1-2 architecture adopted by EENA, each PSAP is connected to one or more ESInets.  Each originating network is also connected to one or more ESInets.  The ESInets maintain policy-based routing rules which control the routing and processing of emergency calls.  The centralization of such rules within ESInets provides for a cleaner separation between the responsibilities of the originating network and that of the emergency services network, and provides greater flexibility and control over processing of emergency calls by the emergency services authorities.  This makes it easier to react quickly to unusual situations that require changes in how emergency calls are routed or handled (e.g., a natural disaster closes a PSAP), as well as ease in making long-term changes that affect such routing (e.g., cooperative agreements to specially handle calls requiring translation or relay services).</t>
    
    <t>In an environment that uses ESInets, the originating network need only detect that the service URN of an emergency call is or starts with "sos", passing all types of emergency calls to an ESInet.  The ESInet is then responsible for routing such calls to an appropriate PSAP.  In an environment without an ESInet, the emergency services authorities and the originating carriers would need to determine how such calls are routed.</t>

</section>

<section anchor="test-calls" title="Test Calls">

    <t>This specification also inherits the ability to utilize test call functionality from Section 15 of <xref target="RFC6881"/>.</t>
    
   <t hangText="Test Call Indication">A service URN starting with "test." indicates a request for an automated test. For example,
   "urn:service:test.sos.vehicle.automatic" indicates such a test feature. This functionality is defined in <xref target="RFC6881"/>.</t>

</section>



    <section anchor="example" title="Example">
      <t>
        <xref target="fig1"/> shows an emergency call placed by a vehicle whereby location
        information and VEDS crash data are both attached to the SIP INVITE message. The INVITE has a request URI containing the  'urn:service:sos.vehicle.automatic' service URN and is
        thus recognized as an ACN type of emergency call, and is also recognized as a type of emergency call because the request URI starts with 'urn:service:sos'.  The
        mobile network operator (MNO) routes the call to an Emergency services IP Network (ESInet), as for any emergency call.  The ESInet processes the call as an ACN and routes the call to an appropriate ACN-capable PSAP (using location information and the fact that that it is an ACN).  (In deployments where there is no ESInet, the MNO itself needs to route directly to an appropriate ACN-capable PSAP.)
        The call is processed by the Emergency Services Routing Proxy (ESRP), as the entry point to the ESInet. The ESRP routes the call to an appropriate ACN-capable PSAP, where the call is received by a call taker. </t>
      <t>
        <figure anchor="fig1" title="Example of Vehicle-Placed Emergency Call Message Flow">
          <artwork><![CDATA[
                            +-----------------------------------------+
                            |                                         |
            +------------+  |                  +-------+              |
            |            |  |                  | PSAP2 |              |
            |            |  |                  +-------+              |
            | Originating|  |                                         |
            |   Mobile   |  |  +------+     +-------+                 |
  Vehicle-->|  Network   |--+->| ESRP |---->| PSAP1 |---> Call-Taker  |
            |            |  |  +------+     +-------+                 |
            |            |  |                                         |
            +------------+  |                  +-------+              |
                            |                  | PSAP3 |              |
                            |                  +-------+              |
                            |                                         |
                            |                                         |
                            |                                         |
                            |                ESInet                   |
                            +-----------------------------------------+
            ]]></artwork>
        </figure>
      </t>
      <t>The example, shown in <xref target="fig2"/>, illustrates a SIP emergency call eCall INVITE that is being conveyed with location information (a PIDF-LO) and crash data (as VEDS data).</t>
      <t>
        <figure anchor="fig2" title="SIP INVITE indicating an In-Vehicular Emergency Call">
          <artwork><![CDATA[
   INVITE urn:service:sos.vehicle.automatic SIP/2.0
   To: urn:service:sos.ecall.automatic 
   From: <sip:+13145551111@example.com>;tag=9fxced76sl
   Call-ID: 3848276298220188511@atlanta.example.com
   Geolocation: <cid:target123@example.com>
   Geolocation-Routing: no
   Call-Info: cid:1234567890@atlanta.example.com;
              purpose=emergencyCallData.VEDS
   Accept: application/sdp, application/pidf+xml
   CSeq: 31862 INVITE
   Content-Type: multipart/mixed; boundary=boundary1
   Content-Length: ...

   --boundary1

   Content-Type: application/sdp

   ...Session Description Protocol (SDP) goes here

   --boundary1

Content-Type: application/pidf+xml
Content-ID: <target123@atlanta.example.com>
<?xml version="1.0" encoding="UTF-8"?>
<presence
       xmlns="urn:ietf:params:xml:ns:pidf"
       xmlns:dm="urn:ietf:params:xml:ns:pidf:data-model"
       xmlns:gp="urn:ietf:params:xml:ns:pidf:geopriv10"
       xmlns:dyn="urn:ietf:params:xml:ns:pidf:geopriv10:dynamic"
       xmlns:gml="http://www.opengis.net/gml"
       xmlns:gs="http://www.opengis.net/pidflo/1.0"
       entity="sip:+13145551111@example.com">
       <dm:device id="123">
           <gp:geopriv>
               <gp:location-info>
                   <gml:Point srsName="urn:ogc:def:crs:EPSG::4326">
                      <gml:pos>-34.407 150.883</gml:pos>
                   </gml:Point>
                    <dyn:Dynamic>
                       <dyn:heading>278</dyn:heading>
					   <dyn:direction><dyn:direction>
                    </dyn:Dynamic>
               </gp:location-info>
               <gp:usage-rules/>
               <method>gps</method>
           </gp:geopriv>
           <timestamp>2012-04-5T10:18:29Z</timestamp>
           <dm:deviceID>1M8GDM9A_KP042788</dm:deviceID>
       </dm:device>
</presence>

    --boundary1

Content-Type: application/emergencyCallData.VEDS+xml
Content-ID: 1234567890@atlanta.example.com

...eCall VEDS data object goes here

    --boundary1--
]]></artwork>
        </figure>
      </t>
    </section>

    <section anchor="security" title="Security Considerations">
      <t>This document does not raise security considerations beyond those described in <xref
          target="RFC5069"/>. As with emergency service systems with end host provided location
        information there is the possibility that that location is incorrect, either intentially (in
        case of an a denial of service attack against the emergency services infrastructure) or due
        to a malfunctioning devices. The reader is referred to <xref
          target="I-D.ietf-ecrit-trustworthy-location"/> for a discussion of some of these
        vulnerabilities. </t>
    </section>

    <section anchor="iana" title="IANA Considerations">
    
    <section title="Service URN Registration"> 
    
      <t>IANA is requested to register the URN 'urn:service:sos.vehicle' under the sub-services 'sos'
        registry defined in Section 4.2 of <xref target="RFC5031"/>.</t>
      
          <t>This service identifier reaches a public safety answering
            point (PSAP), which in turn dispatches aid appropriate to the emergency related to
            accidents of vehicles. The following two sub-services are registered as well: 
            
            <list style='hanging'> 
            <t hangText="urn:service:sos.vehicle.manual"><vspace blankLines="1"/> This service URN indicates that an emergency call carrying vehicle sensor ("crash") data has been placed by an in-vehicle system (IVS) based on the manual interaction of the driver or a passenger.</t>
            <t hangText="urn:service:sos.vehicle.automatic"><vspace blankLines="1"/> This service URN indicates that an emergency call carrying vehicle sensor ("crash") data has been placed by an in-vehicle system (IVS) triggered automatically, for example, due to a crash.</t>
            </list> 
            </t>
    </section>
    
    <section title="MIME Content-type Registration for 'application/emergencyCall.VEDS+xml'">
    
					<t>This specification requests the registration of a new MIME type
   according to the procedures of RFC 4288 <xref target="RFC4288"/> and guidelines in RFC
   3023 <xref target="RFC3023"/>.</t>
					<t>
						<list style="empty"> 
							<t>MIME media type name:  application</t>

							<t>MIME subtype name:  emergencyCallData.VEDS+xml</t>

							<t>Mandatory parameters:  none</t>

							<t>Optional parameters:  charset</t>
							<t>Indicates the character encoding of enclosed XML.</t>

							<t>Encoding considerations:

      Uses XML, which can employ 8-bit characters, depending on the
      character encoding used.  
      See Section 3.2 of RFC 3023 <xref target="RFC3023"/>.
							</t>

							<t>Security considerations:

 This content type is designed to carry vehicle crash data during
      an emergency call.

      This data may contains personal information including vehicle VIN,
      location, direction, etc.  appropriate
      precautions need to be taken to limit unauthorized access,
      inappropriate disclosure to third parties, and eavesdropping of
      this information.  Please refer to Section 7 and Section 8 of
      <xref target="additional-data-draft"/> for more information.</t>

							<t>Interoperability considerations:  None</t>

							<t>Published specification: <xref target="VEDS"/></t>

							<t>Applications which use this media type:

      Emergency Services
							</t>

							<t>Additional information: None</t>

     <t> Magic Number:  None</t>

    <t>  File Extension:  .xml</t>

    <t>  Macintosh file type code:  'TEXT'</t>

							<t>Person and email address for further information:
      Hannes Tschofenig, Hannes.Tschofenig@gmx.net
							</t>

							<t>Intended usage:  LIMITED USE</t>

							<t>Author:

      This specification is a work item of the IETF ECRIT working
      group, with mailing list address &lt;ecrit@ietf.org&gt;.
							</t>

							<t>Change controller:

      The IESG &lt;ietf@ietf.org&gt;
							</t>

						</list>
					</t>


    </section>

    <section title="Registration of the 'VEDS' entry in the Emergency Call Additional Data registry"> 
    
      <t>This specification requests IANA to add the 'VEDS' entry to the Emergency Call Additional Data registry, with a reference to this document. 
      The Emergency Call Additional Data registry has been established by <xref target="additional-data-draft"/>. </t>
         
    </section>

    </section>

    
    <section title="Contributors">
      <t>We would like to thank Ulrich Dietz for his help with earlier versions of the original version of this document.</t>
    </section>

    <section title="Acknowledgements">
      <t>We would like to thank Michael Montag, Arnoud van Wijk, Ban Al-Bakri, and Gunnar Hellstrom for their feedback.</t>
    </section>


    <section title="Changes from Previous Versions">
      <section title="Changes from -00 to -01">
        <t>
        <list style="symbols">
            <t>Now using 'EmergencyCallData' for purpose parameter values and MIME subtypes, in accordance with changes to <xref target="additional-data-draft"/></t>
            <t>Added reference to RFC 6443</t>
            <t>Fixed bug that caused Figure captions to not appear</t>
        </list>
        </t>
      </section>
    </section>

  </middle>
  <back>
    <references title="Normative References"> &RFC2119; &RFC4119;
      &RFC5491; &RFC6881;
      &RFC6442; &RFC5962;
      &RFC3023; &RFC4288;
      &RFC5031; &RFC6443;

<reference anchor="additional-data-draft">
    <front>
    <title>Additional Data related to an Emergency Call</title>
    <author initials="B" surname="Rosen" fullname="Brian Rosen">
    <organization/>
    </author>
    <author initials="H" surname="Tschofenig" fullname="Hannes Tschofenig">
    <organization/>
    </author>
    <author initials="R" surname="Marshall" fullname="Roger Marshall">
    <organization/>
    </author>
    <author initials="R" surname="Gellens" fullname="Randall Gellens">
    <organization/>
    </author>
    <author initials="J" surname="Winterbottom" fullname="James Winterbottom">
    <organization/>
    </author>
    <date month="July" day="31" year="2013"/>
    </front>
    <seriesInfo name="Internet-Draft" value="draft-ietf-ecrit-additional-data-11"/>
    <format type="TXT" target="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-additional-data-11.txt"/>
</reference>

<reference anchor="VEDS" target="http://apcointl.org/resources/aacn-and-veds/2012-07-25-19-24-06.html">
      <front>
       <title>Vehicular Emergency Data Set (VEDS) version 3</title>
       <author fullname="Advanced Automatic Crash Notification (AACN) Joint APCO/NENA Data Standardization Workgroup" initials="" surname=""> </author>
       <date year="2012" month="July"/>
      </front>
 </reference>

</references>

    <references title="Informative references"> &RFC5012; &RFC5069;
      &I-D.ietf-ecrit-trustworthy-location;
	  &RFC4481;

 <reference anchor="eCall-draft">
      <front>
       <title>Next-Generation Pan-European eCall</title>
       <author fullname="Randall Gellens" initials="RG" surname="Gellens"> </author>
       <date year="2013" month=""/>
      </front>
     </reference>

 </references>

  </back>
</rfc>
