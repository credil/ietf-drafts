<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
    <!ENTITY rfc2119 PUBLIC '' 
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml'>
]>

<rfc category="std" ipr="trust200902" docName="draft-tveretin-dispatch-l2tp-sdp-00.txt">

<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="yes"?>
<?rfc iprnotified="no" ?>
<?rfc strict="yes" ?>

    <front>
        <title abbrev="SDP+L2TP">Session Description Protocol Support for Tunnels (L2TP)</title>
        <author initials='A.' surname="Tveretin" fullname='Anton Tveretin'>
            <organization/>
			<address>
			<postal>
			 <street>ul.Dzerzhinskogo, d. 13/1, kv.34</street>
			 <city>Surgut</city>
			 <region>HMAO-Yugra</region>
			 <code>628416</code>
			 <country>RU</country>
			</postal>
			<phone>+79224149328</phone>
			<email>fas_vm@surguttel.ru</email>
			<uri>http://www.fit-rulez.narod.ru</uri>
			</address>
        </author>
        <date month="June" year="2013"/>
        <abstract><t>This document registeres new media type (application/l2tp) to be used with SDP, and clarifies procedure to be used by peers for L2TP tunnels.</t></abstract>
    </front>

    <middle>
	    <section title="Usage Scenario">
		<t>Consider the interworking between plain old analog telephone and a SIP softphone. Alice might use her analog telephone with a fax modem to call Bob, who is in an IP network with a softphone. Alice starts with a voice call, a SIP gateway handles all interworking (gateway operation is outside the scope of this specification) and routes this call to Bob. Alice sends a fax and switches back to voice; Bob receives the fax. Alice switches to data mode, uses text chat, sends a file using Zmodem, and Bob receives it. Or Bob sends a file. Now Alice starts a PPP [RFC1661] session. To maintain connectivity with Bob, a tunnel (as of L2TP <xref target="RFC2661"/>, PPTP <xref target="RFC2637"/>, IPsec <xref target="RFC2401"/>, GPRS Tunneling Protocol) is needed.</t>
		<t>The last thing is currently not standartised. This document is to fill the gap.</t>
		<t>Of course, capabilites depend on actual hardware and software at both sides (analog telephony or ISDN, and IP) and the gateway.</t>
		<t>The scenario is not the only possible. I think that "IP phones at both sides" will be even more common. This will allow them to use SIP infrastructure (including P2P) to establish virtual private networks (VPNs). </t>
		<t>This specification intentionally treats gateways exactly as native IP phones.</t>
		</section>
        <section title="Requirements notation">
            <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
            "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
            and "OPTIONAL" in this document are to be interpreted as
            described in <xref target="RFC2119"/>.</t>
        </section>
		<section title="Opening a Connection: Normal Procedure">
		<t>This specification will refer to parties as an offerer and an answerer, as in <xref target="RFC6665"/>.</t>
			<section title="The Offerer Makes an Initial Offer">
			<t>The offerer sends an initial offer or a re-offer with an "m=" line defined here. To introduce L2TP, the line is<list style="empty"><t> m=application 1 UDP l2tp</t></list></t>
			<t>The port number MUST be nonzero, although its actual value need not be honoured.</t>
			</section>
			<section title="The Answerer Accepts the Offer">
			<t>The answerer replies with a similar "m=" line, using a port number 1701. It MAY choose another port.</t>
			</section>
			<section title="Opening a Tunnel">
			<t>The offerer uses known port (from the answer), and initiates a tunnel with a usual SCCRQ message. The answerer confirmes with an SCCRP. The offerer does SCCCN, the answerer does ZLB ACK. Parties SHOULD open only one tunnel.</t>
			</section>
			<section title="Opening a Session">
			<t>The offerer starts with ICRQ, assuming the role of LAC, whether it is a native IP terminal or a gateway. Parties SHOULD open only one session.</t>
			</section>
		</section>
		<section title="Opening a Connection: Failure">
		<t>If the answerer does not recognize or does not support "application/l2tp", it replies as in <xref target="RFC6665"/>.</t>
		</section>
		<section title="Terminating Procedures">
		<t>SDP dialog and L2TP tunnel and session are loosely coupled. Thus, terminating a session does not imply closing a tunnel nor L2TP session. Parties MUST continue to operate L2TP even if SIP (or other) session terminates. They may tear down the tunnel, of course. Indeed, the party that wishes to terminate the session will do this almost simultaneously. </t>
		<t>Likewise, if L2TP tunnel stops (with StopCCN), parties are not obliged to stop the dialog. Next re-offer may trigger re-opening.</t>
		</section>
		<section title="Re-opening Procedures">
		<t>In some cases e.g. roaming, or when dynamic IP address changes, a tunnel must be reestablished. Then, a party SHOULD use the following. Break existing L2TP tunnel, then re-offer SDP with new IP address.</t>
		</section>
		<section title="IANA Considerations">
		<t>This memo registers an MIME or SDP media type:<list style="symbols">
 <t>Media type name: application</t>
 <t>Subtype name: l2tp</t>
 <t>Required parameters: none</t>
 <t>Optional parameter: none</t>
 <t>Encoding considerations: This type is only defined for transfer via RTP</t>
 <t>Security considerations: see RFC, section 8</t>
 <t>Interoperability considerations: none</t>
 <t>Pubished specification: RFC</t>
 <t>Applications which use this media type: IP telephones and softphones, and IP-PSTN gateways</t>
 <t>Additional Information: Not expected to be stored in files.</t>
 <t>Person &amp; e-mail address to contact for further information: Anton Tveretin, fas_vm@surguttel.ru</t>
 <t>Intended usage: COMMON</t>
 <t>Restrictions on usage: none</t>
 <t>Author/Change controller: The IETF</t>
</list>
		</t>
		</section>
        <section title="Security Considerations">
        <t>Due to intended usage, parties of L2TP tunnels may not have each other credentials, and so rely on external (e.g. SIP) authentication. Also, a description may be intercepted by third party.</t>
		<t>All security will be limited by a gateway, if any, rather than end-to-end.</t>
        </section>
    </middle>

    <back>
        <references title='Normative References'>&rfc2119; 
		 <?rfc include="reference.RFC.2661.xml"?>
		 <?rfc include="reference.RFC.6665.xml"?>
		 <?rfc include="reference.RFC.2637.xml"?>
		 <?rfc include="reference.RFC.2401.xml"?>
		</references>
		
    </back>

</rfc>

