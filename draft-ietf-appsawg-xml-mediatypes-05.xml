<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet type='text/xsl' href='rfc2629xslt/rfc2629toXHTML.xslt'?>
<!-- 
$Id: draft-ietf-appsawg-xml-mediatypes-05.xml,v 1.9 2013-11-19 12:00:40 ht Exp $ 
-->
<!DOCTYPE rfc SYSTEM "rfc2629xslt/rfc2629.dtd" [
<!ENTITY rfc.number "XXXX">
<!ENTITY % TEXT "#PCDATA|ed:del|ed:ins|ed:replace">
<!ENTITY % slug "ed:del|ed:ins|ed:replace|">
<!ELEMENT ed:del ANY>
<!ELEMENT ed:ins ANY>
<!ELEMENT ed:replace (ed:del,ed:ins)>
]>
<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="yes"?>
<rfc xmlns:ed="http://greenbytes.de/2002/rfcedit" xmlns:x="http://www.w3.org/1999/xhtml" xmlns:ex="http://purl.org/net/xml2rfc/ext" category="std" ipr="trust200902" docName="draft-ietf-appsawg-xml-mediatypes-05" obsoletes="3023" updates="6839"><!-- <rfc number="????" obsoletes="3023" updates="2048" category="std" ipr="full2026" docName="draft-ietf-appsawg-xml-mediatypes-00"> --><front><title>XML Media Types</title><author initials="H. S." fullname="Henry S. Thompson" surname="Thompson"><organization>University of Edinburgh</organization><address><email>ht@inf.ed.ac.uk</email><uri>http://www.ltg.ed.ac.uk/~ht/</uri></address></author><author initials="C." fullname="Chris Lilley" surname="Lilley"><organization abbrev="W3C">World Wide Web
				Consortium</organization><address><postal><street>2004, Route des Lucioles - B.P. 93 06902</street><city>Sophia Antipolis Cedex</city><country>France</country></postal><email>chris@w3.org</email><uri>http://www.w3.org/People/chris/</uri></address></author><date month="November" year="2013" day="19"/><area>Applications</area><keyword>XML</keyword><keyword>media type</keyword><keyword>MIME</keyword><keyword>text</keyword><keyword>application</keyword><keyword>XSLT</keyword><keyword>XPath</keyword><keyword>Extensible Markup Language</keyword><abstract><t>This specification standardizes three media types -- 
application/xml, 
application/xml-external-parsed-entity, and application/xml-dtd --
for use in exchanging network entities that are related to the
Extensible Markup Language (XML) while defining
text/xml and text/xml-external-parsed-entity as aliases for the
respective application/ types.  This specification also standardizes
the '+xml' suffix for naming media types
outside of these five types when those media types represent XML MIME
entities.</t></abstract></front><middle><section title="Introduction" anchor="intro"><t>The World Wide Web Consortium has issued the
<xref target="XML">Extensible Markup Language (XML) 1.0</xref> and <xref target="XML1.1">Extensible Markup
Language (XML) 1.1</xref> specifications.
To enable the exchange of XML network entities, this specification
standardizes three media types -- application/xml,
application/xml-external-parsed-entity, and application/xml-dtd and two aliases -- text/xml and text/xml-external-parsed-entity,
as well as a naming convention for identifying XML-based MIME
media types (using '+xml').</t><t>XML has been used as a foundation for other media
types, including types in every branch of the IETF media types
tree. To facilitate the processing of such types, and in line with the
recognition in <xref target="RFC6838"/> of structured syntax name
suffixes,  a suffix of
'+xml' is described in <xref target="naming"/>. This
will allow generic XML-based tools -- browsers, editors, search engines,
and other processors -- to work with all XML-based media
types.</t><t>This specification replaces <xref target="RFC3023"/>.  Major differences 
are in the areas of alignment of charset handling for text/xml and text/xml-external-parsed-entity with application/xml, the addition of XPointer and XML Base as fragment identifiers  and base URIs, respectively, integration of the XPointer Registry and updating of many references.
</t></section><section title="Notational Conventions" anchor="conventions"><t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
"OPTIONAL" in this specification are to be interpreted as described in
<xref target="RFC2119"/>.</t><t>As defined in <xref target="RFC2781"/> (informative), the three character sets "utf-16",
"utf-16le", and "utf-16be" are used to label UTF-16 text. In this specification, 
"the UTF-16 family" refers to those three character sets. By contrast, the phrases
"utf-16" or UTF-16 in this specification refer specifically to the single charset
"utf-16".</t><t>As sometimes happens between two
communities, both MIME and XML have defined the term entity, with
different meanings. Section 2.4 of <xref target="RFC2045"/>
says:</t><t>
				<list style="empty"><t>"The term 'entity' refers specifically to the MIME-defined header
fields and contents of either a message or one of the parts in the
body of a multipart entity."</t></list>
			</t><t>Section 4 of <xref target="XML"/>
says:</t><t>
				<list style="empty"><t>"An XML document may consist of one or many storage units. These are called entities; they all have content and are all (except for the document entity and the external DTD subset) identified by entity name".</t></list>
			</t><t>In this specification, "XML MIME entity" is defined as the latter (an XML entity) encapsulated
in the former (a MIME entity).</t><t>Furthermore, XML provides for the naming and referencing of entities
for purposes of inclusion and/or substitution.  In this specification
"XML-entity declaration/reference/..." is used to avoid confusion when
referring to such cases.</t></section><section title="XML Media Types" anchor="registrations"><t>
</t><t anchor="xml_entities">Registration information for 
media types for use
with XML MIME entities is described in
the sections below.  Within the XML specification, such entities can be classified
into four types. In the XML terminology, they are called "document
entities", "external DTD subsets", "external parsed entities", and
"external parameter entities". 

Appropriate usage for the types
registered below is as follows:
 <list style="hanging"><t hangText="document entities">The media types 
application/xml or text/xml MAY be used.</t><t hangText="external DTD subsets">The media type application/xml-dtd SHOULD be used.  The media types application/xml and text/xml MUST NOT be used.</t><t hangText="external parsed entities">The media types application/xml-external-parsed-entity or
text/xml-external-parsed-entity SHOULD be used.    The media types
application/xml and text/xml MUST NOT be used unless the parsed entities are also well-formed
"document entities" and are referenced as such.</t><t hangText="external parameter entities">The media type application/xml-dtd
SHOULD be used.  The media types application/xml and text/xml MUST NOT be used.</t></list>

</t><t>
  <list style="empty"><t>Note that <xref target="RFC3023"/> (which this specification obsoletes) recommended
the use of text/xml and text/xml-external-parsed-entity for 
document entities and external parsed entities, respectively,
but described charset handling which differed from common implementation practice.
These media types are still commonly used,
and this specification aligns the charset handling with industry practice.</t><t>Note that <xref target="RFC2376"/> (which is obsolete) allowed
application/xml and text/xml to be used for any of the four types, although 
  in practice it is likely to have been rare.</t></list>
 </t><t>Neither external DTD subsets nor external parameter entities
parse as XML documents, and while some XML document entities may
be used as external parsed entities and vice versa, there are
many cases where the two are not interchangeable. XML also has
unparsed entities, internal parsed entities, and internal
parameter entities, but they are not XML MIME entities.</t><t>

Compared to <xref target="RFC2376"/> or <xref target="RFC3023"/>, 
this specification alters the charset handling of text/xml and
text/xml-external-parsed-entity, treating them no differently from the
respective application/ types, however application/xml and
application/xml-external-parsed-entity are still RECOMMENDED, to avoid possible
confusion based on the earlier distinction. The former confusion around the question of
default character sets for the text/xml... types has been resolved by <xref target="HTTPbis"/> changing
  <xref target="RFC2616"/> by removing the ISO-8859-1 default and not defining any
  default at all, as well as <xref target="RFC6657"/> updating <xref target="RFC2046"/> to
remove the US-ASCII default.  See <xref target="charset"/> for the now-unified approach to
the charset parameter which results.
</t><!--			<t>
				<list style="empty">
					<t>NOTE: Users are in general not used to text containing
tags such as &lt;price&gt;, and often find such tags quite disorienting or annoying.
If one is not sure, the conservative principle would suggest using application/*
instead of text/* so as not to put information in front of users that they will quite
likely not understand.</t>
				</list>
			</t>
--><t>XML provides a general framework for defining sequences of
structured data. It
is often appropriate to define new
media types that use XML but define a specific application of
XML, due to domain-specific display, editing, security considerations or
runtime information. Furthermore, such media types may allow only UTF-8 and/or
 UTF-16 and prohibit other character sets. This specification does not prohibit such media
types and in fact expects them to proliferate. However, developers of
such media types are RECOMMENDED to use this specification as a basis for their registration.
			See <xref target="naming"/> for more detailed recommendations on using the '+xml' suffix for registration of such media types.</t><t>An XML document labeled as application/xml or text/xml, or with a '+xml' media type, might contain
namespace declarations, stylesheet-linking processing instructions (PIs), schema information,
or other declarations that might be used to suggest how the document
is to be processed. For example, a document might have the XHTML
namespace and a reference to a CSS stylesheet. Such a document might
be handled by applications that would use this information to dispatch the document
for appropriate processing.</t><section title="Application/xml Registration" anchor="applicationxml"><t>
					<list style="hanging"><t hangText="Type name:">application</t><t hangText="Subtype name:">xml</t><t hangText="Required parameters:">none</t><t hangText="Optional parameters:">charset</t></list>
					<list style="empty"><t>See <xref target="charset"/>.</t></list>
					<list style="hanging"><t hangText="Encoding considerations:">Depending on the charset encoding used, XML MIME
entities can consist of 7bit, 8bit or binary data <xref target="RFC6838"/>.
For 7-bit transports, 7bit data, for example data with charset encoding
US-ASCII, does not require content-transfer-encoding, but 8bit or binary data, for example data with charset encoding UTF-8 or UTF-16, MUST be content-transfer-encoded
in quoted-printable or base64. For 8-bit clean transport
(e.g. <ed:del><xref target="RFC6152">8BITMIME</xref>,
ESMTP</ed:del><ed:ins><xref target="RFC6152">8BITMIME ESMTP</xref></ed:ins> or <xref target="RFC3977">NNTP</xref>), 7bit or 8bit data, for example data with charset encoding UTF-8 or US-ASCII, does not require content-transfer-encoding, but
binary data, for example data with a charset encoding from the UTF-16 family, MUST be content-transfer-encoded in base64. For binary clean transports (e.g.
<ed:ins><xref target="RFC3030">BINARY ESMTP</xref></ed:ins> or <ed:del><xref target="RFC2616">HTTP</xref></ed:del><ed:ins><xref target="HTTPbis">HTTP</xref></ed:ins>), no content-transfer-encoding is
necessary (or even possible, in the case of HTTP) for 7bit, 8bit or binary data.</t><t hangText="Security considerations:">See <xref target="security"/>.
</t><t hangText="Interoperability considerations:">XML has proven
to be interoperable across both generic and task-specific applications and for
import and export from multiple XML authoring and editing tools. 
Validating processors provide maximum interoperability.  Although non-validating processors may be more efficient,
they are not required to handle all features of XML.  For further
information, see sub-section 2.9 "Standalone Document Declaration" and
section 5 "Conformance" of <xref target="XML"/> .</t><t hangText="Published specification:">
							<xref target="XML">Extensible Markup Language (XML) 1.0 (Fifth
Edition)</xref> or subsequent editions or versions thereof.</t><t hangText="Applications that use this media type:">XML is device-, platform-, and vendor-neutral and is
supported by a wide range of generic XML tools
(editors, parsers, Web agents, ...), generic and task-specific applications.</t><t hangText="Additional information:">							<list style="hanging"><t hangText="Magic number(s):">None.</t></list>
							<list style="empty"><t>Although no byte sequences can be counted on to always be
present, XML MIME entities in ASCII-compatible
character sets
(including UTF-8) often begin with hexadecimal 3C 3F 78 6D 6C
("&lt;?xml"), and those in UTF-16 often begin with hexadecimal
FE FF 00 3C 00 3F 00 78 00 6D 00 6C or FF FE 3C 00 3F 00 78 00 6D 00 6C 00
(the Byte Order Mark (BOM) followed by "&lt;?xml"). For more
information, see Appendix F of 
<xref target="XML"/>.</t></list>
							<list style="hanging"><t hangText="File extension(s):">.xml</t><t hangText="Macintosh File Type Code(s):">"TEXT"</t></list>
       <list style="hanging"><t hangText="Base URI:">See <xref target="xbu"/></t></list>
						</t><t hangText="Person and email address for further information:">
							
       See Authors' Addresses section
						</t><t hangText="Intended usage:">COMMON</t><t hangText="Author:">See Authors' Addresses section</t><t hangText="Change controller:">The XML specification
is a work product of the World Wide Web Consortium's XML Core Working
Group.<ed:ins>  The W3C has change control over this specification.</ed:ins>
						</t></list>
				</t></section><section title="Text/xml Registration" anchor="textxml"><t>text/xml is an alias for application/xml, as defined in <xref target="applicationxml"/> above.</t></section><section title="Application/xml-external-parsed-entity Registration" anchor="appxepe"><t>
					<list style="hanging"><t hangText="Type name:">application</t><t hangText="Subtype name:">xml-external-parsed-entity</t><t hangText="Required parameters:">none</t><t hangText="Optional parameters:">charset</t></list>
					<list style="empty"><t>See <xref target="charset"/>.</t></list>
					<list style="hanging"><t hangText="Encoding considerations:">Same as application/xml as
described in <xref target="applicationxml"/>.</t><t hangText="Security considerations:">See <xref target="security"/>.</t><t hangText="Interoperability considerations:">XML external parsed entities are as interoperable as XML
documents, though they have a less tightly constrained
structure and therefore need to be referenced by XML documents for
proper handling by XML processors. Similarly, XML documents
cannot be reliably used as external parsed entities because
external parsed entities are prohibited from having
standalone document declarations or DTDs. Identifying
XML external parsed entities with their own content type should
enhance interoperability of both XML documents and XML external
parsed entities.</t><t hangText="Published specification:">Same as application/xml as
described in <xref target="applicationxml"/>.</t><t hangText="Applications which use this media type:">Same as application/xml as
described in <xref target="applicationxml"/>.</t><t hangText="Additional information:">
							<list style="hanging"><t hangText="Magic number(s):">Same as application/xml as
described in <xref target="applicationxml"/>.</t><t hangText="File extension(s):">.xml or .ent</t><t hangText="Macintosh File Type Code(s):">"TEXT"</t></list>
       <list style="hanging"><t hangText="Base URI:">See <xref target="xbu"/></t></list>
						</t><t hangText="Person and email address for further information:">See Authors' Addresses section.</t><t hangText="Intended usage:">COMMON</t><t hangText="Author:">See Authors' Addresses section.</t><t hangText="Change controller:">The XML specification
is a work product of the World Wide Web Consortium's XML Core Working
Group.<ed:ins>  The W3C has change control over this specification.</ed:ins>
						</t></list>
				</t></section><section title="Text/xml-external-parsed-entity Registration" anchor="textepse"><t>text/xml-external-parsed-entity is an alias for application/xml-external-parsed-entity, as defined in <xref target="appxepe"/> above.</t></section><section title="Application/xml-dtd Registration"><t>
					<list style="hanging"><t hangText="Type name:">application</t><t hangText="Subtype name:">xml-dtd</t><t hangText="Required parameters:">none</t><t hangText="Optional parameters:">charset</t></list>
					<list style="empty"><t>See <xref target="charset"/>.</t></list>
					<list style="hanging"><t hangText="Encoding considerations:">Same as <xref target="applicationxml"/>.</t><t hangText="Security considerations:">See <xref target="security"/>.</t><t hangText="Interoperability considerations:">XML DTDs have
proven to be interoperable by DTD authoring
tools and XML validators, among others.</t><!-- Note, however, that some XML processors do not 
read external DTD subsets or external parameter entities.
Thus, interoperability is not guaranteed. --><t hangText="Published specification:">Same as application/xml as
described in <xref target="applicationxml"/>.</t><t hangText="Applications which use this media type:">DTD authoring tools handle external DTD subsets as well as
external parameter entities. XML validators may also access
external DTD subsets and external parameter entities.</t><t hangText="Additional information:">
							<list style="hanging"><t hangText="Magic number(s):">Same as application/xml as
described in <xref target="applicationxml"/>.</t><t hangText="File extension(s):">.dtd or .mod</t><t hangText="Macintosh File Type Code(s):">"TEXT"</t></list>
						</t><t hangText="Person and email address for further information:">See Authors' Addresses section.</t><t hangText="Intended usage:">COMMON</t><t hangText="Author:">See Authors' Addresses section.</t><t hangText="Change controller:">The XML specification
is a work product of the World Wide Web Consortium's XML Core Working Group.<ed:ins>  The W3C has change control over this specification.</ed:ins>
						</t></list>
				</t></section><section title="Charset considerations" anchor="charset"><t>As many as three distinct sources of information about character
encoding may be present for an XML MIME entity: a charset parameter, a
Byte Order Mark (BOM -- see <xref target="bom"/> below) and an XML encoding
declaration (see Section 4.3.3 of <xref target="XML"/>).  Ensuring consistency among
these sources requires coordination between entity authors and MIME
agents (that is, processes which package, transfer, deliver and/or
receive MIME entities).  Some MIME agents will be what we will call
"XML-aware", that is, capable of processing XML MIME entities and
detecting the XML encoding declaration (or its absence).  Others will
not be XML-aware, and thus cannot know anything about the XML encoding
declaration.  Some MIME agents, such as proxies and transcoders, both
consume and produce MIME entities.</t>
<t>XML-aware MIME producers SHOULD supply a charset parameter and/or an
appropriate BOM with non-UTF-8-encoded XML MIME entities which lack an
encoding declaration, and SHOULD remove or correct an encoding
declaration which is known to be incorrect (for example, as a result
of transcoding).</t>
<t>XML-unaware MIME producers MUST NOT supply a charset parameter with an
XML MIME entity unless the entity's character encoding is reliably
known.</t>
<t>XML MIME producers are RECOMMENDED to provide means for XML MIME
entity authors to control the supply of charset parameters for their
entities, for example by enabling user-level configuration of
filename-to-Content-Type-header mappings on a file-by-file or suffix
basis.</t>
<t>For XML MIME consumers, the question of priority arises in cases when
the available character encoding information is not consistent.
Again, we must distinguish betweeen XML-aware and XML-unaware
processors.</t>
<t>When a charset parameter is specified for an XML MIME entity, then
regardless of whether or not the entity contains in-band encoding
information, that is, either a <xref target="bom">BOM</xref> or an XML encoding
declaration or both, or none, the normative component of the [XML]
specification leaves the question open as to how to determine the
encoding with which to attempt to process the entity.  In particular,
in the case where there is in-band information and it conflicts with
the charset parameter, the <xref target="XML"/> specification does not specify which
should be taken to be authoritative. In its (non-normative) Appendix F it defers to this specification:</t>
     <ex:blockquote><t>[T]he preferred method of handling conflict should be specified as part of the higher-level protocol used to deliver XML. In particular, please refer to [IETF RFC 3023] or its successor&hellip;</t></ex:blockquote>
     <t>Accordingly, to conform with deployed processors and content and to
avoid conflicting with this or other normative specifications, this
specification sets the priority as follows:</t>
     <t>All consumers SHOULD treat a <xref target="bom">BOM</xref> as
authoritative if it is present in an XML MIME entity.  In the absence of a
<xref target="bom">BOM</xref>, all consumers SHOULD treat the charset
parameter as authoritative if it is present.  For XML-aware consumers, note that Section 4.3.3 of the <xref target="XML"/> specification does <spanx>not</spanx> make it an error for the charset parameter and the XML encoding declaration (or the UTF-8 default in
the absence of encoding declaration and BOM) to be inconsistent,
although such processors might choose to issue a warning in this case.</t>
     <t>When MIME producers conform to the requirements on them stated above,
such inconsistencies will not arise---this statement of priorities
only has practical impact in the case of non-conforming XML MIME
entities.</t>
     <t>If an XML MIME entity is received where the charset parameter is
omitted, no information is being provided about the charset by the
MIME Content-Type header.  XML-aware processors MUST follow the
requirements in section 4.3.3 of <xref target="XML"/> that directly address this
case.  XML-unaware MIME processors SHOULD NOT assume a default charset
in this case.</t>
    </section></section><section title="The Byte Order Mark (BOM) and Charset Conversions" anchor="bom"><t>Section 4.3.3 of <xref target="XML"/>
 specifies that XML MIME entities in
 the charset "utf-16" MUST begin with a byte order mark (BOM), which
 is a hexadecimal octet sequence 0xFE 0xFF (or 0xFF 0xFE, depending
 on <ed:del>endian</ed:del><ed:ins>endianness</ed:ins>). The XML Recommendation further states that the BOM is
 an encoding signature, and is not part of either the markup or the
 character data of the XML document.</t><t>Due to the presence of the BOM, applications that convert XML from "utf-16"
 to an encoding other than "utf-8" MUST strip the BOM before
 conversion. Similarly, when converting from another encoding into
 "utf-16", the BOM MUST be added after conversion is complete unless the
original encoding was "utf-8" and a BOM was already present, in which case it
will have been transcoded into a "utf-16" BOM already.</t><t>Section 4.3.3 of <xref target="XML"/> also allows for XML MIME entities in
 the charset "utf-8" to begin with a byte order mark (BOM), which
 is a hexadecimal octet sequence 0xEF 0xBB 0xBF, also defined to be an encoding signature, and not part of either the markup or the character data of the XML document.</t>
   <t>Applications that convert XML from "utf-8"
 to an encoding other than "utf-16" MUST strip the BOM, if present, before
 conversion.  Applications which convert XML into "utf-8" SHOULD add a BOM
after conversion is complete.</t><t>In addition to the charset "utf-16", <xref target="RFC2781"/> introduces "utf-16le" (little endian)
and "utf-16be" (big endian) as well. The BOM is prohibited for these
character sets. When an XML MIME entity is encoded in "utf-16le" or
"utf-16be", it MUST NOT begin with the BOM but SHOULD contain an
in-band XML encoding declaration. Conversion from "utf-16"or "utf-8" to "utf-16be" or
"utf-16le" and conversion in the other direction MUST strip or add the
appropriate BOM,
respectively.</t></section><section title="Fragment Identifiers" anchor="frag"><t>Uniform Resource Identifiers (URIs)
can contain fragment identifiers (see
Section 3.5 of <xref target="RFC3986"/>).  Specifying the syntax and semantics of
fragment identifiers is devolved by <xref target="RFC3986"/> to the appropriate
media type registration.
</t><t>The syntax and semantics of fragment identifiers for the
	XML media types defined in this specification are based on the <xref target="XPointerFramework"/> W3C
	Recommendation.  It allows simple names, and more complex
	constructions based on named schemes.  When the syntax of a fragment
	identifier part of any URI or IRI with a retrieved media type governed
	by this specification conforms to the syntax specified in <xref target="XPointerFramework"/>, conforming applications MUST
interpret such
	fragment identifiers as designating whatever is
specified by the
<xref target="XPointerFramework"/> together with any other specifications governing 
the XPointer schemes used in those identifiers which the applications support. Conforming
	applications MUST support the 'element' scheme as defined in
	<xref target="XPointerElement"/>, but need not support other schemes.</t><t>If an
XPointer error is reported in the attempt to process the part, this
specification does not define an interpretation for the part.</t><t>A  <xref target="XPtrReg">registry 
	of XPointer schemes</xref> is maintained at the W3C. 
	Document
authors SHOULD NOT use unregistered schemes.  Scheme authors SHOULD register
their schemes (<xref target="XPtrRegPolicy"/> describes requirements
and procedures for doing so).</t><t>See <xref target="referencing"/> for additional
requirements which apply when an XML-based media type follows the naming convention
	'+xml'.
</t><t>If <xref target="XPointerFramework"/> and <xref target="XPointerElement"/> are inappropriate for some XML-based media
type, it SHOULD NOT follow the naming convention '+xml'.</t><t>When a URI has a fragment identifier, it is encoded by a limited
subset of the repertoire of US-ASCII <xref target="ASCII"/>
characters, as defined in <xref target="RFC3986"/>.</t></section><section title="The Base URI" anchor="xbu"><t>Section 5.1 of <xref target="RFC3986"/>
specifies that the semantics of a relative URI
reference embedded in a MIME entity is dependent on the base
URI. The base URI is established by (1) the base URI embedded in content, 
(2) the base URI from the encapsulating entity,
(3) the base URI from the Retrieval URI, or 
(4) the default base URI, in order of precedence. <xref target="RFC3986"/> further specifies that the
mechanism for embedding the base URI is dependent on the media
type.</t><t>This specification accordingly provides the following media type dependent mechanism for embedding the base URI
in a MIME entity of type application/xml, text/xml,
application/xml-external-parsed-entity or text/xml-external-parsed-entity: An XML MIME entity MAY use the xml:base attribute,
as described in detail in <xref target="XMLBase"/>, to establish a
base URI for that entity.</t><t>Note that the base URI itself might be embedded in a different MIME
entity, since the default value for the xml:base attribute can be
specified in an external DTD subset or external parameter entity. 
Since conforming XML processors need not always read and process external entities, 
the effect of such an external default is uncertain and therefore its use is
NOT RECOMMENDED.</t></section><section title="XML Versions" anchor="xmlVersions"><t>application/xml, application/xml-external-parsed-entity, and
application/xml-dtd, text/xml and text/xml-external-parsed-entity are to be
used with <xref target="XML"/>.   In all examples
        herein where 
        version="1.0" is shown, it is understood that
        version="1.1" might also appear, providing the
        content does indeed conform to <xref target="XML1.1"/>.</t><t>The normative requirement of this specification upon XML documents
and processors
is to follow the requirements of 
<xref target="XML"/>, section 4.3.3. Except for minor clarifications, that
section is substantially identical from the first edition to the current (5th)
edition of XML 1.0, and for XML 1.1 1st or 2nd edition <xref target="XML1.1"/>.  Therefore, references herein to <xref target="XML"/> may be interpreted as referencing any existing version or edition of XML, or any subsequent
edition or version which makes no incompatible changes to that
section.  </t><t>Specifications and recommendations based on or
        referring to this RFC SHOULD indicate any
        limitations on the particular versions or editions of XML
        to be used.</t></section><section title="A Naming Convention for XML-Based Media Types" anchor="naming"><t>This section supersedes <xref target="RFC6839">the earlier registration
of the '+xml' suffix</xref>.</t><t>This specification recommends the use of a naming convention (a
suffix of '+xml') for identifying XML-based media types,
in line with the
recognition in <xref target="RFC6838"/> of structured syntax name
suffixes. This allows the
use of generic XML processors and technologies on a wide variety
of different XML document types at a minimum cost, using existing
frameworks for media type registration.</t><t>When a new media type is introduced for an XML-based format,
the name of the media type SHOULD end with '+xml' unless generic XML
processing is in some way inappropriate for documents of the new type. This
convention will allow applications that can process XML
generically to detect that the MIME entity is supposed to be an
XML document, verify this assumption by invoking some XML
processor, and then process the XML document accordingly.
Applications may match for types that represent XML MIME entities by
comparing the subtype to the pattern '*/*+xml'.  (However note that 4 of
the 5 media types defined in this specification -- text/xml,
application/xml, text/xml-external-parsed-entity, and
application/xml-external-parsed-entity -- also represent XML MIME entities
while not conforming to the '*/*+xml' pattern.)</t><t>
				<list style="empty"><t>NOTE: Section  
5.3.2<xref target="HTTPbis">HTTPbis</xref>
does not support Accept headers of the form "Accept: */*+xml"
and so this header MUST NOT be used in this way.</t></list>
			</t><t>Media types following the naming convention '+xml' SHOULD introduce
the charset parameter for consistency, since XML-generic processing
applies the same program for any such media type.  However, there are
some cases that the charset parameter need not be introduced.  For
example:</t><t><list style="empty"><t>When an XML-based media type is restricted to UTF-8, it is not
necessary to introduce the charset parameter.  "UTF-8 only" is a
generic principle and UTF-8 is the default of XML.</t><t>When an XML-based media type is restricted to UTF-8 and UTF-16, it
might not be unreasonable to omit the charset parameter.  Neither
UTF-8 nor UTF-16 require in-band XML encoding declarations.</t></list>
</t><t>XML generic processing is not always appropriate for
XML-based media types. For example, authors of some such media
types may wish that the types remain entirely opaque except to
applications that are specifically designed to deal with that
media type. By NOT following the naming convention '+xml', such
media types can avoid XML-generic processing. Since generic
processing will be useful in many cases, however -- including in
some situations that are difficult to predict ahead of time -- the '+xml' convention is to
be preferred
unless there is some particularly compelling reason not to.</t><t>The registration process for specific '+xml' media types is described in
<xref target="RFC6838"/>.
The registrar for the IETF tree will encourage new XML-based
media type registrations in the IETF tree to follow this
guideline. Registrars for other trees SHOULD follow this
convention in order to ensure maximum interoperability of their
XML-based documents. Similarly, media subtypes that do not
represent XML MIME entities MUST NOT be allowed to register with a
'+xml' suffix.</t>
                                  <ed:ins><t>In addition to the changes described
above, the change controller has been changed to be the World Wide Web Consortium (W3C).</t></ed:ins>
                                  <section title="Referencing" anchor="referencing"><t>Registrations for new XML-based media types under top-level types SHOULD, in specifying the charset parameter and encoding considerations, define them as: "Same as [charset parameter / encoding considerations] of application/xml as specified in RFC XXXX."</t><t>Enabling the charset parameter is RECOMMENDED, since
this information can be used by XML processors to determine
authoritatively the charset of the XML MIME entity in the absence of a BOM.    If there are some reasons not to follow this advice, they SHOULD be included as part of the registration.  As shown above, two such reasons are "UTF-8 only" or "UTF-8 or UTF-16 only".</t><t>These registrations SHOULD specify that the XML-based media type being registered has all of the security considerations described in RFC XXXX plus any additional considerations specific to that media type.</t><t>These registrations SHOULD also make reference to RFC XXXX in specifying magic numbers, base URIs, and use of the BOM.</t><t>These registrations MAY reference the application/xml registration in RFC XXXX in specifying interoperability considerations, if these considerations are not overridden by issues specific to that media type.</t></section><section title="+xml Structured Syntax Suffix Registration"><t>
					<list style="hanging"><t hangText="Name:">Extensible Markup Language (XML)</t><t hangText="+suffix:">+xml</t><t hangText="Reference:">This specification</t></list>
					<list style="hanging"><t hangText="Encoding considerations:">Same as <xref target="applicationxml"/>.</t><t hangText="Fragment identifier considerations:">Registrations which use this '+xml' convention MUST also make reference to RFC
XXXX, specifically <xref target="frag"/>, in specifying fragment identifier syntax and semantics, and they MAY
	restrict the syntax to a specified subset of schemes, except that they MUST
NOT disallow
	barenames or 'element' scheme pointers. They MAY further require support for other
	registered schemes.  They also MAY
add additional syntax (which MUST NOT overlap with <xref target="XPointerFramework"/>
syntax) together with associated semantics, and MAY add additional semantics
for barename XPointers which, as provided for in <xref target="frag"/>,
will only apply when this specification does not define an interpretation.</t><t><list style="empty"><t>In practice these constraints imply that for a fragment identifier
addressed to an instance of a specific
      "xxx/yyy+xml" type, there are three cases:
        <list><t>For fragment identifiers matching the syntax defined in
<xref target="XPointerFramework"/>, where the fragment identifier
         resolves per the rules specified there, then process as specified there;</t><t>For fragment identifiers matching the syntax defined in <xref target="XPointerFramework"/>, where the fragment identifier does
         <spanx>not</spanx> resolve per the rules specified there, then process as specified in
         "xxx/yyy+xml";</t><t>For fragment identifiers <spanx>not</spanx> matching the syntax defined in <xref target="XPointerFramework"/>, then process as specified in
         "xxx/yyy+xml".  A fragment identifier of the form "xywh=160,120,320,240", as
defined in <xref target="MediaFrags"/>, which might be used in a URI for an
XML-encoded image, would fall in this category.</t></list></t></list></t><t hangText="Interoperability considerations:">Same as <xref target="applicationxml"/>.  See above, and also <xref target="charset"/>, for guidelines on the use of the 'charset' parameter.</t><t hangText="Security considerations:">See <xref target="security"/>.</t><t hangText="Contact:">See Authors' Addresses section.</t><t hangText="Author:">See Authors' Addresses section.</t><t hangText="Change controller:">The XML specification
is a work product of the World Wide Web Consortium's XML Core Working 
Group.<ed:ins>  The W3C has change control over this specification.</ed:ins></t></list>
				</t></section></section><section title="Examples"><t>The examples below give the charset portion, if any, of the value of the MIME Content-type 
header and the XML declaration or Text declaration (which includes the encoding
declaration) inside the XML MIME entity. For UTF-16 examples, the
Byte Order Mark character appropriately UTF-16-encoded  is denoted as "{BOM}", and the XML or Text
declaration is assumed to come at the beginning of the XML MIME
entity, immediately following the encoded BOM. Note that other MIME
headers may be present, and the XML MIME entity may contain other
data in addition to the XML declaration; the examples focus on
the Content-type header and the encoding declaration for
clarity.</t><t>All the examples below apply to all five media types declared
above in <xref target="registrations"/>, as well as to any media types declared
using the '+xml' convention (with the exception of the examples
involving the charset parameter for any such media types which do not enable
its use).  See the <xref target="xml_entities">XML
MIME entities table</xref> for discussion of which
types are appropriate for which varieties of XML MIME entities.</t><t>This section is non-normative.  In particular, note that all
<xref target="RFC2119"/> language herein reproduces or summarizes the consequences of normative
statements already made above, and
has no independent normative
force, and accordingly does not appear in uppercase.</t><section title="UTF-8 Charset" anchor="utf8"><t>Content-type charset: charset="utf-8"</t><t>&lt;?xml version="1.0" encoding="utf-8"?&gt;</t><t>This is the recommended encoding for use with all the media types defined in
this specification.
Since the charset parameter is provided and there is no BOM, both MIME and XML
processors must treat the enclosed entity as UTF-8 encoded.</t><t>If sent using a 7-bit transport (e.g. <xref target="RFC5321">SMTP </xref>), the XML MIME entity
must use a content-transfer-encoding of either quoted-printable
or base64. For an 8-bit clean transport (e.g. <ed:del>8BITMIME,
ESMTP</ed:del><ed:ins>8BITMIME ESMTP</ed:ins>
or NNTP), or a binary clean transport (e.g. <ed:ins>BINARY ESMTP or </ed:ins>HTTP), no
content-transfer-encoding is necessary (or even possible, in the case of HTTP).</t></section><section title="UTF-16 Charset" anchor="utf16"><t>Content-type charset:  charset="utf-16"</t><t>{BOM}&lt;?xml version="1.0" encoding="utf-16"?&gt;</t><t>or</t><t>{BOM}&lt;?xml version="1.0"?&gt;</t><t>For application/... cases, if  sent using a 7-bit transport (e.g. SMTP) or an 8-bit
clean transport (e.g. <ed:del>8BITMIME,
ESMTP</ed:del><ed:ins>8BITMIME ESMTP</ed:ins> or NNTP), the XML MIME
entity must be encoded in quoted-printable or base64; for a
binary clean transport (e.g. <ed:ins>BINARY ESMTP or </ed:ins>HTTP), no
content-transfer-encoding is necessary (or even possible, in the case of HTTP).</t><t anchor="tx16">
As described in <xref target="RFC2781"/>,
the UTF-16 family must not be used with media types under the 
top-level type "text" except over HTTP or HTTPS (see section <ed:del>19.4.2 of 
<xref target="RFC2616"/></ed:del><ed:ins>A.2 of <xref target="HTTPbis">HTTP</xref></ed:ins>
for details).  Hence this example is only possible in text/... cases when the XML MIME entity is
transmitted via HTTP or HTTPS, which use a MIME-like mechanism and are
binary-clean protocols, hence do not perform CR and LF
transformations and allow NUL octets.  Since HTTP is binary clean, no content-transfer-encoding is
necessary (or even possible).</t></section><section title="Omitted Charset and 8-bit MIME entity"><t>Content-type charset: [none]</t><t>&lt;?xml version="1.0" encoding="iso-8859-1"?&gt;</t><t>Since the charset parameter is not provided in the Content-Type header and there is no BOM, XML
					processors must treat the  "iso-8859-1" encoding as authoritative. 
XML-unaware MIME processors should make no assumptions about the charset of the
XML MIME entity.</t></section><section title="Omitted Charset and 16-bit MIME entity"><t>Content-type charset: [none]</t><t>{BOM}&lt;?xml version="1.0" encoding="utf-16"?&gt;</t><t>or</t><t>{BOM}&lt;?xml version="1.0"?&gt;</t><t>This example shows a 16-bit MIME entity with no charset
parameter.  However since there is a
BOM all processors must treat the entity as UTF-16-encoded.</t><t>Omitting the charset parameter is not recommended
for application/... when used with transports other than HTTP or
HTTPS.  text/... should not
be used for 16-bit MIME with transports other than HTTP or HTTPS (see <xref target="tx16">discussion above</xref>).</t></section><section title="Omitted Charset, no Internal Encoding Declaration and UTF-8 Entity"><t>Content-type charset: [none]</t><t>&lt;?xml version='1.0'?&gt;</t><t>In this example, the charset parameter has been omitted, there is
no internal encoding declaration, and
there is no BOM. Since there is no BOM or charset parameter, the XML processor
follows the requirements in section 4.3.3, and optionally
applies the mechanism described in Appendix F (which is
non-normative) of 
<xref target="XML"/> 
to determine the charset encoding of UTF-8.
Although the XML MIME entity does
not contain an encoding declaration, the encoding
actually <spanx>is</spanx>
UTF-8, so this is still a conforming XML MIME entity.</t><t>An XML-unaware MIME processor should make no assumptions
about the charset of the XML MIME entity.</t><t>See <xref target="utf8"/> for transport-related issues for UTF-8
XML MIME entities.</t></section><section title="UTF-16BE Charset"><t>Content-type charset: charset="utf-16be"</t><t>&lt;?xml version='1.0' encoding='utf-16be'?&gt;</t><t>Observe that the BOM does not exist. Since the charset
 parameter is provided and there is no BOM, MIME and XML processors must treat the
 enclosed entity as UTF-16BE encoded.</t><t>See also the additional considerations in <xref target="utf16">the UTF-16
example</xref> above.</t></section><section title="Non-UTF Charset"><t>Content-type charset: charset="iso-2022-kr"</t><t>&lt;?xml version="1.0" encoding="iso-2022-kr"?&gt;</t><t>This example shows the use of a non-UTF charset
(in this case Hangul, but this example
is intended to cover all non-UTF-family character sets).
Since the charset parameter is provided and there is no BOM, all 
processors must treat the enclosed entity as encoded per RFC 1557.</t><t>Since ISO-2022-KR <xref target="RFC1557"/> has been defined to use only 7 bits of
data, no content-transfer-encoding is necessary with any
transport: for character sets needing 8 or more bits, considerations such as
those discussed above (<xref target="utf8"/>, <xref target="utf16"/>) would apply.</t></section><section title="Omitted Charset with Internal Encoding Declaration"><t>Content-type charset: [none]</t><t>&lt;?xml version='1.0' encoding="iso-10646-ucs-4"?&gt;</t><t>In this example, the charset parameter has been omitted, and
there is no BOM. However, the XML MIME entity does have an
encoding declaration inside the XML MIME entity that specifies
the entity's charset. Following the requirements in section
4.3.3, and optionally applying the mechanism described in
Appendix F (non-normative) of 
<xref target="XML"/>,
the XML processor determines the charset
encoding of the XML MIME entity (in this example, UCS-4).</t><t>An XML-unaware MIME processor should make no assumptions
about the charset of the XML MIME entity.</t><t>For character sets needing 8 or more bits, considerations such as
those discussed above (<xref target="utf8"/>, <xref target="utf16"/>) would apply</t></section><section title="INCONSISTENT EXAMPLE: Conflicting Charset and Internal Encoding Declaration"><t>Content-type charset: charset="iso-8859-1"</t><t>&lt;?xml version="1.0" encoding="utf-8"?&gt;</t><t>Although the charset parameter is provided in the Content-Type
header and there is no BOM and the charset
parameter differs from the XML encoding declaration, MIME and XML
processors will interoperate.
Since the charset parameter is authoritative in
the absence of a BOM, all processors will treat the enclosed entity as
iso-8859-1 encoded. That is, the "UTF-8" encoding declaration will be ignored.</t><t>Processors generating XML MIME entities
must not label conflicting charset
information between the MIME Content-Type and the
XML declaration unless they have definitive information about the 
actual encoding, for example as a result of systematic transcoding. In
particular, the addition by servers of an explicit, site-wide charset default 
has frequently lead to interoperability problems for XML documents.</t></section><section title="INCONSISTENT EXAMPLE: Conflicting Charset and BOM"><t>Content-type charset: charset="iso-8859-1"</t><t>{BOM}&lt;?xml version="1.0"?&gt;</t><t>Although the charset parameter is provided in the Content-Type
header, there is a BOM, so MIME and XML
processors may not interoperate.
Since the BOM parameter is authoritative for XML processors, they will treat
the enclosed entity as UTF-16-encoded. That is, the "iso-8859-1" charset parameter will be ignored.
XML-unaware MIME processors on the other hand may be unaware of the BOM and so treat the entity as encoded in iso-8859-1.</t><t>Processors generating XML MIME entities must not label conflicting charset
information between the MIME Content-Type and an entity-initial BOM.</t></section></section><section title="IANA Considerations"><t>As described in <xref target="naming"/>, this specification updates the
<xref target="RFC6839"/>
registration  for XML-based MIME types (the
"+xml" types).</t></section><section title="Security Considerations" anchor="security"><t>XML MIME entities contain information which may be parsed and
further processed by the recipient. These entities may
contain, and recipients may permit, explicit system level
commands to be executed while processing the data. To the extent
that a recipient application executes arbitrary command strings from within XML MIME entities,
they may be at risk. </t><t>
In general, any information stored outside of the direct control of the user -- including CSS style sheets, XSL transformations, XML-entity declarations, and DTDs -- can be a source of insecurity, by either obvious or subtle means. For example, a tiny "whiteout attack" modification made to a "master" style sheet could make words in critical locations disappear in user documents, without directly modifying the user document or the stylesheet it references.  Thus, the security of any XML document is vitally dependent on all of the documents recursively referenced by that document.</t><t>
The XML-entity lists and DTDs for <xref target="XHTML">XHTML 1.0 </xref>, for instance, are likely to be a commonly used set of information. Many developers will use and trust them, few of whom will know much about the level of security on the W3C's servers, or on any similarly trusted repository.</t><t>
The simplest attack involves adding declarations that break validation. Adding
extraneous declarations to a list of character XML-entities can effectively
"break the contract" used by documents. A tiny change that produces a fatal
error in a DTD could halt XML processing on a large scale. Extraneous
declarations are fairly obvious, but more sophisticated tricks, like changing
attributes from being optional to required, can be difficult to track down.
Perhaps the most dangerous option available to
attackers, when external DTD subsets or
external parameter entities or other externally-specified defaulting is involved,  is redefining default values for attributes: e.g. if developers have relied on defaulted attributes for security, a relatively small change might expose enormous quantities of information.</t><t>
			Apart from the structural possibilities, another option, "XML-entity spoofing,"
can be used to insert text into documents, vandalizing and perhaps conveying an
unintended message. Because XML permits multiple XML-entity
 declarations, and the first declaration takes precedence, it is possible to
insert malicious content where an XML-entity reference is used, such as by
inserting the full text of Winnie the Pooh in place of every occurrence of &amp;mdash;.</t><t>Security considerations will vary by domain of use. For
example, XML medical records will have much more stringent
privacy and security considerations than XML library metadata.
Similarly, use of XML as a parameter marshalling syntax
necessitates a case by case security review.</t><t>XML may also have some of the same security concerns as plain
text. Like plain text, XML can contain escape sequences that,
when displayed, have the potential to change the display
processor environment in ways that adversely affect subsequent
operations. Possible effects include, but are not limited to,
locking the keyboard, changing display parameters so subsequent
displayed text is unreadable, or even changing display parameters
to deliberately obscure or distort subsequent displayed material
so that its meaning is lost or altered. Display processors SHOULD
either filter such material from displayed text or else make sure
to reset all important settings after a given display operation
is complete.</t><t>Some terminal devices have keys whose output, when pressed,
can be changed by sending the display processor a character
sequence. If this is possible the display of a text object
containing such character sequences could reprogram keys to
perform some illicit or dangerous action when the key is
subsequently pressed by the user. In some cases not only can keys
be programmed, they can be triggered remotely, making it possible
for a text display operation to directly perform some unwanted
action. As such, the ability to program keys SHOULD be blocked
either by filtering or by disabling the ability to program keys
entirely.</t><t>Note that it is also possible to construct XML documents that
make use of what XML terms "[XML-]entity references"
to construct repeated expansions of
text. Recursive expansions are prohibited by 
<xref target="XML"/> 
and XML processors are required to detect them. However, even
non-recursive expansions may cause problems with the finite
computing resources of computers, if they are performed many
times.  For example, consider the case where XML-entity A consists of 100 copies of XML-entity B, which in turn consists of 100 copies of XML-entity C, and so on.</t></section></middle><back><references title="Normative References"><ed:ins><reference anchor="HTTPbis"><front><title>Hypertext Transfer Protocol (HTTP/1.1) [revised]</title><author initials="R." surname="Fielding"><organization>Adobe</organization></author><date month="September" year="2013"/></front><seriesInfo name="Internet-Draft" value="ietf-httpbis-p2-semantics"/></reference></ed:ins><reference anchor="RFC2781"><front><title>UTF-16, an encoding of ISO 10646</title><author initials="P." surname="Hoffman"><organization>Internet Mail Consortium</organization></author><author initials="F." surname="Yergeau"><organization>Alis Technologies</organization></author><date month="February" year="2000"/></front><seriesInfo name="RFC" value="2781"/></reference><reference anchor="RFC6838"><front><title>Media Type Specifications and Registration Procedures</title><author initials="N." surname="Freed" fullname="N. Freed"><organization>Oracle</organization></author><author initials="J." surname="Klensin"><organization/></author><author initials="T." surname="Hansen"><organization>AT&amp;T Laboratories</organization></author><date month="January" year="2013"/></front><seriesInfo name="BCP" value="13"/><seriesInfo name="RFC" value="6838"/></reference><reference anchor="RFC6839"><front><title>Additional Media Type Structured Syntax Suffixes</title><author initials="T." surname="Hansen"><organization>AT&amp;T Laboratories</organization></author><author initials="A." surname="Melnikov"><organization>Isode Ltd</organization></author><date month="January" year="2013"/></front><seriesInfo name="RFC" value="6839"/></reference><reference anchor="RFC6657" target="http://www.rfc-editor.org/rfc/rfc6657.txt"><front><title>Update to MIME regarding "charset" Parameter Handling
                         in Textual Media Types</title><author initials="A." surname="Melnikov" fullname="A. Melnikov"><organization>Isode Limited</organization></author><author initials="J." surname="Reschke" fullname="J. Reschke"><organization>greenbytes</organization></author><date month="July" year="2012"/></front><seriesInfo name="RFC" value="6657"/></reference><reference anchor="XML" target="http://www.w3.org/TR/2008/REC-xml-20081126/"><front><title>Extensible Markup Language (XML) 1.0 (Fifth Edition)</title><author initials="T." surname="Bray" fullname="Tim Bray"><organization>Textuality</organization></author><author initials="J." surname="Paoli" fullname="Jean Paoli"><organization>Microsoft</organization></author><author initials="C.M." surname="Sperberg-McQueen" fullname="C.M. Sperberg-McQueen"><organization>University of Illinois at
Chicago</organization></author><author initials="E." surname="Maler" fullname="Eve Maler"><organization>Sun Microsystems</organization></author><author initials="F." surname="Yergeau" fullname="Francois Yergeau"><organization/></author><date month="November" year="2008"/></front><seriesInfo name="W3C Recommendation" value="REC-xml"/><annotation>
    Latest version available at
    <eref target="http://www.w3.org/TR/xml"/>.
  </annotation></reference><reference anchor="XML1.1" target="http://www.w3.org/TR/2006/REC-xml11-20060816/"><front><title>Extensible Markup Language (XML) 1.1 (Second Edition)</title><author initials="T." surname="Bray" fullname="Tim Bray"><organization>Textuailty</organization></author><author initials="J." surname="Paoli" fullname="Jean Paoli"><organization>Microsoft</organization></author><author initials="C.M." surname="Sperberg-McQueen" fullname="C.M. Sperberg-McQueen"><organization>University of Illinois at
Chicago</organization></author><author initials="E." surname="Maler" fullname="Eve Maler"><organization>Sun Microsystems</organization></author><author initials="F." surname="Yergeau" fullname="Francois Yergeau"><organization/></author><author initials="J." surname="Cowan" fullname="John Cowan"><organization/></author><date day="29" month="September" year="2006"/></front><seriesInfo name="W3C Recommendation" value="REC-xml"/><annotation>
    Latest version available at
    <eref target="http://www.w3.org/TR/xml11/"/>.
  </annotation></reference>
<ed:del><reference anchor="RFC2616-deleted"><front><title>Hypertext Transfer Protocol -- HTTP/1.1</title><author initials="R." surname="Fielding"><organization>University of California</organization></author><author initials="J." surname="Gettys"><organization abbrev="W3C">World Wide Web
Consortium</organization></author><author initials="J." surname="Mogul"><organization>Compaq Computer Corporation</organization></author><author initials="H." surname="Nielsen"><organization abbrev="W3C">World Wide Web
Consortium</organization></author><author initials="L." surname="Masinter"><organization>Xerox PARC</organization></author><author initials="P." surname="Leach"><organization>Microsoft Corporation</organization></author><author initials="T." surname="Berners-Lee"><organization abbrev="W3C">World Wide Web
Consortium</organization></author><date month="June" year="1999"/></front><seriesInfo name="RFC" value="2616"/></reference></ed:del>
<reference anchor="RFC2119"><front><title>Key words for use in RFCs to Indicate Requirement
Levels</title><author initials="S." surname="Bradner"><organization>Harvard University</organization></author><date month="March" year="1997"/></front><seriesInfo name="BCP" value="14"/><seriesInfo name="RFC" value="2119"/></reference><reference anchor="RFC2045"><front><title>Multipurpose Internet Mail Extensions (MIME) Part One:
Format of Internet Message Bodies</title><author initials="N." surname="Freed"><organization>Innosoft International, Inc.</organization></author><author initials="N." surname="Borenstein"><organization>First Virtual Holdings</organization></author><date month="November" year="1996"/></front><seriesInfo name="RFC" value="2045"/></reference><reference anchor="RFC2046"><front><title>Multipurpose Internet Mail Extensions (MIME) Part Two:
Media Types</title><author initials="N." surname="Freed"><organization>Innosoft International, Inc.</organization></author><author initials="N." surname="Borenstein"><organization>First Virtual Holdings</organization></author><date month="November" year="1996"/></front><seriesInfo name="RFC" value="2046"/></reference><!--
			<reference anchor="RDF" target="http://www.w3.org/TR/REC-rdf-syntax/">
				<front>
					<title>Resource Description Framework (RDF) Model and Syntax
Specification</title>
					<author initials="O." surname="Lassila">
						<organization>Nokia Research Center</organization>
					</author>
					<author initials="R.R." surname="Swick">
						<organization>World Wide Web Consortium</organization>
					</author>
					<date month="February" year="1999"/>
				</front>
				<seriesInfo name="W3C Recommendation" value="REC-rdf-syntax"/>
			</reference>
--><reference anchor="XMLBase" target="http://www.w3.org/TR/2009/REC-xmlbase-20090128/"><front><title>XML Base (Second Edition)</title><author fullname="Jonathan Marsh" surname="Marsh" initials="J."><organization>Microsoft</organization></author><author fullname="Richard Tobin" surname="Tobin" initials="R."><organization>University of Edinburgh</organization></author><date year="2009" month="January" day="28"/></front><seriesInfo name="W3C Recommendation" value="REC-xmlbase-20090128"/><annotation>
    Latest version available at
    <eref target="http://www.w3.org/TR/xmlbase/"/>.
  </annotation></reference><reference anchor="XPointerElement" target="http://www.w3.org/TR/2003/REC-xptr-element-20030325/"><front><title>XPointer element() Scheme</title><author initials="P." surname="Grosso" fullname="Paul Grosso"><organization>Arbortext, Inc</organization></author><author initials="E." surname="Maler" fullname="Eve Maler"><organization>Sun Microsystems</organization></author><author initials="J." surname="Marsh" fullname="Jonathan Marsh"><organization>Microsoft</organization></author><author initials="N." surname="Walsh" fullname="Norman Walsh"><organization>Sun Microsystems</organization></author><date day="25" month="March" year="2003"/></front><seriesInfo name="W3C Recommendation" value="REC-XPointer-Element"/><annotation>
    Latest version available at
    <eref target="http://www.w3.org/TR/xptr-element/"/>.
  </annotation></reference><reference anchor="XPointerFramework" target="http://www.w3.org/TR/2003/REC-xptr-framework-20030325/"><front><title>XPointer Framework</title><author initials="P." surname="Grosso" fullname="Paul Grosso"><organization>Arbortext, Inc</organization></author><author initials="E." surname="Maler" fullname="Eve Maler"><organization>Sun Microsystems</organization></author><author initials="J." surname="Marsh" fullname="Jonathan Marsh"><organization>Microsoft</organization></author><author initials="N." surname="Walsh" fullname="Norman Walsh"><organization>Sun Microsystems</organization></author><date day="25" month="March" year="2003"/></front><seriesInfo name="W3C Recommendation" value="REC-XPointer-Framework"/><annotation>
    Latest version available at
    <eref target="http://www.w3.org/TR/xptr-framework/"/>.
  </annotation></reference><!--       <reference anchor="XPointerXmlns" target="http://www.w3.org/TR/xptr-xmlns/">
	  <front>
	    <title>XPointer xmlns() Scheme</title>
	    <author initials="S." surname="DeRose" fullname="Steven J. DeRose"><organization></organization></author>

	    <author initials="R." surname="Daniel" fullname="Ron Daniel Jr">
	      <organization></organization>
	    </author>
	    <author initials="E." surname="Maler" fullname="Eve Maler">
	      <organization>Sun Microsystems</organization>
	    </author>
	    <author initials="J." surname="Marsh" fullname="Jonathan Marsh">
	      <organization>Microsoft</organization>
	    </author>

	    <date day="25" month="March" year="2003"></date>
	  </front>
	  <seriesInfo name="W3C Recommendation" value="REC-XPointer-Xmlns"/>
        </reference>--><!--
<reference anchor="XPtr" target="http://www.w3.org/TR/xptr">
<front>
<title>XML Pointer Language (XPointer)</title>
<author initials="S." surname="DeRose">
<organization>Brown University Scholarly Technology
Group</organization>
</author>
<author initials="R." surname="Daniel Jr.">
<organization>DATAFUSION, Inc.</organization>
</author>
<author initials="E." surname="Maler">
<organization>Sun Microsystems</organization>
</author>
<date month="July" year="1999"/>
</front>
<seriesInfo name="W3C Working Draft" value="xptr"/>
</reference>
--><!--
			<reference anchor="RFC2629">
				<front>
					<title>Writing I-Ds and RFCs using XML</title>
					<author initials="M." surname="Rose">
						<organization>Invisible Worlds, Inc.</organization>
					</author>
					<date month="June" year="1999"/>
				</front>
				<seriesInfo name="RFC" value="2629"/>
			</reference>
			--><reference anchor="RFC3986"><front><title>Uniform Resource Identifiers (URI): Generic
			    Syntax.</title><author initials="T." surname="Berners-Lee" fullname="Tim Berners-Lee"><organization abbrev="W3C">World Wide Web
			      Consortium</organization></author><author initials="R." surname="Fielding" fullname="Roy T. Fielding"><organization>Day Software</organization></author><author initials="L." surname="Masinter" fullname="Larry Masinter"><organization>Adobe</organization></author><date month="January" year="2005"/></front><seriesInfo name="RFC" value="3986"/></reference>
<ed:del><reference anchor="RFC3987"><front><title>Internationalized Resource Identifiers (IRIs)</title><author initials="M." surname="Düerst" fullname="Martin Duerst"><organization abbrev="W3C">World Wide Web
Consortium</organization></author><author initials="M." surname="Suignard"><organization>Microsoft Corporation</organization></author><date month="July" year="2005"/></front><seriesInfo name="RFC" value="3987"/></reference></ed:del>
<reference anchor="XPtrReg" target="http://www.w3.org/2005/04/xpointer-schemes/"><front><title>XPointer Registry</title><author initials="D." surname="Haza&euml;l-Massieux" fullname="Dominique Haza&euml;l-Massieux"><organization>W3C</organization></author><date year="2005"/></front></reference><reference anchor="XPtrRegPolicy" target="http://www.w3.org/2005/04/xpointer-policy.html"><front><title>XPointer Scheme Name Registry Policy</title><author initials="D." surname="Haza&euml;l-Massieux" fullname="Dominique Haza&euml;l-Massieux"><organization>W3C</organization></author><date year="2005"/></front></reference></references><references title="Informative References">
<ed:ins><reference anchor="RFC2616"><front><title>Hypertext Transfer Protocol -- HTTP/1.1</title><author initials="R." surname="Fielding"><organization>University of California</organization></author><author initials="J." surname="Gettys"><organization abbrev="W3C">World Wide Web
Consortium</organization></author><author initials="J." surname="Mogul"><organization>Compaq Computer Corporation</organization></author><author initials="H." surname="Nielsen"><organization abbrev="W3C">World Wide Web
Consortium</organization></author><author initials="L." surname="Masinter"><organization>Xerox PARC</organization></author><author initials="P." surname="Leach"><organization>Microsoft Corporation</organization></author><author initials="T." surname="Berners-Lee"><organization abbrev="W3C">World Wide Web
Consortium</organization></author><date month="June" year="1999"/></front><seriesInfo name="RFC" value="2616"/></reference></ed:ins><ed:ins><reference anchor="RFC3030">
 <front>
  <title>SMTP Service Extensions for Transmission of Large and Binary MIME Messages</title>
  <author initials="G." surname="Vaudreuil"/>
  <date year="2000"/>
 </front>
 <seriesInfo name="RFC" value="3030"/>
</reference></ed:ins>
<reference anchor="RFC3977"><front><title>Network News Transfer Protocol</title><author initials="B." surname="Feather"><organization>THUS plc</organization></author><date month="October" year="2006"/></front><seriesInfo name="RFC" value="3977"/></reference><reference anchor="RFC5321"><front><title>Simple Mail Transfer Protocol</title><author initials="J." surname="Klensin"><organization>AT&amp;T Laboratories
						</organization></author><date month="October" year="2008"/></front><seriesInfo name="RFC" value="5321"/></reference><reference anchor="RFC6152"><front><title>SMTP Service Extension for 8-bit MIME Transport</title><author initials="J." surname="Klensin"><organization/></author><author initials="N." surname="Freed"><organization>Oracle</organization></author><author initials="M." surname="Rose"><organization>Dover Beach Consulting, Inc.</organization></author><author initials="D." surname="Crocker"><organization>Brandenberg InternetWorking</organization></author><date month="March" year="2011"/></front><seriesInfo name="RFC" value="6152"/></reference><reference anchor="ASCII"><front><title>Coded
                  Character Set -- 7-bit American Standard Code for
                  Information Interchange</title><author><organization>American National Standards Institute</organization></author><date year="1986"/></front><seriesInfo name="ANSI" value="X3.4"/></reference>
<ed:del><reference anchor="RFC3629"><front><title>UTF-8, a transformation format of ISO 10646</title><author initials="F." surname="Yergeau"><organization>Alis Technologies</organization></author><date month="November " year="2003"/></front><seriesInfo name="RFC" value="3629"/></reference></ed:del>
<reference anchor="TAGMIME" target="http://www.w3.org/2001/tag/2004/0430-mime"><front><title>Internet Media Type registration, consistency of use</title><author initials="T." surname="Bray" fullname="Tim Bray" role="editor"><organization>Sun Microsystems</organization></author><date year="2004" month="April"/></front></reference>
<ed:del><reference anchor="ISO8859"><front><title>ISO-8859. International Standard -- Information Processing --
8-bit Single-Byte Coded Graphic Character Sets --
Part 1: Latin alphabet No. 1, ISO-8859-1:1987</title><author><organization>ISO</organization></author><date year="1987"/></front></reference></ed:del>
<reference anchor="MediaFrags" target="http://www.w3.org/TR/2012/REC-media-frags-20120925/"><front><title>Media Fragments URI 1.0 (basic)</title><author fullname="Raphael Troncy" surname="Troncy" initials="R."/><author fullname="Erik Mannens" surname="Mannens" initials="E."/><author fullname="Silvia Pfeiffer" surname="Pfeiffer" initials="S."/><author fullname="Davy Van Deursen" surname="Van Deursen" initials="D."/><date month="September" year="2012"/></front><seriesInfo name="W3C Recommendation" value="media-frags"/><annotation>
    Latest version available at
    <eref target="http://www.w3.org/TR/media-frags/"/>.
  </annotation></reference>
<ed:del><reference anchor="HTTPbis-deleted"><front><title>Hypertext Transfer Protocol (HTTP/1.1) [revised]</title><author initials="R." surname="Fielding"><organization>Adobe</organization></author><date month="September" year="2013"/></front><seriesInfo name="Internet-Draft" value="ietf-httpbis-p2-semantics"/></reference></ed:del>
<reference anchor="XHTML" target="http://www.w3.org/TR/2000/REC-xhtml1-20000126/"><front><title>XHTML 1.0: The Extensible HyperText Markup Language</title><author initials="S." surname="Pemberton"><organization>CWI</organization></author><author surname="et al"><organization/></author><date month="December" year="1999"/></front><seriesInfo name="W3C Recommendation" value="xhtml1"/><annotation>
    Latest version available at
    <eref target="http://www.w3.org/TR/xhtml1"/>.
  </annotation></reference><reference anchor="RFC3023"><front><title>XML Media Types</title><author initials="M." fullname="MURATA Makoto (FAMILY Given)" surname="Murata"><organization>IBM Tokyo Research Laboratory</organization><address><postal><street>1623-14, Shimotsuruma</street><city>Yamato-shi</city><region>Kanagawa-ken</region><code>242-8502</code><country>Japan</country></postal><phone>+81-46-215-4678</phone><email>mmurata@trl.ibm.co.jp</email></address></author><author initials="S." fullname="Simon St.Laurent" surname="St.Laurent"><organization/><address><postal><street>1259 Dryden Road</street><city>Ithaca</city><region>New York</region><code>14850</code><country>USA</country></postal><email>simonstl@simonstl.com</email><uri>http://www.simonstl.com/</uri></address></author><author initials="D." fullname="Dan Kohn" surname="Kohn"><organization>skymoon ventures</organization><address><postal><street>3045 Park Boulevard</street><city>Palo Alto</city><region>California</region><code>94306</code><country>USA</country></postal><phone>+1-650-327-2600</phone><email>dan@dankohn.com</email><uri>http://www.dankohn.com/</uri></address></author><date month="January" year="2001"/></front><seriesInfo name="RFC" value="3023"/></reference><reference anchor="RFC1557"><front><title>Korean Character Encoding for Internet
						Messages</title><author initials="U." surname="Choi"><organization abbrev="KAIST">Korea Advanced Institute of
							Science and Technology</organization></author><author initials="K." surname="Chon"><organization/></author><author initials="H." surname="Park"><organization>Solvit Chosun Media, Inc.</organization></author><date month="December" year="1993"/></front><seriesInfo name="RFC" value="1557"/></reference>
<ed:del><reference anchor="RFC2130"><front><title>The Report of the IAB Character Set Workshop held 29 February - 1 March, 1996</title><author initials="C." surname="Weider"><organization>Microsoft Corp.</organization></author><author initials="C." surname="Cecilia Preston"><organization>Preston &amp; Lynch</organization></author><author initials="K." surname="Simonsen"><organization>DKUUG</organization></author><author initials="H." surname="Alvestrand"><organization>UNINETT</organization></author><author initials="R." surname="Atkinson"><organization>Cisco Systems</organization></author><author initials="M." surname="Crispin"><organization>University of Washington</organization></author><author initials="P." surname="Svanberg"><organization>Royal Institute of Technology</organization></author><date month="April" year="1997"/></front><seriesInfo name="RFC" value="2130"/></reference></ed:del>
<reference anchor="RFC2376"><front><title>XML Media Types</title><author initials="E." surname="Whitehead"><organization>UC Irvine</organization></author><author initials="M." surname="Murata"><organization>Fuji Xerox Info. Systems</organization></author><date month="July" year="1998"/></front><seriesInfo name="RFC" value="2376"/></reference>
<ed:del><reference anchor="RFC2703"><front><title>Protocol-independent Content Negotiation
						Framework</title><author initials="G." surname="Klyne"><organization>5GM/Content Technologies</organization></author><date month="September" year="1999"/></front><seriesInfo name="RFC" value="2703"/></reference></ed:del>
</references><section title="Why Use the '+xml' Suffix for XML-Based MIME Types?" anchor="suffix_explanation"><t><xref target="RFC3023"/> contains a detailed discussion of the (at
the time) novel use of a suffix, a practice which has since become widespread. 
Interested parties are referred to <xref target="RFC3023"/>, Appendix A.</t>
<ed:ins><t>The registration process for new '+xml' media types is described in
<xref target="RFC6838"/></t></ed:ins>
</section><section title="Changes from RFC 3023"><t>There are numerous and significant differences between this specification and
<xref target="RFC3023"/>, which it obsoletes.  This appendix summarizes the major 
differences only.</t><t>First, XPointer (<xref target="XPointerFramework"/> and <xref target="XPointerElement"/>) 
				has been added as fragment identifier syntax for 
				"application/xml", and the XPointer Registry (<xref target="XPtrReg"/>) mentioned.
Second, <xref target="XMLBase"/> has been added as a mechanism for 
specifying
base URIs.  Third, the language regarding character sets was updated to correspond to
the W3C TAG finding 
<xref target="TAGMIME">Internet Media Type registration, consistency of use</xref>.
				Fourth, many references are updated, and the existence of<ed:ins> XML
1.1</ed:ins> and relevance of
<ed:del>the spec.</ed:del><ed:ins>this specification</ed:ins> to <ed:del>XML
1.1</ed:del><ed:ins>it</ed:ins> acknowledged.  Finally, a number of
justifications and contextualizations which were appropriate when XML was new
have been removed, including the whole of the original Appendix A.
</t></section><section title="Acknowledgements"><t>MURATA Makoto (FAMILY Given) and Alexey Melnikov made early and
important contributions to the effort to revise <xref target="RFC3023"/>.</t><t>This specification reflects the input of numerous participants to the
ietf-xml-mime@imc.org, xml-mime@ietf.org and apps-discuss@ietf.org
mailing lists, though any errors are the responsibility of the authors.  Special thanks to:</t><t>Mark Baker, James Clark, Dan Connolly, Martin Duerst, Ned Freed, Yaron
Goland, Bjoern Hoehrmann, Rick Jelliffe, Murray S.
Kucherawy, Larry Masinter,
David Megginson, S. Moonesamy, Keith Moore, Chris Newman, Gavin Nicol, Julian Reschke, Marshall Rose, Jim
Whitehead, Erik Wilde and participants of the XML activity and the TAG at the W3C.</t><t>Jim Whitehead and Simon St.Laurent were editors of 
<xref target="RFC2376"/> and <xref target="RFC3023"/>, respectively.</t></section></back><!-- comments
		
		fragments
		http://www.imc.org/ietf-xml-mime/mail-archive/msg00996.html	
		
		deprecation of text/*
		http://annevankesteren.nl/2006/11/text-xml
		
		much xml that would break if forced to us-ascii
		http://www.xml.com/pub/a/2004/07/21/dive.html
		
		--></rfc>
