


Network Working Group                                            Y. Hong
Internet-Draft                                                      ETRI
Intended status: Informational                                   J. Youn
Expires: September 2, 2009                                DONG-EUI Univ.
                                                           March 1, 2009


        Analysis and scenarios of multiple interfaces in a host
                  draft-hong-mif-analysis-scenario-00

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 2, 2009.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

Abstract

   This document is an analysis of multiple interfaces in a host and
   description of scenarios of multiple interfaces with the respect of



Hong & Youn             Expires September 2, 2009               [Page 1]

Internet-Draft           mif analysis & scenario              March 2009


   TCP/IP layer.  The current TCP/IP mechanism and networking methods
   are suitable for a single network interface.  When a host has
   multiple interfaces, the current TCP/IP mechanism and networking
   methods cannot directly be used for them.  In this document, we
   describe some problems for a host which has multiple network
   interfaces as an aspect of host's operations and some usage scenarios
   of multiple interfaces in a host.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Problem Statements . . . . . . . . . . . . . . . . . . . . . .  3
     2.1.  Relation between network interface and destination
           address  . . . . . . . . . . . . . . . . . . . . . . . . .  3
     2.2.  Considerations for heterogeneous environments with
           different IP version . . . . . . . . . . . . . . . . . . .  5
   3.  Scenarios of host with multiple interfaces . . . . . . . . . .  5
     3.1.  Multiple interfaces but none layer do not support  . . . .  5
     3.2.  Multiple interfaces and only network layer support . . . .  6
     3.3.  Multiple interfaces and network layer and transport
           layer support  . . . . . . . . . . . . . . . . . . . . . .  7
     3.4.  Multiple interfaces and all layer support  . . . . . . . .  8
     3.5.  Multiple interfaces and specific layer support . . . . . .  8
   4.  Conclusions  . . . . . . . . . . . . . . . . . . . . . . . . .  9
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . .  9
   6.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  9
   7.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 10
     7.1.  Normative References . . . . . . . . . . . . . . . . . . . 10
     7.2.  Informative References . . . . . . . . . . . . . . . . . . 10
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 10




















Hong & Youn             Expires September 2, 2009               [Page 2]

Internet-Draft           mif analysis & scenario              March 2009


1.  Introduction

   In future ubiquitous networks, many services and many access
   technologies are expected to be interworked and harmonized for better
   services.  To do so, a host must have different access technologies
   and different network interfaces for each access technology.

   Mobile IPv6 [RFC3775][1] and NEMO Basic Support [RFC3963] [2] can
   solve the problem of the change of IPv6 network address when a mobile
   node or a mobile router moves.  But these protocols are developed for
   a mobile node with a single network interface and a mobile router
   with a single egress network interface.  Due to multiple interfaces,
   there are many things to be considers such as multiple CoA, multiple
   HoA, and multiple HA.  We cannot directly use basic Mobile IPv6 for a
   mobile node with multiple network interfaces.  IETF MEXT working
   group are targeting to solve these problems and have developed many
   solutions.

   If a host has multiple interfaces, this situation influences not only
   mobility issues (e.g., extending Mobile IPv6/NEMO Basic Support) but
   also general networking operations and TCP/IP mechanism
   [I-D.blanchet-mif-problem-statement][3] [I-D.hui-ip-multiple-
   connections-ps][4].

   This document describes the problems of multiple interfaces in a host
   as an aspect of host's operations.  Because of the change of network
   interface in communication, it needs the proper update between
   destination address and network interfaces, and consideration for
   heterogeneous environment with different IP version.  And this
   document describes the scenarios of multiple interfaces in a host
   with the respect of TCP/IP stack.  Because of the difference of
   overhead and cost of each layer to support multiple interfaces, there
   may be various scenarios of multiple interfaces in a host to use.


2.  Problem Statements

2.1.  Relation between network interface and destination address

   The problem of multiple network interfaces in a host is the relation
   between a destination address and a network interface.  In the
   following case, we assume a host with two network interfaces I1 and
   I2 of different access technologies.  Each interface is configured
   with a global IPv6 address, respectively IP1 and IP2, and the address
   of a correspondent node is IP3.






Hong & Youn             Expires September 2, 2009               [Page 3]

Internet-Draft           mif analysis & scenario              March 2009


                                _________
                               |   CN    |
                               |_________|
                                    | IP3
                                   /|\
             +------------------+       +------------------+
             |  Network 1 (N1)  |       |  Network 2 (N2)  |
             |                  |       |                  |
             +------------------+       +------------------|

             Interface 1 (I1) \|/       \|/ Interface 2 (I2)
             IP1               |         |  IP2
                               |_________|
                               |  host   |
                               |_________|


                   Figure 1: A host with two interfaces

   +-------------+-----------------------+-----------------------------+
   |   Location  |    (Source Address,   |  Relation btw a Destination |
   |  (Used I/F) |  Destination Address) |   Addr. and a network I/F   |
   +-------------+-----------------------+-----------------------------+
   |   N1 (I1)   |       (IP1, IP3)      |          IP3 -> I1          |
   |   N2 (I2)   |       (IP2, IP3)      |           IP3 -> ?          |
   +-------------+-----------------------+-----------------------------+

   Table 1: Relation between destination address and network interfaces

   The host may change its interface for communication with a
   correspondent node due to movement or change of network environments.
   Before the change of network interface, when the host uses (I1, IP1)
   and sends packets to a correspondent node, the source address and
   destination address of packets is (IP1, IP3) and the used network
   interface is I1.  If the host moves other network N2, and then the
   host uses (I2, IP2) and the used network interface is I2.  Before the
   change of network interface, the destination address (IP3) of the
   correspondent node is mapped to a network interface I1.  However
   after the change of network interface, when an application tries to
   send packets to the correspondent node, it continually tries to use a
   network interface I1 if the relation of destination address IP3 and
   network interface I1 is not properly updated.  If this situation
   happens, even though, the network interface is changed to I2, packets
   are delivered to I1 at the link layer or L2 layer.  The communication
   sessions will be disrupted.

   To solve this problem, a host must properly update the relation
   between a destination address and a network interface when it changes



Hong & Youn             Expires September 2, 2009               [Page 4]

Internet-Draft           mif analysis & scenario              March 2009


   a network interface.

2.2.  Considerations for heterogeneous environments with different IP
      version

   If a host moves between networks with a single network interface or
   access technology, the change may be only a network address.  Because
   the host has an access technology of the single network interface, it
   doesn't need to consider other aspects such as the change of access
   technology and IP version.

   If a host moves between networks with multiple network interfaces or
   access technologies, other changes may happen.  If a host has
   multiple network interfaces (one is a WLAN interface and the other is
   a CDMA interface) in heterogeneous environments, changes include the
   network address, network interface and access technologies of the
   selected network interface after moving.  Particularly, the main
   issue is the network address.  Currently in Korea, we can use IPv6
   based WLAN service but it is impossible to use IPv6 based CDMA
   service.  The deployment of IPv6 based CDMA service will be done
   sooner or later.  Until the deployment of IPv6 based CDMA service, if
   we want to use IPv6 service with a CDMA network interface, we must
   consider how to use IPv6 service in IPv4 based CDMA network.


3.  Scenarios of host with multiple interfaces

   If a host has multiple interfaces, it influences not only PHY/MAC
   layer but also other layer such as network layer, transport layer,
   and application layer (and a user).  As the deployment of multiple
   interfaces to a host, there may be various scenarios of the usage of
   host with multiple interfaces.  At the beginning time, even though a
   host adapts multiple interfaces, other layers could not have
   capability to support multiple interfaces.  Also, a user who uses a
   host with multiple interfaces could not acknowledge the existence of
   multiple interfaces.  As the deployment of multiple interfaces, other
   layer could have capability to support multiple interfaces.  But, in
   some cases, a specific layer could not have capability to support
   multiple interfaces in a host.

3.1.  Multiple interfaces but none layer do not support

   At the beginning time, a host adapts multiple interfaces but other
   layers do not support multiple interfaces.  (Other layers are not
   aware of the existence of multiple interfaces.)  Because the overhead
   and cost of modification of original network layer, transport layer,
   and application layer, it is difficult to modify other layer all at
   once to support multiple interfaces in a host.  For specific



Hong & Youn             Expires September 2, 2009               [Page 5]

Internet-Draft           mif analysis & scenario              March 2009


   applications and/or specific OS, it could be difficult to modify them
   to support multiple interfaces.  In this case, the connection manager
   must provide method to use multiple interfaces even though other
   layers do not support multiple interfaces.  There are typical works
   to support this case [5], [6].

                +-------------------------------+
                |     Original Applications     |
                |-------------------------------|
                |   Original TCP/UDP/SCTP/DCCP  |
                |-------------------------------|
                |      Original IPv6/IPv4       |
                |-------------------------------|
                |                     +-------------------+
                |                     | Connection Manager|
                |                     +-------------------+
                |                               |
                | +------------+ +------------+ |
                | | Interface 1| | Interface n| |
                | |   (I1)     | |   (In)     | |
                | +------------+ +------------+ |
                +-------------------------------+

    Figure 2: A host with multiple interfaces when other layer does not
                                  support

3.2.  Multiple interfaces and only network layer support

   As time goes on, a host adapts multiple interfaces and network layer
   support multiple interfaces. (transport layer, application layer, and
   user are not aware of the existence of multiple interfaces.)  The
   Mobile IPv6 which is extended to support multiple interfaces could be
   in this case [7].  In this case, the connection manager must provide
   method to use multiple interfaces with the help of the network layer.

















Hong & Youn             Expires September 2, 2009               [Page 6]

Internet-Draft           mif analysis & scenario              March 2009


                +-------------------------------+
                |     Original Applications     |
                |-------------------------------|
                |   Original TCP/UDP/SCTP/DCCP  |
                |-------------------------------|
                |        Modified               |
                |        IPv6/IPv4    +-------------------+
                |---------------------| Connection Manager|
                |                     +-------------------+
                |                               |
                | +------------+ +------------+ |
                | | Interface 1| | Interface n| |
                | |   (I1)     | |   (In)     | |
                | +------------+ +------------+ |
                +-------------------------------+

   Figure 3: A host with multiple interfaces when network layer supports

3.3.  Multiple interfaces and network layer and transport layer support

   In this case, a host adapts multiple interfaces and network layer and
   transport layer support multiple interfaces. (application layer, and
   user are not aware of the existence of multiple interfaces.)  Until
   now, it seems that existing TCP/UDP could not have the capability to
   support multiple interfaces.  And it seems that SCTP could have the
   capability to support multiple interfaces but it needs to be more
   enhanced.  In this case, the connection manager must provide the
   method to use multiple interfaces with the help of the network layer
   and the transport layer.

                +-------------------------------+
                |     Original Applications     |
                |-------------------------------|
                |        Modified               |
                |   TCP/UDP/SCTP/DCCP +-------------------+
                |---------------------|                   |
                |        Modified     | Connection Manager|
                |        IPv6/IPv4    |                   |
                |---------------------|                   |
                |                     +-------------------+
                | +------------+ +------------+ |
                | | Interface 1| | Interface n| |
                | |   (I1)     | |   (In)     | |
                | +------------+ +------------+ |
                +-------------------------------+

     Figure 4: A host with multiple interfaces when network layer and
                          transport layer support



Hong & Youn             Expires September 2, 2009               [Page 7]

Internet-Draft           mif analysis & scenario              March 2009


3.4.  Multiple interfaces and all layer support

   In this case, a host adapts multiple interfaces and all layers
   including network layer, transport layer, and application layer
   support multiple interfaces.  And all layers are aware of the
   existence of multiple interfaces.  In this case, the connection
   manager must provide the method to use multiple interfaces with the
   help of the network layer, the transport layer, and the application
   layer.

                +-------------------------------+
                |        Modified     +-------------------+
                |        Applications |                   |
                |---------------------|                   |
                |        Modified     |                   |
                |   TCP/UDP/SCTP/DCCP | Connection Manager|
                |---------------------|                   |
                |        Modified     |                   |
                |        IPv6/IPv4    |                   |
                |---------------------|                   |
                |                     +-------------------+
                | +------------+ +------------+ |
                | | Interface 1| | Interface n| |
                | |   (I1)     | |   (In)     | |
                | +------------+ +------------+ |
                +-------------------------------+

     Figure 5: A host with multiple interfaces when all layer support

3.5.  Multiple interfaces and specific layer support

   In this case, a host adapts multiple interfaces and one or two
   specific layers support multiple interfaces.  Because it seems that
   it is difficult to modify network layer and transport layer to
   support multiple interfaces (typically, network layer and transport
   layer are in kernel space and application layer is in user space in
   Linux OS), application layer could be easily modified to support
   multiple interfaces.  In this case, the connection manager must
   provide the method to support multiple interfaces with the help of
   specific layer even though intermediate layer does not support it.











Hong & Youn             Expires September 2, 2009               [Page 8]

Internet-Draft           mif analysis & scenario              March 2009


              +-------------------------------+
              |        Modified             --+-+  +-------------------+
              |        Applications           | +--| Connection Manager|
              |-------------------------------| |  +-------------------+
              |  Original TCP/UDP/SCTP/DCCP   | |
              |-------------------------------| |
              |      Original IPv6/IPv4       | |
              |-------------------------------| |
              |                             --+-+
              | +------------+ +------------+ |
              | | Interface 1| | Interface n| |
              | |   (I1)     | |   (In)     | |
              | +------------+ +------------+ |
              +-------------------------------+

     Figure 6: A host with multiple interfaces when application layer
                                 supports


4.  Conclusions

   When a host has multiple interfaces, the host can use heterogeneous
   network interfaces and it can provide ubiquitous access.  In this
   document, we showed the issues when a host has multiple network
   interfaces as an aspect of host's operations.  If a host is able to
   use multiple network interfaces, the host must update dynamically the
   relation of a destination address of a correspondent node and a
   network interface after the change of a network interface.  Because
   the host may use different access technologies in heterogeneous
   networks with different IP version, some access networks of a
   selected network interface do not support IPv6.  In this case we must
   consider how to support IPv6 service in IPv4 based networks.  Because
   of the difference of deployment of multiple interfaces in a host,
   there may be various scenarios of multiple interfaces in a host to
   use.  We should clarify considerations and issues of each scenario
   for further study.


5.  Security Considerations

   If a host has multiple interfaces and does not properly update the
   relation between network interfaces and destination address, the
   communication may disrupt.


6.  IANA Considerations

   This document has no actions for IANA.



Hong & Youn             Expires September 2, 2009               [Page 9]

Internet-Draft           mif analysis & scenario              March 2009


7.  References

7.1.  Normative References

   [1]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support in
        IPv6", RFC 3775, June 2004.

   [2]  Devarapalli, V., Wakikawa, R., Petrescu, A., and P. Thubert,
        "Network Mobility (NEMO) Basic Support Protocol", RFC 3963,
        January 2005.

7.2.  Informative References

   [3]  Blanchet, M., "Multiple Interfaces Problem Statement,
        draft-blanchet-mif-problem-statement-00 (work in progress)",
        December 2009.

   [4]  Hui, M. and H. Deng, "Problem Statement and Requirement of
        Simple IP Multi-homing of the Host,
        draft-hui-ip-multiple-connections-ps-01 (work in progress)",
        November 2008.

   [5]  Hong, Y. and J. Youn, "Virtual network interface model for
        multiple network interfaces in a host
        draft-hong-mif-virtual-interface-00 (work in progress)",
        February 2009.

   [6]  "SHISA, An implementation of Mobile IPv6",
        <http://www.mobileip.jp/>.

   [7]  Wakikawa, R., Devarapalli, V., Ernst, T., and K. Nagami,
        "Multiple Care-of Addresses Registration,
        draft-ietf-monami6-multiplecoa-11 (work in progress)",
        January 2009.


Authors' Addresses

   Yong-Geun Hong
   ETRI
   161 Gajeong-Dong Yuseung-Gu
   Daejeon,   305-700
   Korea

   Phone: +82 42 860 6557
   Email: yonggeun.hong@gmail.com





Hong & Youn             Expires September 2, 2009              [Page 10]

Internet-Draft           mif analysis & scenario              March 2009


   Joo-Sang Youn
   DONG-EUI Univ.
   Busan,
   Korea

   Phone: +82 51 890 1993
   Email: joosang.youn@gmail.com












































Hong & Youn             Expires September 2, 2009              [Page 11]


