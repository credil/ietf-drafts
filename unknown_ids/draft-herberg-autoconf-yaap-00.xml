<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="3"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>

<rfc ipr="trust200902" 
	 category="info" 
	 docName="draft-herberg-autoconf-yaap-00">

  <front>
    <title abbrev="MANET Autoconf Proposal (YAAP)">Yet Another Autoconf Proposal (YAAP) for Mobile Ad hoc NETworks</title>

    <author fullname="Ulrich Herberg" initials="U" surname="Herberg">
      <organization>LIX, Ecole Polytechnique</organization>
      <address>
        <postal>
          <street></street>
          <city>91128 Palaiseau Cedex</city>
          <region></region>
          <country>France</country>
        </postal>
        <phone>+33-1-6933-4126</phone>
        <email>ulrich@herberg.name</email>
        <uri>http://www.herberg.name/</uri>
      </address>
    </author>
    
    <author fullname="Thomas Clausen" initials="T" surname="Clausen">
      <organization>LIX, Ecole Polytechnique</organization>
      <address>
        <postal>
          <street></street>
          <city>91128 Palaiseau Cedex</city>
          <region></region>
          <country>France</country>
        </postal>
        <phone>+33-6-6058-9349</phone>
        <email>T.Clausen@computer.org</email>
        <uri>http://www.thomasclausen.org</uri>
      </address>
    </author>


    <date/>

    <workgroup>Network Working Group</workgroup>
    <keyword>MANET</keyword>

    <abstract>
      <t>
      	This document describes automatic configuration of MANET router interfaces, as well as prefix delegation to MANET routers. This autoconfiguration protocol is characterized by (i) adhering strictly to the Internet addressing architecture, (ii) being able to configure both MANET interface addresses and handle prefix delegation, and (iii) being able to configure both stand-alone MANETs, as well as MANETs connected to an infrastructure providing, e.g., globally scoped addresses/prefixes for use within the MANET.
      </t>
    </abstract>

  </front>

  <middle>
    <section title="Introduction">
      <t>
        This document adheres to the address architecture specified in <xref target="RFC5889"/>, i.e.:
        
        <list style="symbols">
        	<t>
        		IP addresses configured on an interface are unique, at
      least within the routing domain, and,
        	</t>
        	<t>
        		No on-link subnet prefix is configured on this interface .
        	</t>
        </list>
        This specification allows to configure MANET-local and global prefixes to MANET routers. A router using the specified mechanism (i) acquires a MANET-wide unique prefix, and (ii) configures addresses from within this prefix for its interfaces as well as hosts attached to these routers (using any mechanism, such as SLAAC <xref target="RFC4861"/> or DHCPv6 <xref target="RFC3315"/>).
        This document does not stipulate how to configure link-local addresses or link-local prefixes.
      </t>
    </section>
    

    <section title="Terminology" anchor="terminology">
      <t>
      	The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
        "OPTIONAL" in this document are to be interpreted as described in 
        <xref target="RFC2119"/>.
      </t>

      <t>This document uses the terminology and notation defined in  <xref target="RFC5444"/>. Additionally, it defines the following terminology:
        <list style="symbols">
          <t>Configuring Router
        	  <list style="hanging">
          		<t>A Configuring Router is a router which has not yet configured a prefix, and which uses the protocol specified in this document in order to acquire a prefix.</t>
	          </list>      
          </t>
          <t>Initiator Router
        	  <list style="hanging">
          		<t>A Configuring Router selects one Initiator Router in the process of acquiring a prefix, which assists in validating the uniqueness of the chosen tentative prefix.</t>
	          </list>      
          </t>
          <t>Defensive Router
        	  <list style="hanging">
          		<t>A Defensive Router is a router which has already configured a prefix, and which can assist other, unconfigured routers (i.e. Configuring Routers) and thereby become an Initiator Router for unconfigured routers.</t>
	          </list>      
          </t>
        </list>

      </t>
    </section>

    <section title="Applicability Statement" anchor="applStatement">
		<t>This autoconfiguration mechanism is applicable for MANET routers. The mechanism allows to configure MANET-wide and globally unique prefixes on a router, adhering to the address architecture specified in <xref target="RFC5889"/>.</t>
		
		<t>This mechanism is applicable for IPv6. <!--IPv4 and IPv6. (TBD: only IPv6 at the moment)--></t>
		
    </section>

    <section title="Protocol Overview and Functioning" anchor="overview">
      <t>
      	Each MANET router will acquire a prefix, constructed as d:p:s:: with d being a prefix (possibly of size 0), common for the whole site (e.g., a global prefix assigned administratively to a given site, or provided by an Internet gateway), p being common for all routers in this MANET, and s being unique to a specific router.</t>

		<t>The task for a router, appearing in a MANET, can thus be summarized as:
		<list style="symbols">
        	<t>Acquiring d and p from the network;</t>
			<t>Selecting s, unique within the MANET;</t>
			<t>Configuring own MANET interfaces with addresses from within d:p:s:: (and with a prefix length of /128). <!-- or /32 as appropriate for IPv6 and IPv4, respectively).--></t>
		</list></t>


		<t>A router, appearing in a network and wishing to be configured, is denoted a "Configuring router". Through a Prefix Solicitation (PS) / Prefix Advertisement (PA) message exchange, the router learns of the (already configured) routers in its vicinity, and selects one as initiator - the router which will assist in acquiring a valid configuration. The Configuring router extracts d and p from the PA received from the selected initiator, generates a tentative prefix d:p:s:: (s being generated locally by the Configuring router, e.g., by a pseudorandom generator) and, by way of a Router Solicitation (RS) message requests from its initiator that this tentative prefix be verified unique within the MANET. The initiator then issues an RS to the entire MANET, containing the tentative address of its Configuring router, through the MANET. If the initiator does not (after due delay and retransmissions) receive a Router Advertisement (RA) indicating that the prefix is already in use, it will transmit an Autoconfiguration Confirmation (AC) message to the Configuring router, confirming that the Configuring router now "owns" d:p:s:: and can become a Defensive router. If the initiator receives an RA indicating that the tentative prefix is already in use, it informs the Configuring router by issuing an RA.</t>

		<t>A Defensive router has two tasks. First, if receiving a RS containing its own d:p:s::, it must respond by issuing an RA. Second, if receiving a PS, it must respond by a PA, thus accept becoming initiator and act as described above.</t>

		<t>The initiator and Configuring routers communicate using link-local multicast to LL-MANET-Routers <xref target="RFC5498"/>, with the configuring router using the Unspecified Address as source <xref target="RFC3513"/>. These two routers identify traffic destined to each other by way of UUIDsÂ§ <xref target="RFC4122"/>, embedded in all messages exchanged between them. UUIDs are 16 octets long, and as they are exchanged in messages only between neighboring routers, they need only be locally unique. Network-wide messages (RS/RA) are "proxyed" by the initiator, which is already configured and which thereby has a MANET-wide unique address.</t>
    </section>
    

    

	<section anchor="constants" title="Protocol Parameters and Constants">
		<t>This specification uses the parameters and constants described in this section.</t>
		
		<section title="Protocol and Port Numbers">
			<t>
			This protocol specifies PS, PA, RS, RA, and AC messages, which are included in packets as defined by <xref target="RFC5444"/>.  These packets may be sent either using the "manet" protocol number or the "manet" well-known UDP port number, as specified in <xref target="RFC5498"/>.
			</t>
		</section>
		
		<section title="Multicast Address">
			<t>The packets (as defined by <xref target="RFC5444"/>) which contain the messages specified by this document may be locally transmitted using LL-MANET-Routers, as specified in <xref target="RFC5498"/>.</t>
		</section>
		
		<section title="IP Header">
			<t>If the router is in the Configuring state, the source address in the IP header containing control messages is set to the Unspecified Address, as specified in <xref target="RFC3513"/>. For a router in any other state, the source address is set to any (non link-local) IP address of the interface transmitting the packet.</t>
		</section>
		
		<section title="Hold Times">
			<t>
			<list style="symbols">
				<t>N_HOLD_TIME - determines how long a Neighbor Tuple is kept in the Neighbor Set in milliseconds.</t>				
								
				<t>I_HOLD_TIME - determines the maximum time duration that a Initiator Selector Tuple is kept in the Initiator Selector Set in milliseconds.</t>
				
				<t>F_HOLD_TIME - is the period after receipt of a message that is forwarded by this router for which that information is recorded, in order that the message is not forwarded again if received again.</t>

			</list>
			</t>
			
			<t>The following constraints applies to these router parameters:
			<list style="symbols">
				<t>N_HOLD_TIME >= 0</t>
				<t>I_HOLD_TIME >= 0</t>
				<t>F_HOLD_TIME >= 0</t>
			</list></t>
		</section>
			
			
		<section title="Time Granularity">
			<t>The constant C (time granularity) is used as specified in <xref target="RFC5497"/>.</t>
		</section>
		
		<section title="Message Intervals and Timeouts">
			<t>
			<list style="symbols">
				<t>PS_INTERVAL - specifies the time interval between two successive PS messages in milliseconds.</t>
				<t>PS_TIMEOUT - specifies the maximum time, in milliseconds, after the first transmitted PS which a router waits for an incoming PA message. If no PA message has been received, this router switches from Configuring State to Defensive state as described in <xref target="state_change_to_defensive"/>.</t>
				<t>RS_INTERVAL - specifies the time interval between two successive local RS messages in milliseconds.</t>
				<t>RS_TIMEOUT - specifies the maximum time, in milliseconds, after the first transmitted local RS message which a router waits for an incoming RA or AC message. If no such message has been received, this router switches from Configuring State to Defensive state.</t>
				<!--TBD: <t>MANET_RS_MIN_DELAY - is the minimum delay between transmission of two successive MANET-wide RS messages on an initiator router.</t>-->
				<t>RA_INTERVAL - specifies the time interval between two successive RA messages in milliseconds.</t>
				<t>RA_TIMEOUT - specifies the maximum time, in milliseconds, after the first transmitted RA during which this router transmits RA messages.</t>
				<t>AC_INTERVAL - specifies the time interval between two successive AC messages in milliseconds.</t>
				<t>AC_TIMEOUT - specifies the maximum time, in milliseconds, after the first transmitted AC during which this router transmits AC messages.</t>
			</list>
			</t>
		</section>
		
		<section title="Jitter">
			<t>
			<list style="symbols">
				<t>PS_MAXJITTER - represents the value of MAXJITTER used in <xref target="RFC5148"/> for generated PS messages on this MANET interface.</t>
				<t>PA_MAXJITTER - represents the value of MAXJITTER used in <xref target="RFC5148"/> for generated PA messages on this MANET interface.</t>
				<t>F_MAXJITTER  - represents the default value of MAXJITTER used in <xref target="RFC5148"/> for messages forwarded by this router.</t>
			</list>
			</t>
		</section>
		
	</section>

	<section anchor="informationBases" title="Information Sets">
		<section title="Neighbor Set">
			<t>A router's Neighbor Set records site prefixes and MANET prefixes  of each of its 1-hop Defensive neighbor routers.  It consists of Neighbor Tuples, each representing a single such 1-hop neighbor:</t>

      		<t>(N_UUID, N_is_initiator, N_site_prefix, N_site_prefix_length, N_manet_prefix, N_manet_prefix_length, N_iface, N_time)</t>

   			<t>where:</t>
   
   			<t>N_UUID - is the unique identifier of the neighbor, as received in a PA message.</t>
   			
   			<t>N_is_initiator - is a boolean flag that determines whether this neighbor is selected as initiator.</t>
   			
   			<t>N_site_prefix - is the site prefix d as indicated by a PA message.</t>
   			
   			<t>N_site_prefix_length - is the length of N_site_prefix in number of bits.</t>
   			
   			<t>N_manet_prefix - is the MANET prefix p as indicated by a PA message.</t>
   			
   			<t>N_manet_prefix_length - is the length of N_manet_prefix in number of bits.</t>
   			
   			<t>N_iface - is the identifier of the network interface on which the neighbor can be reached.</t>
   			
   			<t>N_time - specifies when this Tuple expires and MUST be removed.</t>
		</section>
		
		<section title="Initiator Selector Set">
			<t>A router's Initiator Selector Set records UUIDs and tentative prefixes of each 1-hop Configuring neighbor router, which has selected this router as its initiator.  It consists of Initiator Selector Tuples, each representing a single 1-hop neighbor:</t>

      		<t>(I_UUID, I_prefix, I_prefix_length, I_iface, I_time)</t>

   			<t>where:</t>
   
   			<t>I_UUID - is the unique identifier of the initiator selector, as received in a local RS message.</t>
   			
   			<t>I_prefix - is the tentative prefix s as indicated by the initiator selector in an RS message.</t>
   			
   			<t>I_prefix_length - is the length of I_prefix in number of bits.</t>
   			
   			<t>I_iface - is the identifier of the network interface on which the neighbor can be reached.</t>
   			
   			<t>I_time - specifies when this Tuple expires and MUST be removed.</t>
		</section>
		
		<section title="Forwarded Set">
			<t>A router has a single Forwarded Set which records signatures of   messages which have been forwarded by the router. It consists of   Forwarded Tuples:</t>

 		    <t>(F_type, F_orig_addr, F_seq_number, F_time)</t>

   			<t>where:</t>

  			<t>F_type - is the forwarded Message Type;</t>

  			<t>F_orig_addr - is the originator address of the forwarded message;</t>

   			<t>F_seq_number - is the message sequence number of the forwarded      message;</t>
   			
   			<t>F_time - specifies the time at which this Tuple expires and MUST be removed.</t>
   		</section>
	</section>




	<section title="Unique Identifiers">
		<t>Throughout this document, it is supposed that routers have a unique identifier (UUID) of length of 16 octets, according to <xref target="RFC4122"/>. This identifier can be created by a pseudo-random number generator or any other means (such as calculated from the MAC address of a network interface). The identifier serves to discern routers without configured IP addresses in a 1-hop neighborhood. They SHOULD be unique within a link-local scope. If they are not unique within this scope, the mechanism will still work, however, as described in <xref target="duplicated_UUID"/>.</t>
	</section>


	<section anchor="format" title="Packets and Messages">
		<t>The packet and message format used by this protocol is defined in   <xref target="RFC5444"/>, which is used with the following considerations:
		
		<list style="symbols">
        	<t>This protocol specifies five Message Types, the Prefix Solicitation (PS) message, the Prefix Advertisement (PA) message, the Router Solicitation (RS) message, the Router Advertisement (RA) message, and the Acknowledgment (AC) message.</t>

			<!--<t>All five message types MAY use any combination of Message Header options specified in <xref target="RFC5444"/></t>-->

			<t>PS, PA, and AC messages MUST NOT be forwarded, i.e., a &lt;msg-hop-limit&gt;, if present, MUST have the value 1.</t>

			<t>All five message types MAY be included in multi-message packets as specified in <xref target="RFC5444"/>.</t>

			<t>Received messages MUST be parsed in accordance with <xref target="RFC5444"/>.  A message which is not in conformance with      <xref target="RFC5444"/> MUST be discarded without being processed.  <!--A message can also be discarded without being processed for other reasons, see Section 12.1.--></t>

	  		<t>This protocol specifies two Address Block TLVs. These TLV Types are all defined only with Type Extension = 0. TLVs of other types, and of these types but without Type Extension = 0, are ignored by this protocol.</t>
      
     		</list>
      	</t>
      

	
	
		<section anchor="PS_message" title="Prefix Solicitation (PS) Message">
			<t>A PS message is broadcast by a Configuring router to its 1-hop neighbors in order to discover already configured routers, and if such exist, to acquire their site prefix and MANET prefix.</t>
			
			<section title="PS Message Specification">
				<t>The &lt;msg-addr-length&gt; field is set to 15. <!-- (for IPv6).according to the desired address family of the prefix (i.e. to 3 for a requested IPv4 prefix and to 15 for a requested IPv6 prefix). 
				
				NOTE: In the current version of the draft, only IPv6 is supported, IPv4 will follow.-->
				
				The PS message MUST not contain a &lt;msg-orig-addr&gt; header field. &lt;msg-hop-limit&gt; SHOULD be set to 1.</t>
				
				<t>The PS message does not contain any addresses, Address Block TLVs, or Message TLVs (but MAY so by an extension of this protocol).</t>
			</section>
		
			<section title="PS Message Generation">
				<t>A PS message is generated per router and sent over all MANET interfaces when the router is not yet configured and desires to acquire a MANET-wide unique prefix.</t>
        			
        		<t>If no PA message has been received on any interface after PS_INTERVAL, the router generates a new PS message.</t>
        		
        		<t>If no PA message has been received within PS_TIMEOUT after the first generated PS message, the router assumes that it is the first router of the MANET and switches to the "Defensive state" (as described in <xref target="state_change_to_defensive"/>).</t>
			</section>
			
			<section title="PS Message Jitter">
				<t>If using data link and physical layers which are subject to packet loss due to collisions, PS messages SHOULD be jittered as described in <xref target="RFC5148"/>. PS messages MUST NOT be forwarded, and thus message forwarding jitter does not apply to PS messages. Each form of jitter described in <xref target="RFC5148"/> requires a parameter  MAXJITTER. These parameters may be dynamic, and are specified by PS_MAXJITTER.</t>
			</section>
			
			<section title="PS Message Processing">
				<t>A router in Configuring state MUST ignore incoming PS messages.</t>
				
				<t>A router in the Defensive state MAY trigger a PA message upon reception of an incoming PS message. The PA message is transmitted on the same interface the PS message has been received as described in <xref target="PA_message"/>.</t>
			</section>
		</section>
		
		
		
		
		<section anchor="PA_message" title="Prefix Advertisement (PA) Message">
			<t>A PA message is broadcast by a Defensive router to its 1-hop neighbors, as a response to an incoming PS message.</t>
		
			<section title="PA Message Specification">
				<t>The &lt;msg-addr-length&gt; field is set 15. <!-- (for IPv6). according to the desired address family of the prefix (i.e. to 3 for a requested IPv4 prefix and to 15 for a requested IPv6 prefix)--> &lt;msg-hop-limit&gt; SHOULD be set to 1.</t>
				
				<t>The PA message MUST contain a UUID Message TLV with the router's Unique identifier (UUID) as TLV value and length 16 and type extension 1 (which indicates that it is a source UUID).</t>
				
				<t>The PA message MUST contain the MANET prefix, contained in an Address Block and associated with a MANET_PREFIX TLV. The type extension of the MANET_PREFIX TLV determines the length of the prefix in number of bits.</t>
				
				<t>The PA message MAY contain the site prefix, contained in an Address Block and associated with a SITE_PREFIX TLV. The type extension of the SITE_PREFIX TLV determines the length of the prefix in number of bits.</t>
			</section>
		
			<section title="PA Message Generation">
				<t>A PA message is generated by a Defensive router as a response to a received PS message, and transmitted over the same interface as the one on which the PS message was received.</t>
			</section>
			
			<section title="PA Message Jitter">
				<t>If using data link and physical layers which are subject to packet loss due to collisions, PA messages SHOULD be jittered as described in <xref target="RFC5148"/>. PA messages MUST NOT be forwarded, and thus message forwarding jitter does not apply to PA messages. Each form of jitter described in <xref target="RFC5148"/> requires a parameter  MAXJITTER. These parameters may be dynamic, and are specified by PA_MAXJITTER.</t>
			</section>
			
			<section title="PA Message Processing">
				<t>If the router is in the Configuring state, the message is processed, otherwise it MUST be ignored.</t>
				
				<t>If the message is processed, the following steps MUST be performed:
				
				<list style="numbers">
					<t>Find the Neighbor Tuple which corresponds to the UUID contained in the UUID Message TLV of the message (henceforth current tuple).</t>
					
					<t>If no such tuple exists, create a new one (henceforth current tuple) and add it to the Neighbor Set. </t>
				
					<t>The values of the current tuple are set to:
					
					<list style="symbols">
						<t>N_UUID: the unique identifier of the neighbor, as acquired from the UUID Message TLV in the PA message.</t>
   			
   						<t>N_is_initiator: false</t>
   			
   						<t>N_site_prefix: is set to the prefix associated with the SITE_PREFIX Address Block TLV in the previously received PS message that triggered this PA transmission; this value may be NULL if no such TLV has been contained in the PS message.</t>
   			
   						<t>N_site_prefix: is set to the length of the N_site_prefix in number of bits, as acquired from the type extension of the SITE_PREFIX TLV or 0 if no SITE_PREFIX TLV has been contained in the PS message.</t>
   			
   						<t>N_manet_prefix: is set to the MANET prefix associated with  the MANET_PREFIX Address Block TLV in the previously received PS message that triggered this PA transmission.</t>
   			
   						<t>N_manet_prefix_length: is set to the length of N_manet_prefix in number of bits, as acquired from the type extension of the MANET_PREFIX Address Block TLV.</t>
   			
   						<t>N_iface: is set to the interface identifier on which the PA message has been received.</t>
   			
   						<t>N_time: current time + N_HOLD_TIME (both in milliseconds)</t>
   					</list></t>
   					
   				</list></t>
					
			</section>
		</section>
		
		
		
		<section title="Router Solicitation (RS) Message">
			<t>A Configuring router sends a local Router Solicitation (RS) Message to its initiator (using link-local multicast and the UUID of the initiator in a Message TLV). Upon reception of this local RS, the initiator broadcasts a Router Solicitation (RS) Message throughout the MANET, on behalf of the Configuring router. In the following, these two different cases (RS between Configuring router and initiator router, and RS flooded by the initiator) are discerned. In both cases, the same message type (RS) is used, as only the link-local RS contains the UUID TLV, which allows to differentiate between the two different message scopes.</t>
			
			<section title="Local RS Message from Configuring Router to Initiator Router">
				<section title="Local RS Message Specification">
					<t>The &lt;msg-addr-length&gt; field is set to 15. <!-- (for IPv6).according to the  address family of the contained temptative prefix (i.e. to 3 for a requested IPv4 prefix and to 15 for a requested IPv6 prefix). --> The local RS message MUST NOT contain a &lt;msg-orig-addr&gt; header field. &lt;msg-hop-limit&gt; SHOULD be set to 1.</t>
	
					<t>The local RS message MUST contain a UUID Message TLV with the UUID of the router's selected initiator as value and type extension 0 (i.e. indicating a destination UUID).</t>
					
					<t>The local RS message MUST contain a UUID Message TLV with this router's UUID as value and type extension 1 (i.e. indicating a source UUID).</t>
					
					<t>The local RS message MUST contain a TIMEOUT Message TLV with the value being:
					<list style="hanging">
					<t>
					time_of_first_sent_RS - current_time + RS_TIMEOUT.
					</t>
					</list> where
					
					<list style="symbols">
					<t>
					time_of_first_sent_RS is the time of the first RS that has been sent for the tentative prefix, or the current time if this message is the first one.
					</t>
					</list>
					
					The value is encoded using the format specified in <xref target="RFC5497"/>.</t>
					
					<t>The local RS message MUST contain the tentative router prefix s in an address block associated with a TENTATIVE_PREFIX Address Block TLV with the value hereof being the length of the prefix in number of bits.</t>
				</section>
		
				<section title="Local RS Message Generation">
					<t>An RS message is generated after the router has selected an initiator (as specified in <xref target="initiator_selection"/>). The message is sent to the MANET interface on which the initiator can be reached (determined from N_iface in the Neighbor Set).</t>
        			
        			<t>If no RA or AC message has been received on the N_iface interface from the selected initiator (determined from the Neighbor Tuple of the initiator) after RS_INTERVAL milliseconds, the router generates a new local RS message. This process is repeated until an RA or AC message has been received, or otherwise RS_TIMEOUT milliseconds have passed since the first generated local RS message for this prefix.</t>
        		
        			<t>If then still no RA or AC message has been received, the router SHOULD restart the autoconfiguration process and start transmitting PS messages again (refer to <xref target="PS_message"/>) or select a new initiator router.</t>
				</section>
			
				<section title="Local RS Message Jitter">
					<t>No jitter is required for local RS messages, since only one router - the selected initiator - will process them.</t>
				</section>
			
				<section anchor="local_RS" title="Local RS Message Processing">
					<t>If the message does not contain any UUID Message TLVs, it is considered a MANET-wide RS Message and processed accordingly (refer to <xref target="MANET_wide_RS"/>).</t>
					
					<t>If the router receiving an RS is in Configuring state, the message MUST be ignored.</t>
					
					<t>If the message does not contains a UUID Message TLV with type extension 0, it MUST be ignored. Otherwise, if the value of that UUID Message TLV does not correspond to this router's UUID, the message MUST be ignored.</t>
					
					<t>If the message does not contain an address associated with a TENTATIVE_PREFIX Address Block TLV, the message MUST be ignored.</t>
					
					<t>If a prefix conflict between the router's prefix s and the address associated with a TENTATIVE_PREFIX Address Block TLV has been detected, a local RA message MUST be triggered (as specified in <xref target="local_RA"/>).</t>
				
					<t>If the message is not ignored, the following steps MUST be performed:
				
					<list style="numbers">					
						<t>If no Initiator Selector Tuple exists, which corresponds to the UUID contained in the UUID Message TLV with type extension 0 in the message, create a new tuple and add it to the Initiator Selector Set. The values of the newly created tuple are:
					
						<list style="symbols">
							<t>I_UUID: the unique identifier of the neighbor, as acquired from the UUID Message TLV in the RS message.</t>
   			
   							<t>I_prefix: is the prefix associated with the TENTATIVE_PREFIX Address Block TLV in the RS message.</t>
   			
   							<t>I_prefix_length is the length of the I_prefix in number of bits, as acquired from the value of the TENTATIVE_PREFIX Address Block TLV.</t>
   			
							<t>I_iface: is set to the interface identifier on which the RS message has been received.</t>
   			
   							<t>I_time: current_time + max(I_HOLD_TIME, value_of_the_TIMEOUT_Message_TLV) # in milliseconds</t>
   						</list></t>
   						
   						<t>A MANET-wide RS message is generated (refer to <xref target="MANET_wide_RS_generation"/>).</t>
   					
   					</list></t>
					
				</section>
			</section>
			
			
			
			
			
			<section anchor="MANET_wide_RS" title="MANET-wide RS Message from Initiator Router">
				<section title="MANET-wide RS Message Specification">
					<t>The &lt;msg-addr-length&gt; field is set to 15. <!-- (for IPv6). according to the  address family of the contained temptative prefix (i.e. to 3 for a requested IPv4 prefix and to 15 for a requested IPv6 prefix). -->The MANET-wide RS message MUST contain a &lt;msg-orig-addr&gt; header field, which contains the prefix s of this router. &lt;msg-hop-limit&gt; SHOULD set to 255. The MANET-wide RS message MUST contain a &lt;msg-seq-num&gt; field.</t>
	
					<t>The MANET-wide RS message MUST NOT contain any UUID Message TLVs.</t>
					
					<t>The MANET-wide RS message MUST contain the tentative prefix in an address block associated with a TENTATIVE_PREFIX Address Block TLV with the value being the length of the prefix in number of bits. The prefix is acquired from the I_prefix field in the Initiator Selector Tuple that corresponds to the initiator selector that has sent the local RS message, which triggered this MANET-wide RS message.</t>
				</section>
		
				<section anchor="MANET_wide_RS_generation" title="MANET-wide RS Message Generation">
					<t>Whenever a router has received a local RS message from a router that has selected it as its initiator (i.e. for which a corresponding Initiator Selector tuple exists), it generates a MANET-wide RS message and sends it to all MANET interfaces.</t>
				</section>
			
				<section title="MANET-wide RS Message Jitter">
					<t>No jitter is required for generating MANET-wide RS messages. However, for forwarded RS messages, jitter considerations as specified in <xref target="forward_message"/> apply.</t>
				</section>
			
				<section title="MANET-wide RS Message Processing">
					<t>If the message contains a UUID Message TLV, it is considered as local RS Message and processed accordingly (refer to <xref target="local_RS"/>).</t>
									
					<t>If this router is in the Configuring state, the message MUST be ignored.</t>
					
					<t>If the message does not contain an address associated with a TENTATIVE_PREFIX Address Block TLV, the message MUST be ignored.</t>
					
					<t>If a prefix conflict between the router's prefix s and the address associated with a TENTATIVE_PREFIX Address Block TLV has been detected, a MANET-wide RA message MUST be generated, specified in <xref target="MANET_wide_RA"/>.</t>
					
					<t>If no conflict has occurred, the message is considered for forwarding as specified in <xref target="forward_message"/>.</t>
				</section>
			</section>
			
		</section>
		
		
		
		
		
		<section anchor="RA_message" title="Router Advertisement (RA) Message">
			<t>A Defensive router floods a MANET-wide Router Advertisement (RA) Message throughout the MANET if it has detected a conflicting prefix (as specified in <xref target="prefix_conflict"/>) advertised in an RS message. When the initiator router for the conflicting prefix receives this RA, it generates a local RA message to its initiator selector (using link-local multicast and the UUID of the initiator in a Message TLV). In the following, these two different cases (RA flooded by the conflicting router, and RA between initiator router and Configuring router) are discerned. In both cases, the same message type (RA) is used, as only the link-local RA contains the UUID TLV, which allows to differentiate between the two different message scopes.</t>
		
			<section anchor="MANET_wide_RA" title="MANET-wide RA Message from Defensive Router">
				<section title="MANET-wide RA Message Specification">
					<t>The &lt;msg-addr-length&gt; field is set to 15. <!-- (for IPv6). according to the  address family of the contained temptative prefix (i.e. to 3 for a requested IPv4 prefix and to 15 for a requested IPv6 prefix). -->The MANET-wide RA message MUST contain a &lt;msg-orig-addr&gt; header field. &lt;msg-hop-limit&gt; SHOULD be set to 255. The MANET-wide RA message MUST contain a &lt;msg-seq-num&gt; field.</t>
	
					<t>The MANET-wide RA message MUST NOT contain a UUID Message TLV.</t>
					
					<t>The MANET-wide RA message MUST put its prefix (i.e. the prefix which is conflicting) in an address block and associate with a TENTATIVE_PREFIX Address Block TLV.</t>
					
					<!--<t>The MANET-wide RA message MUST put the destination prefix  in an address block and associate with a DEST_PREFIX Address Block TLV. The destination prefix is taken from the &lt;msg-orig-addr&gt; of the MANET-wide RS message which triggered this RA message.</t>-->
				</section>
		
				<section title="MANET-wide RA Message Generation">
					<t>A MANET-wide RA message is generated as a response to an incoming MANET-wide RS message if a prefix conflict has been detected (as specified in <xref target="prefix_conflict"/>). The message is sent to all MANET interfaces.</t>
        			
        			<t>The router generates a new RA message RA_INTERVAL milliseconds after the last generated RA message. This process is repeated until RA_TIMEOUT milliseconds have passed since the first generated RA message for this prefix. <!--(TBD: how to define "first")--></t>
				</section>
			
				<section title="MANET-wide RA Message Jitter">
					<t><!--If using data link and physical layers which are subject to packet loss due to collisions, RA messages SHOULD be jittered as described in <xref target="RFC5148"/>.-->No jitter is applied to generated RA messages. When forwarding an RA message, jitter is applied as specified in <xref target="forward_message"/>.</t>
				</section>
			
				<section anchor="MANET_wide_RA_processing" title="MANET-wide RA Message Processing">
					<t>If the message contains a UUID TLV, then:
					<list style="symbols">
						<t>if this router is a Configuring router, the message is considered as local RA Message and processed accordingly (refer to <xref target="local_RA"/>).</t>
					
						<t>or otherwise the message MUST be ignored.</t>
					</list></t>
					
					<t>If the message does not contain a UUID TLV, then:
					<list style="symbols">
						<t>if the message contains an address associated with a TENTATIVE_PREFIX TLV, and the address is contained in the I_prefix field of an Initiator Selector Tuple, then the router generates a local RA as specified in <xref target="local_RA"/>.</t>
						
						<t>otherwise, the message is considered for forwarding as specified in <xref target="forward_message"/>.</t>
					</list></t>
				</section>
			</section>
			
			
			<section anchor="local_RA" title="Local RA Message from Initiator Router to Configuring Router">
				<section title="Local RA Message Specification">
					<t>The &lt;msg-addr-length&gt; field is set to 15. <!-- (for IPv6). according to the  address family of the contained temptative prefix (i.e. to 3 for a requested IPv4 prefix and to 15 for a requested IPv6 prefix). --> &lt;msg-hop-limit&gt; SHOULD be set to 1.</t>
	
					<t>The local RA message MUST contain a UUID Message TLV with type extension 0 with the value being the UUID of the initiator selector. The UUID is determined from the I_UUID field of the Initiator Selector Tuple whose I_prefix is equivalent to the address of the MANET-wide RA which is associated with an TENTATIVE_PREFIX Address Block TLV.</t>
				</section>
		
				<section title="Local RA Message Generation">
					<t>A local RA message is generated as a response to an incoming MANET-wide RA message, if the message contains a tentative prefix, which is equivalent to an I_prefix entry of an Initiator Selector Tuple. The message is sent to the I_iface interface of the initiator selector.</t> 
				</section>
			
				<section title="Local RA Message Jitter">
					<t>No jitter is applied.</t>
				</section>
			
				<section title="Local RA Message Processing">
					<t>If the message does not contain a UUID Message TLV, then the message is processed as specified in <xref target="MANET_wide_RA_processing"/>.</t>
					
					<t>If the message contains a UUID TLV, then:
					<list style="symbols">
						<t>if this router is a Configuring router and if the TLV value from the UUID Message TLV corresponds to this router's UUID, then this router MUST:
						
							<list style="symbols">
							<t>Choose another tentative prefix s, and</t>
							<t>Restart the autoconfiguration process by generating RS messages with this new tentative prefix.</t>
							</list>
						</t>
					
						<t>or otherwise the message MUST be ignored.</t>
					</list></t>
				</section>
			</section>
			
		</section>
		
		
		
		
		
		<section anchor="AC_message" title="Acknowledgement (AC) Message">
			<section title="AC Message Specification">
				<t>The &lt;msg-addr-length&gt; field is set to 15. <!-- (for IPv6). according to the  address family of the contained temptative prefix (i.e. to 3 for a requested IPv4 prefix and to 15 for a requested IPv6 prefix). --> &lt;msg-hop-limit&gt; SHOULD be set to 1.</t>
				
				<t>The AC message MUST contain a UUID Message TLV with type extension 0 with the UUID of the Configuring router as TLV value.</t>
				
				<t>The AC message MUST contain the tentative prefix in an address block associated with an TENTATIVE_PREFIX Address Block TLV with the length of the prefix in number of bits as TLV value.</t>
				
				<t>The AC message MAY contain any other TLV as specified by extensions to this protocol.</t>
			</section>
		
			<section title="AC Message Generation">
				<t>An AC message is generated on a Defensive router when no RA message has been received for a tentative prefix of an initiator at the time the Initiator Selector Tuple expires (i.e. at I_time). The message is sent to the I_iface interface of the initiator selector.</t>
			</section>
			
			<section title="AC Message Jitter">
				<t>No jitter is applied.</t>
			</section>
			
			<section title="AC Message Processing">
				<t>If the receiving router is not a Configuring router, then the message MUST be ignored.</t>
				
				<t>Otherwise, if:
				<list style="symbols">
					<t>the message contains a UUID TLV and the value from the UUID Message TLV corresponds to this router's UUID and</t>
					<t>the message contains an address associated with a TENTATIVE_PREFIX Address Block TLV, and the address is equivalent to this router's tentative prefix, then this router MUST:
						
						<list style="symbols">
							<t>Select this prefix as permanent.</t>
							<t>Switch in the Defensive state (as specified in <xref target="state_change_to_defensive"/></t>
						</list>
					</t>
					
					<t>or otherwise the message MUST be ignored.</t>
				</list>
				</t>
			</section>
		</section>
	</section>
	
	
	<section anchor="forward_message" title="Message Considered for Forwarding">
		<t>If a message (the "current message") is considered for forwarding,
   then the following tasks MUST be performed:
   
   		<list style="numbers">
   			<t>If a Forwarded Tuple exists with:
   				<list style="symbols">
					<t>F_type = the Message Type of the current message, AND;</t>

					<t>F_orig_addr = the originator address of the current
                  message, AND;</t>

					<t>F_seq_number = the sequence number of the current
                  message.</t>
               </list>

               then the current message MUST be silently discarded.</t>

			<t>Otherwise:
				<list style="numbers">
					<t>The Message Header of the current message is modified
                   by:
                   
                   <list style="symbols">
						<t>if present, decrement &lt;msg-hop-limit&gt; in the
                      Message Header by 1, AND;</t>

						<t>if present, increment &lt;msg-hop-count&gt; in the
                      Message Header by 1.</t>
                   </list></t>

					<t>The message is transmitted over all                  interfaces.</t>
                </list>
			</t>
		</list>
		</t>
		
		<t>If using data link and physical layers which are subject to packet loss due to collisions, forwarded messages SHOULD be jittered as described in <xref target="RFC5148"/>. PS messages MUST NOT be forwarded, and thus message forwarding jitter does not apply to PS messages. Each form of jitter described in <xref target="RFC5148"/> requires a parameter  MAXJITTER. These parameters may be dynamic, and are specified by F_MAXJITTER.</t>
	</section>
	
	
    <section title="Router States">
    	<t>A router is in either of the following states:
    	<list style="symbols">
    		<t>Configuring</t>
    		<t>Defensive</t>
    	</list>
    	</t>
    	
    	<section anchor="state_change" title="State Change">
    		<section anchor="state_change_to_defensive" title="From Configuring State to Defensive State">
    			<t>A router can change from Configuring state to Defensive state (i.e. complete the autoconfiguration process) in two different ways:
    			
    			<list style="numbers">
    			<t>If no PA message has been received within PS_TIMEOUT milliseconds after the first generated PS message of a Configuring router, the router assumes that it is the first router of the MANET. It then uses a predefined site-local prefix part "d", creates a random MANET prefix part "p" of length PREFIX_LENGTH using a pseudo-random number generator and concatenates a random router prefix part "s". The Neighbor Set can be cleared (i.e. all Neighbor Tuples deleted). The router switches to the "Defensive state".</t>
    			
    			<t>If the Configuring router receives an AC message from its initiator router for the tentative prefix, the Configuring router uses a predefined site-local prefix part "d" and the MANET prefix part "p" that is has acquired by PA messages from the Initiator. It then concatenates a the tentative router prefix part "s", which it has verified to be unique within the MANET. The Neighbor Set can be cleared (i.e. all Neighbor Tuples deleted). The router switches to the "Defensive state".</t>
    			</list>
    			
    			</t>
    		</section>
    		
    		<section anchor="state_change_to_configuring" title="From Defensive State to Configuring State">
    			<t>TBD: Router releases the prefix and needs a new prefix.</t>
    		</section>
    	</section>
    </section>
   
	
	<section anchor="initiator_selection" title="Initiator Selection">
		<t>After a Configuring router has received at least one PA message, it may at any time select its initiator router among the neighbors from which it has received a PA message. As soon as it has selected the initiator router, it can start generating RS messages. This document does not specify how to select the initiator router. For example, a router could select the first router that from which it has received a PA message. PA messages MAY also include additional information by means of TLVs that can be used to determine the best initiator router.</t>
		
		<t>Examples of such information may be: 
			<list style="symbols">
				<t>number of routers in the MANET;</t>
				<t>density of the routers in the MANET;</t>
				<t>distance to an Internet gateway;</t>
				<t>distance to a certain address prefix.</t>
			</list>
		</t>

	</section>
	
	<section anchor="prefix_conflict" title="Prefix Conflict">
		<t>A prefix conflict occurs when a requested prefix (by means of an RS message) is equivalent to the router prefix of this router.</t>
		
		<t>TBD<!--: what does equivalent/overlapping mean (length of prefix!)--></t>
	</section>
	
	
	<section anchor="opt" title="Protocol Optimizations">
		<t>
		The following protocol optimizations MAY be applied to the base protocol in order to increase performance.
		</t>
		
		<section title="Proxying">
			<t>TBD</t>
		</section>
		
		<section title="Unicast RA Messages">
			<t>TBD</t>
		</section>
		
		<section title="Optimized Broadcasting">
			<t>TBD</t>
		</section>
	</section>
	
	<section title="Additional Considerations">
		<section anchor="duplicated_UUID" title="Duplicate UUIDs">
			<t>TBD</t>
		</section>
		
		<section title="No initiator router exist">
			<t>TBD</t>
		</section>
		
		<section title="Initiator Proxying">
			<t>TBD</t>
		</section>
	</section>
	
	<section title="Proposed Values for Parameters and Constants">
		<t>TBD</t>
	</section>

		  
    <section anchor="IANA" title="IANA Considerations">
		<t>This specification defines five Message Types, which must be allocated from the "Message Types" repository of <xref target="RFC5444"/>, four Message TLV Types, which must be allocated from the "Message TLV Types" repository of <xref target="RFC5444"/>, and one Address Block TLV Type, which must be allocated from the "Address Block TLV Types" repository of <xref target="RFC5444"/></t>
		
		<section title="Expert Review: Evaluation Guidelines">
			<t>For the registries where an Expert Review is required, the designated expert SHOULD take the same general recommendations into   consideration as are specified by <xref target="RFC5444"/>.</t>
		</section>
		
		<section title="Message Types">
			<t>This specification defines five Message Types, to be allocated from the 0-223 range of the "Message Types" namespace defined in <xref target="RFC5444"/>, as specified in <xref target="table_IANA_message_types"/>.
			</t>
			
			<texttable anchor="table_IANA_message_types" title="Message Type Assignment">
          		<ttcol align='center'>Type</ttcol>
          		<ttcol align='center'>Description</ttcol>
          		<c>TBD1</c>
          		<c>PS: Prefix Solicitation message</c>
          		<c>TBD2</c>
          		<c>PA: Prefix Advertisement message</c>
          		<c>TBD3</c>
          		<c>RS: Router Solicitation message</c>
          		<c>TBD4</c>
          		<c>RA: Router Advertisement message</c>
          		<c>TBD5</c>
          		<c>AC: Acknowledgment message</c>
       		</texttable>
		</section>
		
	
		<section title="Message TLV Types">
			<t>This specification defines four Message TLV Types, which must be   allocated from the "Message TLV Types" namespace defined in <xref target="RFC5444"/>.  IANA is requested to make allocations in the 0-127 range for these types.  This will create four new Type Extension registries with assignments as specified in <xref target="table_IANA_tlv_type_UUID"/>, <xref target="table_IANA_tlv_type_MANET_PREFIX"/>, <xref target="table_IANA_tlv_type_SITE_PREFIX"/>, and <xref target="table_IANA_tlv_type_TIMEOUT"/>.   Specifications of these TLVs are in Section xxx and Section xxx, respectively.  Each of these TLVs MUST NOT be included more than once in a Message TLV Block.</t>
			
			<texttable anchor="table_IANA_tlv_type_UUID" title="Message TLV Type assignment: UUID">
          		<ttcol align='center'>Name</ttcol>
          		<ttcol align='center'>Type</ttcol>
          		<ttcol align='center'>Type Extension</ttcol>
          		<ttcol align='center'>Description</ttcol>
          		<ttcol align='center'>Allocation Policy</ttcol>
          		<c>UUID</c>
          		<c>TBD6</c>
          		<c>0</c>
          		<c>Specifies the destination UUID of a neighbor router</c>
          		<c></c>
          		
          		<c>UUID</c>
          		<c>TBD7</c>
          		<c>1</c>
          		<c>Specifies the source UUID of this router</c>
          		<c></c>
          		
          		<c>UUID</c>
          		<c>TBD8</c>
          		<c>2-255</c>
          		<c>Unassigned</c>
          		<c>Expert Review</c>
       		</texttable>
       		
       		<texttable anchor="table_IANA_tlv_type_MANET_PREFIX" title="Message TLV Type assignment: MANET_PREFIX">
          		<ttcol align='center'>Name</ttcol>
          		<ttcol align='center'>Type</ttcol>
          		<ttcol align='center'>Type Extension</ttcol>
          		<ttcol align='center'>Description</ttcol>
          		<ttcol align='center'>Allocation Policy</ttcol>
          		<c>MANET_PREFIX</c>
          		<c>TBD9</c>
          		<c>0-128</c>
          		<c>Specifies the MANET prefix part with the type extension being the length of the prefix in number of bits.</c>
          		<c></c>
          		
          		<c>MANET_PREFIX</c>
          		<c>TBD10</c>
          		<c>1-255</c>
          		<c>Unassigned</c>
          		<c>Expert Review</c>
       		</texttable>
       		
       		<texttable anchor="table_IANA_tlv_type_SITE_PREFIX" title="Message TLV Type assignment: SITE_PREFIX">
          		<ttcol align='center'>Name</ttcol>
          		<ttcol align='center'>Type</ttcol>
          		<ttcol align='center'>Type Extension</ttcol>
          		<ttcol align='center'>Description</ttcol>
          		<ttcol align='center'>Allocation Policy</ttcol>
          		<c>SITE_PREFIX</c>
          		<c>TBD11</c>
          		<c>0-128</c>
          		<c>Specifies the SITE prefix part with the type extension being the length of the prefix in number of bits.</c>
          		<c></c>
          		
          		<c>SITE_PREFIX</c>
          		<c>TBD12</c>
          		<c>129-255</c>
          		<c>Unassigned</c>
          		<c>Expert Review</c>
       		</texttable>
       		
       		<texttable anchor="table_IANA_tlv_type_TIMEOUT" title="Message TLV Type assignment: TIMEOUT">
          		<ttcol align='center'>Name</ttcol>
          		<ttcol align='center'>Type</ttcol>
          		<ttcol align='center'>Type Extension</ttcol>
          		<ttcol align='center'>Description</ttcol>
          		<ttcol align='center'>Allocation Policy</ttcol>
          		<c>TIMEOUT</c>
          		<c>TBD13</c>
          		<c>0</c>
          		<c>Specifies the timeout of the Configuring router which are waiting for AC or RA messages.</c>
          		<c></c>
          		
          		<c>TIMEOUT</c>
          		<c>TBD14</c>
          		<c>1-255</c>
          		<c>Unassigned</c>
          		<c>Expert Review</c>
       		</texttable>
		</section>
		
		<section title="Address Block TLV Types">
			<t>This specification defines one Address Block TLV Type, which must be allocated from the "Address Block TLV Types" namespace defined in <xref target="RFC5444"/>.  IANA are requested to make allocations in the 8-127 range for this type.  This will create a new Type Extension registry with assignments as specified in <xref target="table_IANA_tlv_type_TENTATIVE_PREFIX"/>.  Specification of this TLV is in Section xxx.</t>
			
			<texttable anchor="table_IANA_tlv_type_TENTATIVE_PREFIX" title="Address Block TLV Type assignment: TENTATIVE_PREFIX">
          		<ttcol align='center'>Name</ttcol>
          		<ttcol align='center'>Type</ttcol>
          		<ttcol align='center'>Type Extension</ttcol>
          		<ttcol align='center'>Description</ttcol>
          		<ttcol align='center'>Allocation Policy</ttcol>
          		<c>TENTATIVE_PREFIX</c>
          		<c>TBD15</c>
          		<c>0</c>
          		<c>Specifies the tentative prefix that is checked for uniqueness.</c>
          		<c></c>
          		
          		<c>TENTATIVE_PREFIX</c>
          		<c>TBD16</c>
          		<c>1-255</c>
          		<c>Unassigned</c>
          		<c>Expert Review</c>
       		</texttable>
       		
       		<!--<texttable anchor="table_IANA_tlv_type_DEST_PREFIX" title="Address Block TLV Type assignment: DEST_PREFIX">
          		<ttcol align='center'>Name</ttcol>
          		<ttcol align='center'>Type</ttcol>
          		<ttcol align='center'>Type Extension</ttcol>
          		<ttcol align='center'>Description</ttcol>
          		<ttcol align='center'>Allocation Policy</ttcol>
          		<c>DEST_PREFIX</c>
          		<c>TBD17</c>
          		<c>0</c>
          		<c>Specifies the destination prefix for this message.</c>
          		<c></c>
          		
          		<c>DEST_PREFIX</c>
          		<c>TBD18</c>
          		<c>1-255</c>
          		<c>Unassigned</c>
          		<c>Expert Review</c>
       		</texttable>-->
		</section>
	</section>


    <section anchor="Security" title="Security Considerations">
		<t>TBD</t>
    </section>


  </middle>

  <back>
    <references title="Normative References">
    
    <!--
  <reference anchor="BCP26">
    <front>
      <title abbrev="foo">Guidelines for Writing an IANA Considerations Section in RFCs</title>
      <author initials="T." surname="Narten" fullname="Thomas Narten">
        <organization/>
      </author>
      <author initials="H." surname="Alvestrand" fullname="H Alvestrand">
        <organization/>
      </author>
      <date month="May" year="2008" />
    </front>
    <seriesInfo name="RFC" value="5226" />
    <seriesInfo name="BCP" value="26" />
  </reference>
  -->

    
  <reference anchor="RFC2119">
    <front>
      <title abbrev="foo">Key words for use in RFCs to Indicate Requirement Levels</title>
      <author initials="S." surname="Bradner" fullname="Scott Bradner">
        <organization abbrev="HU">Harvard University</organization>
      </author>
      <date month="March" year="1997" />
    </front>
    <seriesInfo name="RFC" value="2119" />
    <seriesInfo name="BCP" value="14" />
  </reference>
  

  <reference anchor='RFC3513'>
	<front>
	<title>Internet Protocol Version 6 (IPv6) Addressing Architecture</title>
	<author initials='R.' surname='Hinden' fullname='R. Hinden'>
	<organization /></author>
	<author initials='S.' surname='Deering' fullname='S. Deering'>
	<organization /></author>
	<date year='2003' month='April' />
	</front>
	<seriesInfo name='RFC' value='3513' />
	<format type='TXT' octets='53920' target='http://www.rfc-editor.org/rfc/rfc3513.txt' />
  </reference>
	
  <reference anchor="RFC5444">
    <front>
      <title abbrev="RFC5444">Generalized MANET Packet/Message Format</title>
        <author initials="T.H." surname="Clausen" fullname="Thomas Heide Clausen">
          <organization abbrev="X">Ecole Polytechnique, France</organization>
        </author>
        <author initials="C.M." surname="Dearlove" fullname="Christopher Dearlove">
          <organization abbrev="BAE">BAE Systems Advanced Technology Centre, UK</organization>
        </author>
        <author initials="J.W." surname="Dean" fullname="Justin W. Dean">
          <organization abbrev="NRL">Naval Research Laboratory, USA</organization>
        </author>
        <author initials="C." surname="Adjih" fullname="Cedric Adjih">
          <organization>INRIA Rocquencourt</organization>
        </author>
        <date month="February" year="2009" />
      </front>
      <seriesInfo name="RFC" value="5444"/>
    </reference>
    
    
    <reference anchor="RFC5497">
    <front>
      <title abbrev="RFC5497">Representing multi-value time in MANETs</title>
        <author initials="T.H." surname="Clausen" fullname="Thomas Heide Clausen">
          <organization abbrev="X">Ecole Polytechnique, France</organization>
        </author>
        <author initials="C.M." surname="Dearlove" fullname="Christopher Dearlove">
          <organization abbrev="BAE">BAE Systems Advanced Technology Centre, UK</organization>
        </author>
        <date month="March" year="2009" />
      </front>
      <seriesInfo name="RFC" value="5497"/>
    </reference>
    
    
    <reference anchor="RFC5148">
    <front>
      <title abbrev="RFC5148">Jitter Considerations in Mobile Ad Hoc Networks (MANETs)</title>
        <author initials="T.H." surname="Clausen" fullname="Thomas Heide Clausen">
          <organization abbrev="X">Ecole Polytechnique, France</organization>
        </author>
        <author initials="C.M." surname="Dearlove" fullname="Christopher Dearlove">
          <organization abbrev="BAE">BAE Systems Advanced Technology Centre, UK</organization>
        </author>
        <author initials="B." surname="Brian" fullname="Brian Adamson">
          <organization abbrev="NRL">Naval Research Laboratory, USA</organization>
        </author>
        <date month="February" year="2008" />
      </front>
      <seriesInfo name="RFC" value="5148"/>
    </reference>
    
    
    <reference anchor="RFC5889">
    <front>
      <title abbrev="RFC5889">IP Addressing Model in Ad Hoc Networks</title>
        <author initials="E." surname="Baccelli" fullname="Emmanuel Baccelli">
          <organization abbrev="X">INRIA, France</organization>
        </author>
        <author initials="M." surname="Townsley" fullname="Mark Townsley">
          <organization abbrev="BAE">Cisco Systems, France</organization>
        </author>
        <date month="July" year="2010" />
      </front>
      <seriesInfo name="RFC" value="5889"/>
    </reference>
    
    
    <reference anchor='RFC4861'>
	<front>
		<title>Neighbor Discovery for IP version 6 (IPv6)</title>
		<author initials='T.' surname='Narten' fullname='T. Narten'>
		<organization /></author>
		<author initials='E.' surname='Nordmark' fullname='E. Nordmark'>
		<organization /></author>
		<author initials='W.' surname='Simpson' fullname='W. Simpson'>
		<organization /></author>
		<author initials='H.' surname='Soliman' fullname='H. Soliman'>
		<organization /></author>
		<date year='2007' month='September' />
	</front>
	<seriesInfo name='RFC' value='4861' />
	<format type='TXT' octets='235106' target='http://www.rfc-editor.org/rfc/rfc4861.txt' />
	</reference>
	
	<!--
	<reference anchor='RFC2131'>
	<front>
	<title abbrev='DHCP'>Dynamic Host Configuration Protocol</title>
	<author initials='R.' surname='Droms' fullname='Ralph Droms'>
	<organization>Computer Science Department</organization>
	<address>
	<postal>
	<street>323 Dana Engineering</street>
	<street>Bucknell University</street>
	<street>Lewisburg</street>
	<street>PA 17837</street></postal>
	<phone>(717) 524-1145</phone>
	<email>droms@bucknell.edu</email></address></author>
	<date year='1997' month='March' />
	<area>Internet</area>
	<keyword>DHCP</keyword>
	<keyword>configuration</keyword>
	<keyword>dynamic host configuration protocol</keyword>
	<keyword>host</keyword>
	</front>
	<seriesInfo name='RFC' value='2131' />
	<format type='TXT' octets='113738' target='http://www.rfc-editor.org/rfc/rfc2131.txt' />
	<format type='HTML' octets='134047' target='http://xml.resource.org/public/rfc/html/rfc2131.html' />
	<format type='XML' octets='118050' target='http://xml.resource.org/public/rfc/xml/rfc2131.xml' />
	</reference>
	-->
	
	
	<reference anchor='RFC3315'>
	<front>
	<title>Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</title>
	<author initials='R.' surname='Droms' fullname='R. Droms'>
	<organization /></author>
	<author initials='J.' surname='Bound' fullname='J. Bound'>
	<organization /></author>
	<author initials='B.' surname='Volz' fullname='B. Volz'>
	<organization /></author>
	<author initials='T.' surname='Lemon' fullname='T. Lemon'>
	<organization /></author>
	<author initials='C.' surname='Perkins' fullname='C. Perkins'>
	<organization /></author>
	<author initials='M.' surname='Carney' fullname='M. Carney'>
	<organization /></author>
	<date year='2003' month='July' /></front>
	<seriesInfo name='RFC' value='3315' />
	<format type='TXT' octets='231402' target='http://www.rfc-editor.org/rfc/rfc3315.txt' />
	</reference>


	<reference anchor="RFC5498">
	<front>
	<title>IANA Allocations for Mobile Ad Hoc Network (MANET) Protocols</title>
	<author initials="I." surname="Chakeres" fullname="I. Chakeres">
	<organization/>
	</author>
	<date year="2009" month="March"/>
	</front>
	<seriesInfo name="RFC" value="5498"/>
	<format type="TXT" octets="8399" target="http://www.rfc-editor.org/rfc/rfc5498.txt"/>
	</reference>
	
	
	<reference anchor='RFC4122'>
	<front>
	<title abbrev='UUID URN'>A Universally Unique IDentifier (UUID) URN Namespace</title>
	<author initials='P.' surname='Leach' fullname='Paul J. Leach'>
	<organization>Microsoft</organization>
	<address>
	<postal>
	<street>1 Microsoft Way</street>
	<city>Redmond</city>
	<region>WA</region>
	<code>98052</code>
	<country>US</country></postal>
	<phone>+1 425-882-8080</phone>
	<email>paulle@microsoft.com</email></address></author>
	<author initials='M.' surname='Mealling' fullname='Michael Mealling'>
	<organization>Refactored Networks, LLC</organization>
	<address>
	<postal>
	<street>1635 Old Hwy 41</street>
	<street>Suite 112, Box 138</street>
	<city>Kennesaw</city>
	<region>GA</region>
	<code>30152</code>
	<country>US</country></postal>
	<phone>+1-678-581-9656</phone>
	<email>michael@refactored-networks.com</email>
	<uri>http://www.refactored-networks.com</uri></address></author>
	<author initials='R.' surname='Salz' fullname='Rich Salz'>
	<organization>DataPower Technology, Inc.</organization>
	<address>
	<postal>
	<street>1 Alewife Center</street>
	<city>Cambridge</city>
	<region>MA</region>
	<code>02142</code>
	<country>US</country></postal>
	<phone>+1 617-864-0455</phone>
	<email>rsalz@datapower.com</email>
	<uri>http://www.datapower.com</uri></address></author>
	<date year='2005' month='July' />
	<keyword>URN, UUID</keyword>
	</front>
	<seriesInfo name='RFC' value='4122' />
	<format type='TXT' octets='59319' target='http://www.rfc-editor.org/rfc/rfc4122.txt' />
	<format type='HTML' octets='82717' target='http://xml.resource.org/public/rfc/html/rfc4122.html' />
	<format type='XML' octets='62931' 	target='http://xml.resource.org/public/rfc/xml/rfc4122.xml' />
	</reference>

    
    </references>

<!--
    <references title="Informative References">
  
  <reference anchor="NHDP">
    <front>
      <title>MANET Neighborhood Discovery Protocol (NHDP)</title>
      <author initials="T.H." surname="Clausen" fullname="Thomas Heide Clausen">
        <organization abbrev="X">Ecole Polytechnique, France</organization>
      </author>
      <author initials="J.W." surname="Dean" fullname="Justin W. Dean">
        <organization abbrev="NRL">Naval Research Laboratory, USA</organization>
      </author>
      <author initials="C.M." surname="Dearlove" fullname="Christopher Dearlove">
        <organization>BAE Systems Advanced Technology Centre, UK</organization>
      </author>
      <date month="March" year="2010"/>
    </front>
    <seriesInfo name="work in progress" value="draft-ietf-manet-nhdp-12.txt" />
  </reference>


  <reference anchor="OLSRv2">
    <front>
      <title>The Optimized Link State Routing Protocol version 2</title>
      <author initials="T.H." surname="Clausen" fullname="Thomas Heide Clausen">
        <organization abbrev="X">Ecole Polytechnique, France</organization>
      </author>
      <author initials="C.M." surname="Dearlove" fullname="Christopher Dearlove">
        <organization>BAE Systems Advanced Technology Centre, UK</organization>
      </author>
      <author initials="P." surname="Jacquet" fullname="Philippe Jacquet (ed.)">
        <organization abbrev="INRIA">Project Hipercom, INRIA Rocquencourt, France</organization>
       </author>
        <date month="April" year="2010"/>
        
    </front>
    <seriesInfo name="work in progress" value="draft-ietf-manet-olsrv2-11.txt" />
  </reference>

  </references>
    -->

<!--
    <section title="Examples">
      <section title="Example of a Signed Message">
        <t>
        	The sample message depicted in <xref target="exampleMessage"/> is  taken from the appendix of <xref target="RFC5444"/>. However, a SIGNATURE Message TLV has been added. It is assumed that the SIGNATURE TLV type is lesser than the TLV type of the second message TLV (i.e. it comes first  in the order of Message TLVs). The TLV value represents a 16 octet long signature of the whole message.
        </t>
        
        <figure anchor="exampleMessage" title="Example message with signature">
          <artwork>
   0                   1                   2                   3  
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 0 1 0 0 0|    Packet Sequence Number     | Message Type  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |1 1 1 1 0 0 1 1|0 0 0 0 0 0 0 0 0 1 0 0 1 1 0 0|   Orig Addr   |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |           Originator Address (cont)           |   Hop Limit   |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |   Hop Count   |    Message Sequence Number    |0 0 0 0 0 0 0 0|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 1 1 1 1 0|   SIGNATURE   |0 0 0 1 0 0 0 0|0 0 0 1 0 0 1 0|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |   Hash Func   |  Crypto Func  |        Signature Value        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                    Signature Value (cont)                     |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                    Signature Value (cont)                     |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                    Signature Value (cont)                     |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |    Signature Value (cont)     |   TLV Type    |0 0 0 1 0 0 0 0|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 0 0 1 1 0|                     Value                     |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                 Value (cont)                  |0 0 0 0 0 0 1 0|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 1 1 0 0 0 0|0 0 0 0 0 0 1 0|              Mid              |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Mid              | Prefix Length |0 0 0 0 0 0 0 0|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 0 0 0 0 0|0 0 0 0 0 0 1 1|1 0 0 0 0 0 0 0|0 0 0 0 0 0 1 0|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |             Head              |              Mid              |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |              Mid              |              Mid              |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1|   TLV Type    |0 0 0 1 0 0 0 0|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 0 0 0 0 1 0|             Value             |   TLV Type    |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |0 0 1 0 0 0 0 0|  Index Start  |  Index Stop   |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
          </artwork>
        </figure>
      </section>
    </section>
    
    -->
  </back>
</rfc>
