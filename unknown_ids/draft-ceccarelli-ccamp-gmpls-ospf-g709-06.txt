


CCAMP Working Group                                   D. Ceccarelli, Ed.
Internet-Draft                                               D. Caviglia
Intended status: Standards Track                                Ericsson
Expires: December 25, 2011                                      F. Zhang
                                                                   D. Li
                                                     Huawei Technologies
                                                              S. Belotti
                                                               P. Grandi
                                                          Alcatel-Lucent
                                                                  R. Rao
                                                             K. Pithewan
                                                    Infinera Corporation
                                                                J. Drake
                                                                 Juniper
                                                           June 23, 2011


  Traffic Engineering Extensions to OSPF for Generalized MPLS (GMPLS)
                 Control of Evolving G.709 OTN Networks
               draft-ceccarelli-ccamp-gmpls-ospf-g709-06

Abstract

   The recent revision of ITU-T Recommendation G.709 [G709-V3] has
   introduced new fixed and flexible ODU containers, enabling optimized
   support for an increasingly abundant service mix.

   This document describes OSPF routing protocol extensions to support
   Generalized MPLS (GMPLS) control of all currently defined ODU
   containers, in support of both sub-lambda and lambda level routing
   granularity.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 25, 2011.



Ceccarelli, et al.      Expires December 25, 2011               [Page 1]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Terminology  . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  OSPF-TE Extensions . . . . . . . . . . . . . . . . . . . . . .  3
   3.  TE-Link Representation . . . . . . . . . . . . . . . . . . . .  4
   4.  ISCD format extensions . . . . . . . . . . . . . . . . . . . .  5
     4.1.  Switch Capability Specific Information . . . . . . . . . .  7
   5.  Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
     5.1.  Example of T and S bits utilization  . . . . . . . . . . . 13
     5.2.  Example of ODUflex advertisement . . . . . . . . . . . . . 13
     5.3.  Example of single stage muxing . . . . . . . . . . . . . . 15
     5.4.  Example of multi stage muxing - Unbundled link . . . . . . 16
     5.5.  Example of multi stage muxing - Bundled links  . . . . . . 18
   6.  Compatibility  . . . . . . . . . . . . . . . . . . . . . . . . 20
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . 21
   8.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 21
   9.  Contributors . . . . . . . . . . . . . . . . . . . . . . . . . 21
   10. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 23
   11. References . . . . . . . . . . . . . . . . . . . . . . . . . . 23
     11.1. Normative References . . . . . . . . . . . . . . . . . . . 23
     11.2. Informative References . . . . . . . . . . . . . . . . . . 24
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 24












Ceccarelli, et al.      Expires December 25, 2011               [Page 2]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


1.  Introduction

   G.709 OTN [G709-V3] includes new fixed and flexible ODU containers,
   two types of Tributary Slots (i.e., 1.25Gbps and 2.5Gbps), and
   supports various multiplexing relationships (e.g., ODUj multiplexed
   into ODUk (j<k)), two different tributary slots for ODUk (K=1, 2, 3)
   and ODUflex service type, which is being standardized in ITU-T.  In
   order to present this information in the routing process, this
   document provides OTN technology specific encoding for OSPF-TE.

   For a short overview of OTN evolution and implications of OTN
   requirements on GMPLS routing please refer to [OTN-FWK].  The
   information model and an evaluation against the current solution are
   provided in [OTN-INFO].

   The routing information for Optical Channel Layer (OCh) (i.e.,
   wavelength) is out of the scope of this document.  Please refer to
   [WSON-Frame] for further information.

1.1.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].


2.  OSPF-TE Extensions

   In terms of GMPLS based OTN networks, each OTUk can be viewed as a
   component link, and each component link can carry one or more types
   of ODUj (j<k).

   Each TE LSA can carry a top-level link TLV with several nested sub-
   TLVs to describe different attributes of a TE link.  Two top-level
   TLVs are defined in [RFC 3630]. (1) The Router Address TLV (referred
   to as the Node TLV) and (2) the TE link TLV.  One or more sub-TLVs
   can be nested into the two top-level TLVs.  The sub-TLV set for the
   two top-level TLVs are also defined in [RFC 3630] and [RFC 4203].

   As discussed in [OTN-FWK] and [OTN-INFO], the OSPF-TE must be
   extended so to be able to advertise the termination and switching
   capabilites related to each different ODUj and ODUk/OTUk and the
   advertisement of related multiplexing capabilities.  This leads to
   the need of defining a new Switching Capability value for the ISCD
   with related new sub-sub-TLVs.

   In the following we will use ODUj to indicate a service type that is
   multiplexed into an higher order ODU, ODUk an higher order ODU



Ceccarelli, et al.      Expires December 25, 2011               [Page 3]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   including an ODUj and ODUk/OTUk to indicate the layer mapped into the
   OTUk.  Moreover ODUj(S) and ODUk(S) are used to indicate ODUj and
   ODUk with switching capability only, and the ODUj->ODUk format is
   used to indicate the ODUj into ODUk multiplexing capability.

   This notation can be iterated dependently from the number of
   multiplexing levels.  In the following the term "multiplexing tree"
   is used to identify a multiplexing hierarchy where the root is always
   a server ODUk/OTUk and any other multiplexed container is represented
   with increasing granularity till the leaf of the tree.  The tree can
   be structured with more than one branch if the server ODUk/OTUk
   supports more than one hierarchy.

   If for example a multiplexing hierarchy like the follwing one is
   considered:



             ODU2 ODU0    ODUflex ODU0
                \ /            \ /
                 |              |
               ODU3           ODU2
                  \            /
                   \          /
                    \        /
                     \      /
                       ODU4


   The ODU4 is the root of the muxing tree, ODU3 and ODU2 are containers
   directly multiplexed into the server and then ODU2, ODU0 are the
   leaves of ODU3 branch, while ODUflex and ODU0 are the leaves of the
   ODU2 one.  This means that on this traffic card it is possible to
   have the following multiplexing capabilities:


           ODU2->ODU3->ODU4
           ODU0->ODU3->ODU4
           ODUflex->ODU2->ODU4
           ODU0->ODU2->ODU4



3.  TE-Link Representation

   G.709 ODUk/OTUk Links are represented as TE-Links in GMPLS Traffic
   Engineering Topology for supporting ODUj layer switching.  These TE-
   Links can be modeled in multiple ways.  Some of the prominent



Ceccarelli, et al.      Expires December 25, 2011               [Page 4]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   representations are captured below.

   OTUk physical Link(s) can be modeled as a TE-Link(s).  The TE-Link is
   termed as ODUk-TE-Link.  The ODUk-TE-Link advertises ODUj Switching
   Capacity.  The advertised capacity could include ODUk switching
   capacity.  Figure-1 below provides an illustration of one hop ODUk
   TE-links.


           +-------+               +-------+               +-------+
           |  OTN  |               |  OTN  |               |  OTN  |
           |Switch |<- OTUk Link ->|Switch |<- OTUk Link ->|Switch |
           |   A   |               |   B   |               |   C   |
           +-------+               +-------+               +-------+

                   |<-- TE-Link -->|       |<-- TE-Link -->|


                          Figure 1: ODUk TE-Link

   It is possible to create TE-Links that span more than one hop by
   creating FA between non-adjacent nodes.  Such Te-Links are also
   termed ODUk-TE-Links.  As in one hop case, these types of ODUk-TE-
   Links also advertise ODUj switching capacity.  The advertised
   capacity could include ODUk switching capacity.


           +-------+               +-------+               +-------+
           |  OTN  |               |  OTN  |               |  OTN  |
           |Switch |<- OTUk Link ->|Switch |<- OTUk Link ->|Switch |
           |   A   |               |   B   |               |   C   |
           +-------+               +-------+               +-------+
                                 ODUk Switched

                   |<------------- ODUk Link ------------->|
                   |<-------------- TE-Link--------------->|


                      Figure 2: Multiple hops TE-Link


4.  ISCD format extensions

   The Interface Switching Capability Descriptor describes switching
   capability of an interface [RFC 4202].  This document defines a new
   Switching Capability value for OTN [G.709-v3] as follows:





Ceccarelli, et al.      Expires December 25, 2011               [Page 5]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   Value                       Type
   -----                       ----
   101 (TBA by IANA)           OTN-TDM capable (OTN-TDM)


   Switching Capability and Encoding values MUST be used as follows:


        Switching Capability = OTN-TDM
        Encoding Type = G.709 ODUk (Digital Path) [as defined in RFC4328]


   Both fixed and flexible ODUs use the same switching type and encoding
   values.  When Switching Capability and Encoding fields are set to
   values as stated above, the Interface Switching Capability Descriptor
   should be interpreted as follows:


         0                   1                   2                   3
          0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         | Switching Cap |   Encoding    |           Reserved            |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                  Max LSP Bandwidth at priority 0              |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                  Max LSP Bandwidth at priority 1              |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                  Max LSP Bandwidth at priority 2              |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                  Max LSP Bandwidth at priority 3              |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                  Max LSP Bandwidth at priority 4              |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                  Max LSP Bandwidth at priority 5              |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                  Max LSP Bandwidth at priority 6              |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                  Max LSP Bandwidth at priority 7              |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         |                Switch Capability Specific Information         |
         |                        (variable length)                      |
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Maximum LSP Bandwidth

   The MAX LSP bandwidth field is used accordingly to RFC4204: i.e. 0 <=
   Max LSP Bandwidth <= ODUk/OTUk and intermediate values are those on



Ceccarelli, et al.      Expires December 25, 2011               [Page 6]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   the branch of OTN switching hierarchy supported by the interface.
   E.g. in the OTU4 link it could be possible to have ODU4 as MAX LSP
   Bandwidth for some priorities, ODU3 for others, ODU2 for some others
   etc.  The bandwidth unit is in bytes per second and the encoding is
   in IEEE floating point format.  The discrete values for various ODUs
   is shown in the table below.


+----------------------+---------------------------------+------------------+
|      ODU Type        |      ODU nominal bit rate       |Value in Byte/Sec |
+----------------------+---------------------------------+------------------+
|        ODU0          |        1 244 160 kbits/s        |    0x4D1450C0    |
|        ODU1          |   239/238 x 2 488 320 kbit/s    |    0x4D94F048    |
|        ODU2          |   239/237 x 9 953 280 kbit/s    |    0x4E959129    |
|        ODU3          |   239/236 x 39 813 120 kbit/s   |    0X4F963367    |
|        ODU4          |   239/227 x 99 532 800 kbit/s   |    0x504331E3    |
|        ODU2e         |   239/237 x 10 312 500 kbit/s   |    0x4E9AF70A    |
|                      |                                 |                  |
|   ODUflex for CBR    |                                 |     MAX LSP      |
|   Client signals     |239/238 x client signal bit rate |    BANDWIDTH     |
|                      |                                 |                  |
|  ODUflex for GFP-F   |                                 |     MAX LSP      |
|Mapped client signal  |       Configured bit rate       |    BANDWIDTH     |
|                      |                                 |                  |
|                      |                                 |                  |
| ODU flex resizable   |       Configured bit rate       |     MAX LSP      |
|                      |                                 |    BANDWIDTH     |
+----------------------+---------------------------------+------------------+


   The ISCD includes a variable number of SCSI TLVs as described in the
   following sections.  A single ISCD TLV MAY be used for the
   advertisement of unbundled or bundled links also with different
   server layers.  A different SCSI TLV MUST be used for each different
   muxing hierarchy (muxing tree in the following examples).

   The Maximum LSP Bandwidth at priority 'p' field MUST be set
   accordingly to [RFC4204].  It MUST be set to zero for non supported
   priorities.

   E.g. if 3 OTU3 and 4 OTU2 interfaces are bundled together, a single
   ISCD TLV may be advertised with a different SCSI for each muxing
   hierarchy.

4.1.  Switch Capability Specific Information

   The technology specific part of the ISCD can include a variable
   number of SCSI TLVs.  The definitio of a SCSI TLV allows the encoding



Ceccarelli, et al.      Expires December 25, 2011               [Page 7]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   being future proof and easily extensible.  This document defines SCSI
   TLV type 1 (TBA by IANA), which is used to describe a tree of the OTN
   muxing hierachy.  The muxing hierarchy tree is encoded as an order
   independent list of TLVs called Bandwidth TLVs.  Two types of
   Bandwidth TLV are defined (TBA by IANA):

      - Type 1 - Used for fixed containers

      - Type 2 - Used for flexible containers

   The format of the SCSI TLV is depicted in the following figure:


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (SCSI)        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   |                         Fixed Container                       |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                               ...                             ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 2 (BW-var)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   |                      Variable Container                       |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                            Figure 3: SCSI TLV

   The formats of the two different types of Bandwidth TLV are depicted
   in the following figures:













Ceccarelli, et al.      Expires December 25, 2011               [Page 8]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Signal type  | Num of stages |F|T|S|   Res   |   Priority    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Stage#1    |      ...      |   Stage#N     |    Padding    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Unres ODUk at Prio 0      |     Unres ODUk at Prio 1      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Unres ODUk at Prio 2      |     Unres ODUk at Prio 3      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Unres ODUk at Prio 4      |     Unres ODUk at Prio 5      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Unres ODUk at Prio 6      |     Unres ODUk at Prio 7      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                    Figure 4: Bandwidth TLV - Type 1 -

   The values of the fields shown in figure 4 are explained after figure
   5.




























Ceccarelli, et al.      Expires December 25, 2011               [Page 9]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 2 (BW-var)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Signal type  | Num of stages |F|T|S|   Res   |   Priority    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    Stage#1    |      ...      |   Stage#N     |    Padding    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Bandwidth at priority 0                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Bandwidth at priority 1                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Bandwidth at priority 2                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Bandwidth at priority 3                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Bandwidth at priority 4                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Bandwidth at priority 5                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Bandwidth at priority 6                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Bandwidth at priority 7                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                    Figure 5: Bandwidth TLV - Type 2 -

      - Signal Type: Indicates the ODU type being advertised


            Value        Type
            -----        ------
            1            ODU1
            2            ODU2
            3            ODU3
            4            ODU4
            10           ODU0
            11           ODU2e
            20           ODUflex CBR
            21           ODUflex GFP-F resizable
            22           ODUflex GFP-F non resizable
            60000-65535  Experimental







Ceccarelli, et al.      Expires December 25, 2011              [Page 10]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


      - Number of stages: Indicates the number of multiplexing stages
      level.  It is equal to 0 when a server layer is being advertised,
      1 in case of single stage muxing, 2 in case of dual stage muxing,
      etc.

      - Flags:

         - F flag : This flag defines the meaning of the Bandwidth being
         advertised.  When the F bit is cleared, the type of bandwidth
         being advertised it the Unreserved Bandwidth of the given
         signal type.  On the other side, when the F bit is set, the
         Bandwdith fields represent the MAX LSP bandwdith.

         - T Flag (bit 17): Indicates whether the advertised bandwidth
         can be terminated.  When T=1, the signal type can be
         terminated, when T=0, the signal type cannot be terminated.

         - S Flag (bit 18): Indicates whether the advertised bandwidth
         can be switched.  When S=1, the signal type can be switched,
         when S=0, the signal type cannot be switched.

         The value 00 in both T and S bits is not permitted.

      - Priority :8 bits field with 1 flag for each priority.  Bit set
      indicates pirority supported, bit cleared priority not supported.
      The priority 0 is related to the most significant bit.  When no
      priority is suppored, priority 0 MUST be advertised.

      - Stage#1 ...  Stage#N : These fields are 8 bits long.  Their
      number is variable and a field is present for each stage of the
      muxing hierarchy.  The last one is always indicating the server
      ODU container (ODUk/OTUk).  The values of the Stage fields are the
      same ones defined for the Signal Type field.

      - Padding: Given that the number of Stages is variable, a padding
      to 32 bits field might be needed.

      - Unreserved Bandwidth/Max LSP BW : In case of fixed containers
      the Bandwidth field is 16 bits long and indicates the Unreserved
      Bandwidth in number of available containers, while in case of
      variable container the Bandwidth field (both in case of Unreserved
      or MAX LSP) is 32 bits long and expressed in IEEE floating point
      format.  Only Unreserved/MAX LSP bandwidth for supported
      priorities MUST be advertised.

   [EDITOR NOTE]: TO BE MOVED TO THE INFO MODEL DRAFT Please note that
   in case of multi stage muxing hierarchy (e.g.  ODU1->ODU2->ODU3), not
   only the ODUk/OTUk bandwidth (ODU3) and service layer bandwidth



Ceccarelli, et al.      Expires December 25, 2011              [Page 11]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   (ODU1) are needed, but also the intermediate one (ODU2).  This is a
   typical case of spatial allocation problem.

   Suppose in this scenario to have the following advertisement:

      Hierarchy: ODU1->ODU2->ODU3

      Number of ODU1==5

   The number of ODU1 suggests that it is possible to have an ODU2 FA,
   but it depends on the spatial allocation of such ODU1.

   It is possible that 2 links are bundled together and 3
   ODU1->ODU2->ODU3 are available on a component link and 2 on the other
   one, in such a case no ODU2 FA could be set up.  The advertisement of
   the ODU2 is needed because in case of ODU1 spatial allocation (3+2),
   the ODU2 available bandwidth would be 0 (no ODU2 FA can be created),
   while in case of ODU1 spatial allocation (4+1) the ODU2 available
   bandwidth would be 1 (1 ODU2 FA can be created).


5.  Examples

   The examples in the following pages are not normative and are not
   intended to infer or mandate any specific implementation.


























Ceccarelli, et al.      Expires December 25, 2011              [Page 12]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


5.1.  Example of T and S bits utilization


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (SCSI)        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU1  |  #stages= 2   |0|T=0|S=1| Res |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU2  | Stage#2=ODU3  |             Padding           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Unres ODUk at Prio 0      |     Unres ODUk at Prio 3      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU2  |  #stages= 1   |0|T=1|S=0| Res |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU3  |                  Padding                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Unres ODUk at Prio 0      |     Unres ODUk at Prio 3      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU3  |  #stages= 0   |0|T=1|S=1| Res |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Unres ODUk at Prio 0      |     Unres ODUk at Prio 3      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


              Figure 6: Example 1 - T and S bits utilization

5.2.  Example of ODUflex advertisement

   In this example the advertisement of an ODUflex->ODU3 hierarchy is
   shown.  In case of ODUflex advertisement the MAX LSP bandwidth needs
   to be advertised but in some cases also information about the
   Unreserved bandwidth could be useful.  The F flag is used to
   distinguish between the two cases.


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (SCSI)        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



Ceccarelli, et al.      Expires December 25, 2011              [Page 13]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   |        Type = 2 (BW-var)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S. type=ODUflex|  #stages= 1   |F=0|T|S|   Res |   Priority    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU3 |                   Padding                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Unreserved Bandwidth at priority 0              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Unreserved Bandwidth at priority 1              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Unreserved Bandwidth at priority 2              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Unreserved Bandwidth at priority 3              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Unreserved Bandwidth at priority 4              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Unreserved Bandwidth at priority 5              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Unreserved Bandwidth at priority 6              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Unreserved Bandwidth at priority 7              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 2 (BW-var)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S. type=ODUflex|  #stages= 1   |F=1|T|S|   Res |   Priority    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU3 |                   Padding                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 MAX LSP Bandwidth at priority 0               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 MAX LSP  Bandwidth at priority 1              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 MAX LSP  Bandwidth at priority 2              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 MAX LSP  Bandwidth at priority 3              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 MAX LSP  Bandwidth at priority 4              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 MAX LSP  Bandwidth at priority 5              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 MAX LSP  Bandwidth at priority 6              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 MAX LSP  Bandwidth at priority 7              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                Figure 7: Example 2 - ODUflex advertisement




Ceccarelli, et al.      Expires December 25, 2011              [Page 14]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


5.3.  Example of single stage muxing

   Supposing to have 1 OTU4 component link supporting single stage
   muxing of ODU1, ODU2, ODU3 and ODUflex, the supported hierarchy can
   be summarized in a tree as in the following figure.  For sake of
   simplicity we assume that also in this case only priorities 0 and 3
   are supported.




          ODU1 ODU2  ODU3 ODUflex
            \    \    /    /
             \    \  /    /
                  ODU4


   and the related SCSIs as follows:


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (SCSI)        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU4  |  #stages= 0   |F=0|T|S|  Res  |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =1     |    Unres ODUk at Prio 3 =1    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU1  |  #stages= 1   |F=0|T|S|  Res  |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU4  |                  Padding                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =40    |    Unres ODUk at Prio 3 =40   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU2  |  #stages= 1   |F=0|T|S|  Res  |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU4  |                  Padding                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =10    |    Unres ODUk at Prio 3 =10   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |



Ceccarelli, et al.      Expires December 25, 2011              [Page 15]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU3  |  #stages= 1   |F=0|T|S|  Res  |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU4  |                  Padding                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =2     |    Unres ODUk at Prio 3 =2    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 2 (BW-var)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S. type=ODUflex|  #stages= 1   |F=1|T|S|   Res |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU4 |                   Padding                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            MAX LSP Bandwidth at priority 0 =100Gbps           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            MAX LSP Bandwidth at priority 3 =100Gbps           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S. type=ODUflex|  #stages= 1   |F=0|T|S|   Res |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU4 |                   Padding                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 0 =100Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 3 =100Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                 Figure 8: Example 3 - Single stage muxing

5.4.  Example of multi stage muxing - Unbundled link

   Supposing to have 1 OTU4 component link with muxing capabilities as
   show in the following figure:




          ODU2 ODU0    ODUflex ODU0
             \ /            \ /
              |              |
            ODU3           ODU2
               \            /
                \          /
                 \        /
                  \      /
                    ODU4





Ceccarelli, et al.      Expires December 25, 2011              [Page 16]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   and supported pririties 0 and 3, the advertisement is composed by the
   following SCSI:


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (SCSI)        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU4  |  #stages= 0   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =1     |    Unres ODUk at Prio 3 =1    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU3  |  #stages= 1   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU4 |                   Padding                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =2     |    Unres ODUk at Prio 3 =2    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU2  |  #stages= 1   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU4 |                   Padding                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =10    |    Unres ODUk at Prio 3 =10   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU2  |  #stages= 2   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU3  | Stage#2=ODU4  |             Padding           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =10    |    Unres ODUk at Prio 3 =10   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU0  |  #stages= 2   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU3  | Stage#2=ODU4  |             Padding           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =80    |    Unres ODUk at Prio 3 =80   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |



Ceccarelli, et al.      Expires December 25, 2011              [Page 17]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU0  |  #stages= 2   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU2  | Stage#2=ODU4  |             Padding           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =80    |    Unres ODUk at Prio 3 =80   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 2 (BW-var)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S.type=ODUflex |  #stages= 2   |F=0|T|S|  Res  |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU2  | Stage#2=ODU4  |             Padding           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 0 =100Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 3 =100Gbps        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 2 (BW-var)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S.type=ODUflex |  #stages= 2   |F=1|T|S|  Res  |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU2  | Stage#2=ODU4  |             Padding           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            MAX LSP Bandwidth at priority 0 =10Gbps            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            MAX LSP Bandwidth at priority 3 =10Gbps            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



         Figure 9: Example 4 - Multi stage muxing - Unbundled link

5.5.  Example of multi stage muxing - Bundled links

   In this example 3 OTU4 component links with the following muxing
   capabilities trees are considered


   Component Link#1      Component Link#2     Component Link#3
      ODU2 ODU0             ODU2 ODU0            ODUflex
         \ /                   \ /                  |
          |                     |                  ODU3
         ODU3                  ODU3                 |
          |                     |                  ODU4
         ODU4                  ODU4


   Considering only supported priorities 0 and 3, the advertisement is



Ceccarelli, et al.      Expires December 25, 2011              [Page 18]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   composed by a single ISCD with 2 SCSI TLVs, one for the advertisement
   of Component Link#1 and #2 and the second one for Component Link#3:



   - SCSI 1 -

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (SCSI)        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU4  |  #stages= 0   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =2     |    Unres ODUk at Prio 3 =2    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU3  |  #stages= 1   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU4 |                   Padding                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =4     |    Unres ODUk at Prio 3 =4    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU2  |  #stages= 2   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU3  | Stage#2=ODU4  |             Padding           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =20    |    Unres ODUk at Prio 3 =20   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU0  |  #stages= 2   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Stage#1=ODU2  | Stage#2=ODU4  |             Padding           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =160   |    Unres ODUk at Prio 3 =160  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   SCSI - 2 -

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



Ceccarelli, et al.      Expires December 25, 2011              [Page 19]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   |        Type = 1 (SCSI)        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU4  |  #stages= 0   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =1     |    Unres ODUk at Prio 3 =1    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 1 (BW-fix)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Sig type=ODU3  |  #stages= 1   |F|T|S|   Res   |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU4 |                   Padding                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Unres ODUk at Prio 0 =2     |    Unres ODUk at Prio 3 =2    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Type = 2 (BW-var)      |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S. type=ODUflex|  #stages= 2   |F=1|T|S|   Res |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU3 |  Stage#1=ODU4 |          Padding              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            MAX LSP Bandwidth at priority 0 =40Gbps            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            MAX LSP Bandwidth at priority 3 =40Gbps            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |S. type=ODUflex|  #stages= 2   |F=0|T|S|   Res |1|0|0|1|0|0|0|0|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Stage#1=ODU3 |  Stage#1=ODU4 |          Padding              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 0 =80Gbps         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Unreserved Bandwidth at priority 3 =80Gbps         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



        Figure 10: Example 5 - Multi stage muxing - Bundled lilnks


6.  Compatibility

   Backwards compatibility with implementations based on [RFC4328] can
   be achieved advertising the [RFC4328] based ISCDs in addition to the
   ISCD defined in this document.






Ceccarelli, et al.      Expires December 25, 2011              [Page 20]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


7.  Security Considerations

   This document specifies the contents of Opaque LSAs in OSPFv2.  As
   Opaque LSAs are not used for SPF computation or normal routing, the
   extensions specified here have no direct effect on IP routing.
   Tampering with GMPLS TE LSAs may have an effect on the underlying
   transport (optical and/or SONET-SDH) network.  [RFC3630] suggests
   mechanisms such as [RFC2154] to protect the transmission of this
   information, and those or other mechanisms should be used to secure
   and/or authenticate the information carried in the Opaque LSAs.


8.  IANA Considerations

   TBD


9.  Contributors

      Xiaobing Zi, Huawei Technologies

      Email: zixiaobing@huawei.com



      Francesco Fondelli, Ericsson

      Email: francesco.fondelli@ericsson.com



      Marco Corsi, Altran Italia

      EMail: marco.corsi@altran.it



      Eve Varma, Alcatel-Lucent

      EMail: eve.varma@alcatel-lucent.com



      Jonathan Sadler, Tellabs

      EMail: jonathan.sadler@tellabs.com





Ceccarelli, et al.      Expires December 25, 2011              [Page 21]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011




      Lyndon Ong, Ciena

      EMail: lyong@ciena.com



      Ashok Kunjidhapatham

      akunjidhapatham@infinera.com



      Snigdho Bardalai

      sbardalai@infinera.com



      Steve Balls

      Steve.Balls@metaswitch.com



      Jonathan Hardwick

      Jonathan.Hardwick@metaswitch.com



      Xihua Fu

      fu.xihua@zte.com.cn



      Cyril Margaria

      cyril.margaria@nsn.com










Ceccarelli, et al.      Expires December 25, 2011              [Page 22]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


10.  Acknowledgements


11.  References

11.1.  Normative References

   [MLN-EXT]  D.Papadimitriou, M.Vigoureux, K.Shiomoto, D.Brungard, J.Le
              Roux, "Generalized Multi-Protocol Extensions for Multi-
              Layer and Multi-Region Network (MLN/MRN)", February 2010.

   [OTN-FWK]  F.Zhang, D.Li, H.Li, S.Belotti, D.Ceccarelli, "Framework
              for GMPLS and PCE Control of G.709 Optical Transport
              networks, work in progress
              draft-ietf-ccamp-gmpls-g709-framework-04", March 2011.

   [OTN-INFO]
              S.Belotti, P.Grandi, D.Ceccarelli, D.Caviglia, F.Zhang,
              D.Li, "Information model for G.709 Optical Transport
              Networks (OTN), work in progress
              draft-ietf-ccamp-otn-g709-info-model-00", April 2011.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2154]  Murphy, S., Badger, M., and B. Wellington, "OSPF with
              Digital Signatures", RFC 2154, June 1997.

   [RFC2328]  Moy, J., "OSPF Version 2", STD 54, RFC 2328, April 1998.

   [RFC2370]  Coltun, R., "The OSPF Opaque LSA Option", RFC 2370,
              July 1998.

   [RFC3630]  Katz, D., Kompella, K., and D. Yeung, "Traffic Engineering
              (TE) Extensions to OSPF Version 2", RFC 3630,
              September 2003.

   [RFC4201]  Kompella, K., Rekhter, Y., and L. Berger, "Link Bundling
              in MPLS Traffic Engineering (TE)", RFC 4201, October 2005.

   [RFC4202]  Kompella, K. and Y. Rekhter, "Routing Extensions in
              Support of Generalized Multi-Protocol Label Switching
              (GMPLS)", RFC 4202, October 2005.

   [RFC4203]  Kompella, K. and Y. Rekhter, "OSPF Extensions in Support
              of Generalized Multi-Protocol Label Switching (GMPLS)",
              RFC 4203, October 2005.




Ceccarelli, et al.      Expires December 25, 2011              [Page 23]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   [RFC5250]  Berger, L., Bryskin, I., Zinin, A., and R. Coltun, "The
              OSPF Opaque LSA Option", RFC 5250, July 2008.

   [RFC5340]  Coltun, R., Ferguson, D., Moy, J., and A. Lindem, "OSPF
              for IPv6", RFC 5340, July 2008.

11.2.  Informative References

   [G.709]    ITU-T, "Interface for the Optical Transport Network
              (OTN)", G.709 Recommendation (and Amendment 1),
              February 2001.

   [G.709-v3]
              ITU-T, "Draft revised G.709, version 3", consented
              by ITU-T on Oct 2009.

   [Gsup43]   ITU-T, "Proposed revision of G.sup43 (for agreement)",
              December 2008.


Authors' Addresses

   Daniele Ceccarelli (editor)
   Ericsson
   Via A. Negrone 1/A
   Genova - Sestri Ponente
   Italy

   Email: daniele.ceccarelli@ericsson.com


   Diego Caviglia
   Ericsson
   Via A. Negrone 1/A
   Genova - Sestri Ponente
   Italy

   Email: diego.caviglia@ericsson.com


   Fatai Zhang
   Huawei Technologies
   F3-5-B R&D Center, Huawei Base
   Shenzhen 518129 P.R.China  Bantian, Longgang District
   Phone: +86-755-28972912

   Email: zhangfatai@huawei.com




Ceccarelli, et al.      Expires December 25, 2011              [Page 24]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   Dan Li
   Huawei Technologies
   F3-5-B R&D Center, Huawei Base
   Shenzhen 518129 P.R.China  Bantian, Longgang District
   Phone: +86-755-28973237

   Email: danli@huawei.com


   Sergio Belotti
   Alcatel-Lucent
   Via Trento, 30
   Vimercate
   Italy

   Email: sergio.belotti@alcatel-lucent.com


   Pietro Vittorio Grandi
   Alcatel-Lucent
   Via Trento, 30
   Vimercate
   Italy

   Email: pietro_vittorio.grandi@alcatel-lucent.com


   Rajan Rao
   Infinera Corporation
   169, Java Drive
   Sunnyvale, CA-94089
   USA

   Email: rrao@infinera.com


   Khuzema Pithewan
   Infinera Corporation
   169, Java Drive
   Sunnyvale, CA-94089
   USA

   Email: kpithewan@infinera.com








Ceccarelli, et al.      Expires December 25, 2011              [Page 25]

Internet-Draft     OSPF-TE extensions for OTN support          June 2011


   John E Drake
   Juniper


   Email: jdrake@juniper.net














































Ceccarelli, et al.      Expires December 25, 2011              [Page 26]

