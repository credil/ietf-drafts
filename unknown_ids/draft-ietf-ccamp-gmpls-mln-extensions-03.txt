





     Network Working Group                             Dimitri Papadimitriou    
     Internet Draft                                         Martin Vigoureux 
     Intended Status: Standards Track                         Alcatel-Lucent 
     Expiration Date: April 30, 2009                          Kohei Shiomoto 
                                                                         NTT 
                                                            Deborah Brungard 
                                                                         ATT    
                                                          Jean-Louis Le Roux 
                                                              France Telecom    
                                                            October 31, 2008  
                                            
                                            
            Generalized Multi-Protocol Label Switching (GMPLS) Protocol  
           Extensions for Multi-Layer and Multi-Region Networks (MLN/MRN)  
                                                                                
                 draft-ietf-ccamp-gmpls-mln-extensions-03.txt 
                                           
                                            
     Status of this Memo 
         
        By submitting this Internet-Draft, each author represents that       
        any applicable patent or other IPR claims of which he or she is       
        aware have been or will be disclosed, and any of which he or she       
        becomes aware will be disclosed, in accordance with Section 6 of       
        BCP 79. 
         
        Internet-Drafts are working documents of the Internet Engineering 
        Task Force (IETF), its areas, and its working groups.  Note that 
        other groups may also distribute working documents as Internet-
        Drafts. 
         
        Internet-Drafts are draft documents valid for a maximum of six months 
        and may be updated, replaced, or obsoleted by other documents at any 
        time.  It is inappropriate to use Internet-Drafts as reference 
        material or to cite them other than as "work in progress." 
         
        The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 
         
        The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html 
         
        This Internet-Draft will expire on April 30, 2009. 
      
     Copyright Notice 
         
        Copyright (C) The IETF Trust (2008). 
      
     Abstract 
         
      
      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 1] 
     

     Internet-Draft                                         October 31, 2008 
         

        There are requirements for the support of networks comprising LSRs  
        with different data plane switching layers controlled by a single  
        Generalized Multi Protocol Label Switching (GMPLS) control plane  
        instance, referred to as GMPLS Multi-Layer Networks/Multi-Region  
        Networks (MLN/MRN).  
         
        This document defines extensions to GMPLS routing and signaling 
        protocols so as to support the operation of GMPLS Multi-Layer/Multi-
        Region Networks. It covers the elements of a single GMPLS control 
        plane instance controlling multiple LSP regions or layers within a 
        single TE domain.    
         
     Table of Content  

        1. Introduction................................................ 2  
        2. Summary of the Requirements and Evaluation.................. 3  
        3. Interface adaptation capability descriptor (IACD)........... 3  
        4. Multi-Region Signaling...................................... 6  
        5. Virtual TE link............................................. 8    
        6. Backward Compatibility...................................... 13  
        7. Security Considerations..................................... 13  
        8. IANA Considerations Sections................................ 13  
        9. References.................................................. 14 
         
     Conventions used in this document:  
             
        The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",  
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this  
        document are to be interpreted as described in [RFC2119].  
             
        In addition the reader is assumed to be familiar with [RFC3945],  
        [RFC3471], [RFC4201], [RFC4202], [RFC4203], [RFC4205], and [RFC4206]. 
         
     1. Introduction 
         
        Generalized Multi-Protocol Label Switching (GMPLS) [RFC3945]  
        extends MPLS to handle multiple switching technologies: packet  
        switching (PSC), layer-two switching (L2SC), TDM switching (TDM),  
        wavelength switching (LSC) and fiber switching (FSC). A GMPLS  
        switching type (PSC, TDM, etc.) describes the ability of a node to  
        forward data of a particular data plane technology, and uniquely  
        identifies a control plane region. LSP Regions are defined in  
        [RFC4206]. A network comprised of multiple switching types (e.g. PSC  
        and TDM) controlled by a single GMPLS control plane instance is  
        called a Multi-Region Network (MRN).  
             
        A data plane layer is a collection of network resources capable of  
      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 2] 
     

     Internet-Draft                                         October 31, 2008 
         

        terminating and/or switching data traffic of a particular format.  
        For example, LSC, TDM VC-11 and TDM VC-4-64c represent three  
        different layers. A network comprising transport nodes with  
        different data plane switching layers controlled by a single GMPLS  
        control plane instance is called a Multi-Layer Network (MLN).   
             
        The applicability of GMPLS to multiple switching technologies  
        provides the unified control and operations for both LSP provisioning  
        and recovery. This document covers the elements of a single GMPLS   
        control plane instance controlling multiple layers within a given TE  
        domain. A TE domain is defined as group of LSRs that enforces a 
        common TE policy. A CP instance can serve one, two or more layers. 
        Other possible approaches such as having multiple CP instances 
        serving disjoint sets of layers are outside the scope of this 
        document.  
             
        The next sections provide the procedural aspects in terms of routing  
        and signaling for such environments as well as the extensions  
        required to instrument GMPLS to provide the capabilities for MLM/MRN  
        unified control. The rationales and requirements for Multi-Layer/ 
        Region networks are set forth in [MLN-REQ]. These requirements  
        are evaluated against GMPLS protocols in [MLN-EVAL] and several  
        areas where GMPLS protocol extensions are required are identified.  
            
        This document defines GMPLS routing and signaling extensions so as  
        to cover GMPLS MLN/MRN requirements.    
         
     2. Summary of the Requirements and Evaluation  
         
        As identified in [MLN-EVAL] most of MLN/MRN requirements rely on  
        mechanisms and procedures that are outside the scope of the GMPLS  
        protocols, and thus do not require any GMPLS protocol extensions.  
        They rely on local procedures and policies, and on specific TE  
        mechanisms and algorithms, which are outside the scope of GMPLS  
        protocols.  
             
        Four areas for extensions of GMPLS protocols and procedures have been  
        identified in [MLN-EVAL]:  
         
        o GMPLS routing extension for the advertisement of the internal  
          adjustment capability of hybrid nodes. See Section 3.2.2 of [MLN- 
          EVAL]. 
         
        o GMPLS signaling extension for constrained multi-region signaling  
          (SC inclusion/exclusion). See Section 3.2.1 of [MLN-EVAL]. 
         
        o GMPLS signaling extension for the setup/deletion of Virtual TE- 
      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 3] 
     

     Internet-Draft                                         October 31, 2008 
         

          links (as well as exact trigger for its actual provisioning). See  
          Section 3.1.1.2 of [MLN-EVAL]. 
         
        o GMPLS routing and signaling extension for graceful TE-link   
          deletion (covered in [GR-TELINK]). See Section 3.1.1.3 of [MLN- 
          EVAL]. 
      
        The first three requirements are addressed in Sections 3, 4 and 5, 
        respectively, of this document. The fourth requirement is addressed 
        in [GR-TELINK]. Companion documents address GMPLS OAM aspects that 
        have been identified in [MLN-EVAL]. 
         
     3. Interface adaptation capability descriptor (IACD)   
         
        In the MRN context, nodes supporting more than one switching  
        capability on at least one interface are called Hybrid nodes. Hybrid  
        nodes contain at least two distinct switching elements that are  
        interconnected by "internal links" to provide adaptation between the  
        supported switching capabilities. These "internal links" have finite  
        capacities and must be taken into account when computing the path of  
        a multi-region TE-LSP.  
             
        The advertisement of the internal adaptation capability is required  
        as it provides critical information when performing multi-region path  
        computation.  
             
     3.1 Overview  

        In an MRN environment, some LSRs could contain, under the control of  
        a single GMPLS instance, multiple switching capabilities such as PSC  
        and TDM or PSC and Lambda Switching Capability (LSC).  
             
        These nodes, hosting multiple Interface Switching Capabilities (ISC), 
        just like other nodes (hosting a single Interface Switching 
        Capability) are required to hold and advertise resource information  
        on link states and topology. They also may have to consider certain  
        portions of internal node resources to terminate hierarchical label  
        switched paths (LSPs), since circuit switch capable units such as  
        TDMs, LSCs, and FSCs require rigid resources. For example, a node  
        with PSC+LSC hierarchical switching capability can switch a Lambda  
        LSP but may not be able to can never terminate the Lambda LSP if  
        there is no unused adaptation capability between the LSC and the PSC  
        switching capabilities.  
             
        Another example occurs when L2SC (Ethernet) switching can be adapted  
        in LAPS X.86 and GFP for instance before reaching the TDM switching  
        matrix. Similar circumstances can occur, if a switching fabric that  
      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 4] 
     

     Internet-Draft                                         October 31, 2008 
         

        supports both PSC and L2SC functionalities is assembled with LSC  
        interfaces enabling "lambda" encoding. In the switching fabric, some  
        interfaces can terminate Lambda LSPs and perform frame (or cell)  
        switching whilst other interfaces can terminate Lambda LSPs and  
        perform packet switching.   
             
        Therefore, within multi-region networks, the advertisement of the  
        so-called adaptation capability to terminate LSPs (not the interface  
        capability since the latter can be inferred from the bandwidth  
        available for each switching capability) provides critical  
        information to take into account when performing multi-region path  
        computation. This concept enables a node to discriminate the remote  
        nodes (and thus allows their selection during path computation) with  
        respect to their adaptation capability e.g. to terminate LSPs at the  
        PSC or LSC level.  
         
        Hence, we introduce the idea of discriminating the (internal)  
        adaptation capability from the (interface) switching capability by  
        considering an interface adaptation capability descriptor.  
             
        A more detailed problem statement can be found in [MLN-EVAL]. 
          
     3.2 Interface Adjustment Capability Descriptor (IACD)  
             
        The interface adjustment capability descriptor (IACD) provides the  
        information for the forwarding/switching) capability only.  
         
        Note that the addition of the IACD as TE link attributes does not 
        modify format/messaging and processing associated to the Interface 
        Switching Capability Descriptor (ISCD) defined in [RFC4202]. 
          
     3.2.1 OSPF   
             
        In OSPF, the IACD sub-TLV is defined as an optional sub-TLV of the TE 
        Link TLV (Type 2, see [RFC3630]), with Type 24 (to be assigned by 
        IANA) and variable length.  
         
        The IACD sub-TLV format is defined as follows:  
             
          0                   1                   2                   3   
          0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         | Switching Cap |   Encoding    | Switching Cap |   Encoding    |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 0              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 1              |   
      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 5] 
     

     Internet-Draft                                         October 31, 2008 
         

         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 2              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 3              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 4              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 5              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 6              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 7              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |        Adjustment Capability-specific information             |   
         |                  (variable)                                   |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
             
           Switching Capability (SC) field (byte 1) - 8 bits 
         
              Indicates the lower switching capability (as defined for the  
              existing ISC sub-TLV) first Encoding field (byte 2): as defined  
              for the existing ISC sub-TLV. 
         
           Encoding (byte 2) - 8 bits 
         
              Contains one of the values specified in Section 3.1.1 of  
              [GMPLS-SIG] and updates.  
         
           Switching Capability (SC) field (byte 3) - 8 bits   
         
              Indicates the upper switching capability.     
         
           Encoding (byte 4) - 8 bits 
         
              Set to the encoding of the available adaptation pool and to  
              0xFF when the corresponding SC value has no access to the wire,  
              i.e., there is no ISC sub-TLV for this upper switching  
              capability.   
             
           Other fields MUST be processed as specified in [RFC4202] and    
           [RFC4203]. 
         
        Multiple IACD sub-TLVs MAY be present within a given TE Link TLV   
        and the bandwidth simply provides an indication of resources still  
        available to perform insertion/ extraction for a given adjustment  
        (pool concept).  
          
      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 6] 
     

     Internet-Draft                                         October 31, 2008 
         

        The presence of the IACD sub-TLV as part of the TE Link TLV does not 
        modify format/messaging and processing associated to the ISCD defined 
        in [RFC4203]. 
         
     3.2.2 IS-IS   
             
        In IS-IS, the IACD sub-TLV is an optional sub-TLV of the Extended IS  
        Reachability TLV (see [RFC3784]) with Type 24 (to be assigned by 
        IANA).  
         
        The IACD sub-TLV format is defined as follows:  
             
          0                   1                   2                   3   
          0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         | Switching Cap |   Encoding    | Switching Cap |   Encoding    |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 0              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 1              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 2              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 3              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 4              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 5              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+    
         |                  Max LSP Bandwidth at priority 6              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |                  Max LSP Bandwidth at priority 7              |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
         |        Adjustment Capability-specific information             |   
         |                  (variable)                                   |   
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+   
             
        Where the fields have the same processing and interpretation rules as  
        for Section 3.2.1.  
             
        Multiple IACD sub-TLVs MAY be present within a given extended IS  
        reachability TLV and the bandwidth simply provides an indication of  
        resources still available to perform insertion/ extraction for a  
        given adjustment (pool concept). 
         
        The presence of the IACD sub-TLV as part of the extended IS  

      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 7] 
     

     Internet-Draft                                         October 31, 2008 
         

        reachability TLV does not modify format/messaging and processing 
        associated to the ISCD defined in [RFC4205]. 
         
     4. Multi-Region Signaling  
             
        Section 6.2 of [RFC4206] specifies that when a region boundary node  
        receives a Path message, the node determines whether or not it is at  
        the edge of an LSP region with respect to the ERO carried in the  
        message. If the node is at the edge of a region, it must then  
        determine the other edge of the region with respect to the ERO,  
        using the IGP database. The node then extracts from the ERO the  
        subsequence of hops from itself to the other end of the region.  
             
        The node then compares the subsequence of hops with all existing FA- 
        LSPs originated by the node:   
            
        o If a match is found, that FA-LSP has enough unreserved bandwidth   
          for the LSP being signaled, and the PID of the FA-LSP is   
          compatible with the PID of the LSP being signaled, the node uses   
          that FA-LSP as follows. The Path message for the original LSP is  
          sent to the egress of the FA-LSP. The PHOP in the message is the   
          address of the node at the head-end of the FA-LSP. Before sending   
          the Path message, the ERO in that message is adjusted by removing   
          the subsequence of the ERO that lies in the FA-LSP, and replacing   
          it with just the end point of the FA-LSP.  
            
        o If no existing FA-LSP is found, the node sets up a new FA-LSP.   
          That is, it initiates a new LSP setup just for the FA-LSP.    
             
          Note: compatible PID implies that traffic can be processed by both  
          ends of the FA-LSP without drop.  
             
        Applying the procedure of [RFC4206], in a MRN environment MAY lead to 
        setup one-hop FA-LSPs between each node. Therefore, considering that 
        the path computation is able to take into account richness of 
        information with regard to the SC available on given nodes belonging 
        to the path, it is consistent to provide enough signaling information 
        to indicate the SC to be used and on over which link. Particularly, 
        in case a TE link has multiple SC advertised as part of its ISCD sub-
        TLVs, an ERO does not allow selecting a particular SC.  
             
        Limiting modifications to existing RSVP-TE procedures [RFC3473] and  
        referenced, this document defines a new sub-object of the eXclude  
        Route Object (XRO), see [RFC4874], called Switching Capability sub- 
        object. This sub-object enables (when desired) the explicit  
        identification of (at least one) switching capability to be excluded  
        from the resource selection process described here above.  
      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 8] 
     

     Internet-Draft                                         October 31, 2008 
         

             
        Including this sub-object as part of the XRO that explicitly  
        indicates which SCs have to be excluded (before initiating the  
        procedure described here above) over a specified TE link solves the  
        ambiguous choice among SCs that are potentially used along a given  
        path and give the possibility to optimize resource usage on a multi- 
        region basis. Note that implicit SC inclusion is easily supported by  
        explicitly excluding other SCs (e.g. to include LSC, it is required  
        to exclude PSC, L2SC, TDM and FSC).  
             
     4.1 SC Subobject Encoding  
             
        The contents of an EXCLUDE_ROUTE object defined in [RFC4874] are a  
        series of variable-length data items called subobjects. This  
        document defines the Switching Capability (SC) subobject of the XRO 
        (Type 35), its encoding and processing.  
             
        Subobject Type TBD: Switching Capability  
             
           0                   1                   2                   3  
           0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  
          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
          |L|    Type     |     Length    |   Attribute   | Switching Cap |  
          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
          
           L  
              0 indicates that the attribute specified MUST be excluded  
              1 indicates that the attribute specified SHOULD be avoided  
             
           Attribute  
               
              0 reserved value  
                     
              1 indicates that the specified SC should be excluded or   
                avoided with respect to the preceding numbered (Type 1 or   
                Type 2) or unnumbered interface (Type) subobject  
              
           Switching Cap (8-bits)  
                
              Switching Capability value to be excluded.  
             
        This sub-object must follow the set of numbered or unnumbered  
        interface sub-objects to which this sub-object refers. In case, of  
        loose hop ERO subobject, the XRO sub-object must precede the loose- 
        hop sub-object identifying the tail-end node/interface of the  
        traversed region(s).  
             
      
      
     D. Papadimitriou        Expires April 30, 2009                 [Page 9] 
     

     Internet-Draft                                         October 31, 2008 
         

        Furthermore, it is expected, when label sub-object are following  
        numbered or unnumbered interface sub-objects, that the label value is  
        compliant with the SC capability to be explicitly excluded. 
         
     5. Virtual TE link  
             
        A virtual TE link is defined as a TE link between two upper layer 
        nodes that is not associated with a fully provisioned FA-LSP in a 
        lower layer. A virtual TE link is advertised as any TE link, 
        following the rules in [RFC4206] defined for fully provisioned TE 
        links. A virtual TE link represents thus the potentiality to setup an 
        FA-LSP in the lower layer to support the TE link that has been 
        advertised. In particular, the flooding scope of a virtual TE link is 
        within an IGP area, as is the case for any TE link.   
         
        Two techniques can be used for the setup, operation, and maintenance 
        of Virtual TE links. The corresponding GMPLS protocols extensions are  
        described in this section. The procedures described in this section 
        complement those defined in [RFC4206] and [HIER-BIS]. 
             
     5.1 Edge-to-edge Association     
             
        This approach that does not require state maintenance on transit LSRs  
        relies on extensions to the GMPLS RSVP-TE Call procedure (see  
        [RFC4974]).   
             
        This technique consists of exchanging identification and TE  
        attributes information directly between TE link end points. These TE  
        link end-points correspond to the LSP head-end and tail-end points of  
        of the LSPs that will be established. The end-points MUST belong to  
        the same (LSP) region through the establishment of a call between  
        terminating LSRs.  
             
        Once the call is established the resulting association populates the  
        local TEDB and the resulting TE link is advertised as any other TE  
        link. The latter can then be used to attract traffic. Once an upper  
        layer/lower region LSP makes use of this TE link. A set of one or  
        more LSPs MUST be initially established using procedures defined in 
        [RFC4206] before the FA LSP can be used for nesting the incoming LSP.  
             
        In order to distinguish usage of such call from a classical call (as  
        defined e.g. in [RFC4139]), a CALL ATTRIBUTES object is introduced.  
             
     5.1.1 CALL_ATTRIBUTES Object  
             
        The CALL_ATTRIBUTES object is used to signal attributes required in  
        support of a call, or to indicate the nature or use of a call. It is  
      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 10] 
     

     Internet-Draft                                         October 31, 2008 
         

        built on the LSP-ATTRIBUTES object defined in [RFC4420].  
             
        The CALL_ATTRIBUTES object class is 201 (TBD by IANA) of the form  
        11bbbbbb. This C-Num value (see [RFC2205], Section 3.10) ensures that  
        LSRs that do not recognize the object pass it on transparently.   
             
        One C-Type is defined, C-Type = 1 for CALL Attributes. This object is  
        optional and may be placed on Notify messages to convey additional  
        information about the desired attributes of the call.  
          
     5.1.2 Processing  
             
        Specifically, if an egress (or intermediate) LSR does not support the  
        object, it forwards it unexamined and unchanged.  This facilitates  
        the exchange of attributes across legacy networks that do not support  
        this new object.  
             
        The CALL_ATTRIBUTES object may be used to report call operational  
        state on a Notify message.    
          
        CALL_ATTRIBUTES class = 201, C-Type = 1  
             
           0                   1                   2                   3  
           0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  
          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
          |                                                               |  
          //                       Attributes TLVs                       //  
          |                                                               |  
          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
             
        The Attributes TLVs are encoded as described in Section 3.  
             
     5.1.3 Attributes TLVs  
             
        Attributes carried by the CALL_ATTRIBUTES object are encoded within  
        TLVs. One or more TLVs may be present in each object.  
             
        There are no ordering rules for TLVs, and no interpretation should be  
        placed on the order in which TLVs are received.  
             
        Each TLV is encoded as follows.  
             
          0                   1                   2                   3  
          0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
         |             Type              |           Length              |  
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 11] 
     

     Internet-Draft                                         October 31, 2008 
         

         |                                                               |  
         //                            Value                            //  
         |                                                               |  
         +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
            
           Type  
             
              The identifier of the TLV.  
             
           Length  
             
              The total length of the TLV fields in bytes. If no Value field  
              is present the Length field contains the value four (4).  
              A Value field whose length is not a multiple of four MUST be  
              padded with a Reserved field so that the Length is a multiple   
              of four-octet. Thus, the Length MUST be at least 4, and MUST      
              be a multiple of 4. 
                                     
           Value  
                 
              The data field for the TLV padded as described above.  
         
     5.1.4 Attributes Flags TLV  
             
        The TLV Type 1 indicates the Attributes Flags TLV. Other TLV types   
        may be defined in the future with type values assigned by IANA (see  
        Section 8). The Attributes Flags TLV may be present in a  
        CALL_ATTRIBUTES object.    
             
        The Attribute Flags TLV value field is an array of units of 32 flags  
        numbered from the most significant bit as bit zero. The Length field  
        for this TLV is therefore always a multiple of 4 bytes, regardless of  
        the number of bits carried and no padding is required.  
             
        Unassigned bits are considered as reserved and MUST be set to zero on  
        transmission by the originator of the object. Bits not contained in  
        the TLV MUST be assumed to be set to zero. If the TLV is absent  
        either because it is not contained in the CALL_ATTRIBUTES object or  
        because this object is itself absent, all processing MUST be  
        performed as though the bits were present and set to zero. That is to  
        say, assigned bits that are not present either because the TLV is  
        deliberately foreshortened or because the TLV is not included MUST be  
        treated as though they are present and are set to zero.  
          
     5.1.5 Call inheritance Flag  
             
        This document introduces a specific flag (MSB position bit 0) of the  
      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 12] 
     

     Internet-Draft                                         October 31, 2008 
         

        Attributes Flags TLV, to indicate that the association initiated  
        between the end-points belonging to a call results into a (virtual)  
        TE link advertisement.  
             
        The Call inheritance flag MUST be set to 1 in order to indicate that  
        the established association is to be translated into a TE link  
        advertisement. The value of this flag is by default set to 1. Setting  
        this flag to 0 results in a hidden TE link or in deleting the  
        corresponding TE link advertisement (by setting the corresponding  
        Opaque LSA Age to MaxAge).  
          
        The notify message used for establishing the association is defined  
        as per [RFC4974]. Additionally, the notify message must carry an  
        LSP_TUNNEL_INTERFACE_ID Object, that allows identifying unnumbered  
        FA-LSPs ([RFC3477], [RFC4206]) and numbered FA-LSPs ([RFC4206]). 
         
     5.2. Soft Forwarding Adjacency (Soft FA)                             
             
        The Soft Forwarding Adjacency (Soft FA) approach consists of setting  
        up the FA LSP at the control plane level without actually committing  
        resources in the data plane. This means that the corresponding LSP  
        exists only in the control plane domain. Once such FA is established  
        the corresponding TE link can be advertised following the procedures  
        described in [RFC4206].  
             
        There are two techniques to setup Soft FAs:  
         
        o The first one consists in setting up the FA LSP by precluding  
          resource commitment during its establishment.  
         
        o The second technique consists in making use of path provisioned  
          LSPs only. In this case, there is no associated resource demand  
          during the LSP establishment. This can be considered as the RSVP-TE  
          equivalent of the Null service type specified in [RFC2997].   
             
     5.2.1 Pre-planned LSP Flag   
             
        The LSP ATTRIBUTES object and Attributes Flags TLV are defined in  
        [RFC4420]. The present document defines a new flag, the pre-planned  
        LSP Flag, in the existing Attributes Flags TLV (numbered as Type 1).   
             
        The position of this flag is TBD in accordance with IANA assignment.  
        This flag, part of the LSP_REQUIRED ATTRIBUTE object, follows  
        processing of [RFC4420] for that object. That is, LSRs that do not  
        recognize the object reject the LSP setup effectively saying that  
        they do not support the attributes requested. Indeed, the newly  
        defined attribute requires examination at all transit LSRs.    
      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 13] 
     

     Internet-Draft                                         October 31, 2008 
         

             
        The pre-planned LSP Flag can take one of the following values:  
             
        o When set to 0 this means that the LSP should be fully provisioned.  
          Absence of this flag (hence corresponding TLV) is therefore  
          compliant with the signaling message processing per [RFC3473])  
             
        o When set to 1 this means that the LSP should be provisioned in the  
          control plane only.  
         
        If an LSP is established with the pre-planned Flag set to 1, no 
        resources are committed at the data plane level. 
             
        The operation of committing data plane resources occurs by re-
        signaling the same LSP with the pre-planned Flag set to 0. It is 
        RECOMMENDED that no other modifications are made to other RSVP 
        objects during this operation. That is each intermediate node, 
        processing a Flag transiting from 1 to 0 shall only be concerned with 
        the commitment of data plane resources and no other modification of 
        the LSP properties and/or attributes.   
             
        If an LSP is established with the pre-planned Flag set to 0, it MAY  
        be re-signaled by setting the Flag to 1.    
             
     5.2.2 Path Provisioned LSPs  
             
        There is a difference in between an LSP that is established with 0  
        bandwidth (path provisioning) and an LSP that is established with a  
        certain bandwidth value not committed at the data plane level (i.e.  
        pre-planned LSP).   
             
        However, the former is currently not possible using the GMPLS  
        protocol suite (following technology specific SENDER_TSPEC/FLOWSPEC  
        definition). Indeed, Traffic Parameters such as those defined in [RFC  
        4606] do not support setup of 0 bandwidth LSPs.  
             
        Mechanisms for provisioning (pre-planned or not) LSP with 0 bandwidth   
        is straightforward for PSC the SENDER_TSPEC/FLOWSPEC, the Peak Data  
        Rate field of Int-Serv objects, see [RFC2210], is set to 0. For L2SC  
        LSP, the CIR, EIR, CBS, and EBS must be set of 0 in the Type 2 sub- 
        TLV of the Ethernet Bandwidth Profile TLV. In these cases, upon LSP  
        resource commitment, actual traffic parameter values are used to  
        perform corresponding resource reservation.  
             
        For TDM and LSC LSP, a NULL Label value is used to prevent resource  
        allocation at the data plane level. In these cases, upon LSP resource  
        commitment, actual label value exchange is performed to commit  
      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 14] 
     

     Internet-Draft                                         October 31, 2008 
         

        allocation of timeslots/wavelengths. 
         
     6. Backward compatibility  
             
        New objects and procedures defined in this document are running  
        within a given TE domain. The latter, defined as group of LSRs that 
        enforces a common TE policy, is thus expected to run in the context 
        of a consistent TE policy. Specification for a consistent TE policy 
        is outside the scope of this document. 
             
        In such TE domains, we distinguish between edge LSRs and intermediate  
        LSRs. Edge LSRs must be able to process Call Attribute as defined in  
        Section 5.1 if this is method selected or creating edge-to-edge  
        associations. In that domain, intermediate LSRs are by definition  
        transparent to the Call processing.    
             
        In case the Soft FA method is used for the creation of Virtual TE  
        links, edge and intermediate LSRs must support processing of the LSP  
        ATTRIBUTE object per Section 5.2. 
         
     7. Security Considerations 
         
        This document does not introduce any new security consideration from 
        the ones already detailed in [MPLS-SEC] that describes the MPLS and 
        GMPLS security threats, the related defensive techniques, and the 
        mechanisms for detection and reporting. Indeed, the applicability of 
        the proposed GMPLS extensions is limited to single TE domain. Such 
        domain is under the authority of a single administrative entity. In 
        this context, multi-switching layer comprised within such TE domain 
        are under the control of a single GMPLS control plane instance.  
             
        Nevertheless, Call initiation, as depicted in section 5.1, MUST 
        strictly remain under control of the TE domain administrator. To 
        prevent any abuse of Call setup, edge nodes MUST ensure isolation of 
        their call controller (i.e. the latter is not reachable via external 
        TE domains). To further prevent man-in-the-middle attack, security 
        associations MUST be established between edge nodes initiating and 
        terminating calls. For this purpose, IKE [RFC4306] MUST be used for 
        performing mutual authentication and establishing and maintaining 
        these security associations. 
         
     8. IANA Considerations 
         
     8.1 RSVP     

        IANA has made the following assignments in the "Class Names, Class 
        Numbers, and Class Types" section of the "RSVP PARAMETERS" registry 
      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 15] 
     

     Internet-Draft                                         October 31, 2008 
         

        located at http://www.iana.org/assignments/rsvp-parameters. 
         
        This document introduces a new class named CALL_ATTRIBUTES has been 
        created in the 11bbbbbb range (201) with the following definition: 
      
        Class Number  Class Name                            Reference 
        ------------  -----------------------               --------- 
        201           CALL ATTRIBUTES                       [This I-D] 
         
                      Class Type (C-Type): 
         
                      1   Call Attributes                   [This.I-D] 
         
        This document introduces a new subobject for the EXCLUDE_ROUTE object         
        [RFC4874], C-Type 1. 
                 
        Subobject Type   Subobject Description 
        --------------   --------------------- 
        35               Switching Capability (SC) 
         
     8.2 OSPF   

        IANA maintains Open Shortest Path First (OSPF) Traffic Engineering 
        TLVs Registries included below for Top level Types in TE LSAs and 
        Types for sub-TLVs of TE Link TLV (Value 2). 
         
        This document defines the following sub-TLV of TE Link TLV (Value 2) 
          
        Value  Sub-TLV                                               
        -----  -------------------------------------------------    
        24     Interface Adjustment Capability Descriptor (IACD) 
         
     8.3 IS-IS   

        This document defines the following new sub-TLV type of top-level TLV 
        22 that need to be reflected in the ISIS sub-TLV registry for TLV 22: 

        Type   Description                                        Length 
        ----   -------------------------------------------------  ------ 
        24     Interface Adjustment Capability Descriptor (IACD)  Variable 
            
     9. References 
         
     9.1 Normative References 
         


      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 16] 
     

     Internet-Draft                                         October 31, 2008 
         

        [GR-TELINK] Ali, Z., et al., "Graceful Shutdown in MPLS and 
                   Generalized MPLS Traffic Engineering Networks", draft-
                   ietf-ccamp-mpls-graceful-shutdown, Work in progress. 
         
        [HIER-BIS] Shiomoto, K., and Farrel, A., "Procedures for Dynamically 
                   Signaled Hierarchical Label Switched Paths", draft-ietf-
                   ccamp-lsp-hierarchy-bis, Work in progress.   
         
        [RFC2205]  Braden, R., et al., "Resource ReSerVation Protocol 
                   (RSVP) -- Version 1 Functional Specification", 
                   RFC2205, September 1997.  
             
        [RFC2210]  Wroclawski, J., "The Use of RSVP with IETF  
                   Integrated Services", RFC2210, September 1997.  
           
        [RFC3471]  Berger, L., et al., "Generalized Multi-Protocol Label  
                   Switching (GMPLS) - Signaling Functional Description",  
                   RFC3471, January 2003.  
             
        [RFC3473]  Berger, L., "Generalized Multi-Protocol Label  
                   Switching (GMPLS) Signaling Resource ReserVation  
                   Protocol-Traffic Engineering (RSVP-TE) Extensions",  
                   RFC3473, January 2003.  
              
        [RFC3630]  Katz, D., et al., "Traffic Engineering (TE) Extensions to  
                   OSPF Version 2," RFC3630, September 2003.  
             
        [RFC3784]  Smit, H. and T. Li, "Intermediate System to  
                   Intermediate System (IS-IS) Extensions for Traffic  
                   Engineering (TE)", RFC3784, June 2004.  
             
        [RFC3945]  Mannie, E. and al., "Generalized Multi-Protocol Label  
                   Switching (GMPLS) Architecture", RFC3945, October 2004.  
             
        [RFC4201]  Kompella, K., et al., "Link Bundling in MPLS Traffic      
                   Engineering", RFC4201, October 2005.  
             
        [RFC4202]  Kompella, K., Ed., and Rekhter, Y. Ed., "Routing  
                   Extensions in Support of Generalized MPLS", RFC4202,  
                   October 2005.  
             
        [RFC4203]  Kompella, K., Ed., and Y. Rekhter, Ed., "OSPF Extensions  
                   in Support of Generalized Multi-Protocol Label Switching  
                   (GMPLS)", RFC4203, October 2005.  
             
        [RFC4205]  Kompella, K., Ed., and Y. Rekhter, Ed., "Intermediate  
                   System to Intermediate System (IS-IS) Extensions in  
      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 17] 
     

     Internet-Draft                                         October 31, 2008 
         

                   Support of Generalized Multi-Protocol Label Switching  
                   (GMPLS)", RFC4205, October 2005.  
            
        [RFC4206]  Kompella, K., and Rekhter, Y., "LSP Hierarchy with 
                   Generalized MPLS TE", RFC4206, October 2005. 
                                       
        [RFC4420]  Farrel, A., et al., "Encoding of Attributes for  
                   Multiprotocol Label Switching (MPLS) Label Switched Path  
                   (LSP) Establishment Using Resource ReserVation Protocol- 
                   Traffic Engineering (RSVP-TE)", RFC 4420, February 2006.  
             
        [RFC4428]  Papadimitriou, D., et al. "Analysis of Generalized Multi-  
                   Protocol Label Switching (GMPLS)-based Recovery  
                   Mechanisms (including Protection and Restoration)",  
                   RFC4428, March 2006.  
             
        [RFC4874]  Lee, C.Y., et al. "Exclude Routes - Extension to RSVP-TE,"  
                   RFC4874, April 2007.  
             
        [RFC4974]  Papadimitriou, D., and Farrel, A., "Generalized MPLS  
                   (GMPLS) RSVP-TE Signaling Extensions in support of Calls,"    
                   RFC4974, August 2007. 
         
     9.2 Informative References 
      
        [MLN-EVAL] Leroux, J.-L., et al., "Evaluation of existing GMPLS   
                   Protocols against Multi Region and Multi Layer Networks  
                   (MRN/MLN)", RFC 5339, September 2008. 
             
        [MLN-REQ]  Shiomoto, K., et al., "Requirements for GMPLS-based multi- 
                   region and multi-layer networks (MRN/MLN)", RFC5212, 
                   July 2008.  
         
        [MPLS-SEC] Fang, L. Ed., "Security Framework for MPLS and GMPLS 
                   Networks", draft-ietf-mpls-mpls-and-gmpls-security-
                   framework-03.txt, Work in progress. 
             
        [MLRT]     Imajuku, W., et al., "Multilayer routing using multilayer  
                   switch capable LSRs", draft-imajuku-ml-routing-02.txt, 
                   Work in Progress. 
      
     Acknowledgments 
      
        The authors would like to thank Mr. Wataru Imajuku for the 
        discussions on adaptation between regions [MLRT]. 
                  

      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 18] 
     

     Internet-Draft                                         October 31, 2008 
         

     Author's Addresses 
         
        Dimitri Papadimitriou 
        Alcatel-Lucent Bell 
        Copernicuslaan 50 
        B-2018 Antwerpen, Belgium 
        Phone: +32 3 2408491 
        E-mail: dimitri.papadimitriou@alcatel-lucent.be 
         
        Martin Vigoureux  
        Alcatel-Lucent    
        Route de Villejust  
        91620 Nozay, France  
        Tel : +33 1 30 77 26 69  
        Email: martin.vigoureux@alcatel-lucent.fr  
             
        Kohei Shiomoto   
        NTT   
        3-9-11 Midori-cho  
        Musashino-shi, Tokyo 180-8585, Japan  
        Phone: +81 422 59 4402  
        Email: shiomoto.kohei@lab.ntt.co.jp  
             
        Deborah Brungard   
        ATT  
        Rm. D1-3C22 - 200 S. Laurel Ave.  
        Middletown, NJ 07748, USA  
        Phone: +1 732 420 1573  
        Email: dbrungard@att.com   
             
        Jean-Louis Le Roux   
        France Telecom  
        Avenue Pierre Marzin  
        22300 Lannion, France  
        Phone: +33 (0)2 96 05 30 20  
        Email: jean-louis.leroux@rd.francetelecom.com 
         
     Contributors 
          
        Eiji Oki   
        NTT Network Service Systems Laboratories  
        3-9-11 Midori-cho  
        Musashino-shi, Tokyo 180-8585, Japan  
        Phone : +81 422 59 3441  
        Email: oki.eiji@lab.ntt.co.jp  
      
        Ichiro Inoue  
      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 19] 
     

     Internet-Draft                                         October 31, 2008 
         

        NTT Network Service Systems Laboratories  
        3-9-11 Midori-cho  
        Musashino-shi, Tokyo 180-8585, Japan  
        Phone : +81 422 59 6076  
        Email: ichiro.inoue@lab.ntt.co.jp  
          
        Emmanuel Dotaro    
        Alcatel-Lucent France  
        Route de Villejust  
        91620 Nozay, France  
        Phone : +33 1 6963 4723  
        Email: emmanuel.dotaro@alcatel-lucent.fr  
          
        Gert Grammel   
        Alcatel-Lucent SEL  
        Lorenzstrasse, 10  
        70435 Stuttgart, Germany  
        Email: gert.grammel@alcatel-lucent.de 
         
         
         
         

























      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 20] 
     

     Internet-Draft                                         October 31, 2008 
         

     Full Copyright Statement 
         
        Copyright (C) The IETF Trust (2008). 
         
        This document is subject to the rights, licenses and restrictions 
        contained in BCP 78, and except as set forth therein, the authors 
        retain all their rights. 
         
        This document and the information contained herein are provided on an 
        "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
        OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND 
        THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS 
        OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF 
        THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
        WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
      
     Intellectual Property Statement 
         
        The IETF takes no position regarding the validity or scope of any 
        Intellectual Property Rights or other rights that might be claimed to 
        pertain to the implementation or use of the technology described in 
        this document or the extent to which any license under such rights 
        might or might not be available; nor does it represent that it has 
        made any independent effort to identify any such rights.  Information 
        on the procedures with respect to rights in RFC documents can be 
        found in BCP 78 and BCP 79. 
         
        Copies of IPR disclosures made to the IETF Secretariat and any 
        assurances of licenses to be made available, or the result of an 
        attempt made to obtain a general license or permission for the use of 
        such proprietary rights by implementers or users of this 
        specification can be obtained from the IETF on-line IPR repository at 
        http://www.ietf.org/ipr. 
         
        The IETF invites any interested party to bring to its attention any 
        copyrights, patents or patent applications, or other proprietary 
        rights that may cover technology that may be required to implement 
        this standard.  Please address the information to the IETF at 
        ietf-ipr@ietf.org. 








      
      
     D. Papadimitriou        Expires April 30, 2009                [Page 21] 
     
