<?xml version="1.0" encoding="US-ASCII"?>
<!-- This template is for creating an Internet Draft using xml2rfc,
     which is available here: http://xml.resource.org. -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
	<!-- One method to get references from the online citation libraries.
     There has to be one entity for each item to be referenced. 
     An alternate method (rfc include) is described in the references. -->
	<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
	<!ENTITY RFC2629 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2629.xml">
	<!ENTITY RFC3552 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3552.xml">
	<!ENTITY RFC5226 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5226.xml">
	<!ENTITY RFC3654 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3654.xml">
	<!ENTITY RFC3746 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3746.xml">
	<!ENTITY I-D.narten-iana-considerations-rfc2434bis SYSTEM "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.narten-iana-considerations-rfc2434bis.xml">
	<!ENTITY FE-MODEL SYSTEM "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.draft-ietf-forces-model-16.xml">
	<!ENTITY FORCES-PROTOCOL SYSTEM "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.draft-ietf-forces-protocol-22.xml">
	<!ENTITY FORCES-SCTP-TML SYSTEM "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.draft-ietf-forces-sctptml-02.xml">
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<!-- used by XSLT processors -->
<!-- For a complete list and description of processing instructions (PIs), 
     please see http://xml.resource.org/authoring/README.html. -->
<!-- Below are generally applicable Processing Instructions (PIs) that most I-Ds might want to use.
     (Here they are set differently than their defaults in xml2rfc v1.32) -->
<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="4"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="yes"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="yes" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space 
     (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="no" ?>
<!-- Start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->
<rfc category="info" docName="draft-ietf-forces-interoperability-04" ipr="trust200902">
	<!-- category values: std, bcp, info, exp, and historic
     ipr values: full3667, noModification3667, noDerivatives3667
     you can add the attributes updates="NNNN" and obsoletes="NNNN" 
     they will automatically be output with "(if approved)" -->
	<!-- ***** FRONT MATTER ***** -->
	<front>
		<!-- The abbreviated title is used in the page header - it is only necessary if the 
         full title is longer than 39 characters -->
		<title abbrev="ForCES Interoperability Draft">ForCES Interoperability Draft</title>
		<!-- add 'role="editor"' below for the editors if appropriate -->
		<!-- Another author who claims to be an editor -->
		<author fullname="Evangelos Haleplidis" initials="E.H." surname="Haleplidis">
			<organization>University of Patras</organization>
			<address>
				<postal>
					<street/>
					<!-- Reorder these if your country does things differently -->
					<city>Patras</city>
					<region/>
					<code/>
					<country>Greece</country>
				</postal>
				<email>ehalep@ece.upatras.gr</email>
				<!-- uri and facsimile elements may also be added -->
			</address>
		</author>
		<author fullname="Kentaro Ogawa" initials="K.O." surname="Ogawa">
			<organization>NTT Corporation</organization>
			<address>
				<postal>
					<street/>
					<!-- Reorder these if your country does things differently -->
					<city>Tokyo</city>
					<region/>
					<code/>
					<country>Japan</country>
				</postal>
				<email>ogawa.kentaro@lab.ntt.co.jp</email>
				<!-- uri and facsimile elements may also be added -->
			</address>
		</author>
		<author fullname="Xin-ping Wang" initials="X.W." surname="Wang">
			<organization>Huawei Technologies Co., Ltd.</organization>
			<address>
				<postal>
					<street/>
					<!-- Reorder these if your country does things differently -->
					<city/>
					<region/>
					<code/>
					<country>China</country>
				</postal>
				<email>carly.wang@huawei.com</email>
				<!-- uri and facsimile elements may also be added -->
			</address>
		</author>
    <author fullname="Chuanhuang Li" initials="C." surname="Li">
      <organization>Zhejiang Gongshang University</organization>
      <address>
        <postal>
          <street>18, Xuezheng Str., Xiasha University Town </street>
					<!-- Reorder these if your country does things differently -->
           <city>Hangzhou</city>
          <region/>
          <code>310018</code>
          <country>P.R.China</country>
        </postal>
        <phone>+86-571-28877751</phone>
        <email>chuanhuang_li@pop.zjgsu.edu.cn</email>
				<!-- uri and facsimile elements may also be added -->
			</address>
    </author>
		<date year="2009"/>
		<!-- If the month and year are both specified and are the current ones, xml2rfc will fill 
         in the current day for you. If only the current year is specified, xml2rfc will fill 
	 in the current day and month for you. If the year is not the current one, it is 
	 necessary to specify at least a month (xml2rfc assumes day="1" if not specified for the 
	 purpose of calculating the expiry date).  With drafts it is normally sufficient to 
	 specify just the year. -->
		<!-- Meta-data Declarations -->
		<area>Routing</area>
		<workgroup>Internet Engineering Task Force</workgroup>
		<!-- WG name at the upperleft corner of the doc,
         IETF is fine for individual submissions.  
	 If this element is not present, the default is "Network Working Group",
         which is used by the RFC Editor as a nod to the history of the IETF. -->
		<keyword>ForCES</keyword>
		<keyword>Interoperability</keyword>
		<!-- Keywords will be incorporated into HTML output
         files in a meta tag but they have no effect on text or nroff
         output. If you submit your draft to the RFC Editor, the
         keywords will be used for the search engine. -->
		<abstract>
			<t>This document describes the details of the interoperability test of the Forward and Control
      Element Separation (ForCES) protocol that took place in the University of Patras in Rio, 
      Greece, 15 and 16 July 2009. This informational draft provided necessary information, 
      for all parties who wish to participate in the interoperability test.
    </t>
    <t>This update also includes the results of the test.</t>
		</abstract>
	</front>
	<middle>
		<section title="Terminology and Conventions">
			<t/>
			<section title="Requirements Language">
				<t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <xref target="RFC2119"/>.</t>
			</section>
		</section>
		<section title="Introduction">
			<t> Forwarding and Control Element Separation (ForCES) defines an
   architectural framework and associated protocols to standardize
   information exchange between the control plane and the forwarding
   plane in a ForCES Network Element (ForCES NE).  <xref target="RFC3654"/> has defined
   the ForCES requirements, and <xref target="RFC3746"/>  has defined the ForCES
   framework.</t>
			<section title="ForCES Protocol">
				<t>The ForCES protocol works in a master-slave mode in which FEs are slaves and CEs
   are masters.  The protocol includes commands for transport of Logical Function Block (LFB) configuration information, association setup,
   status, and event notifications, etc. The reader is encouraged to read <xref target="I-D.ietf-forces-protocol">FE-protocol</xref> for further
   information.</t>
			</section>
			<section title="ForCES Model">
				<t>The <xref target="I-D.ietf-forces-model">FE-MODEL</xref> presents a formal way to define FE
   Logical Function Blocks (LFBs) using XML.  LFB configuration
   components, capabilities, and associated events are defined when the
   LFB is formally created.  The LFBs within the FE are accordingly
   controlled in a standardized way by the ForCES protocol.</t>
			</section>
			<section title="Transport mapping layer">
				<t>The TML transports the PL messages.  The TML is where the issues of
   how to achieve transport level reliability, congestion control,
   multicast, ordering, etc. are handled.  It is expected that more than
   one TML will be standardized.  The various possible TMLs could vary
   their implementations based on the capabilities of underlying media
   and transport.  However, since each TML is standardized,
   interoperability is guaranteed as long as both endpoints support the
   same TML.  All ForCES Protocol Layer implementations MUST be portable
  across all TMLs.  Although more than one TML may be standardized
  for the ForCES Protocol, for the purposes of the interoperability test,
  the mandated MUST IMPLEMENT SCTP TML <xref target="I-D.ietf-forces-sctptml"/>
   will be used.</t>
			</section>
		</section>
		<section title="Definitions">
			<t> This document follows the terminology defined by the ForCES
   Requirements in <xref target="RFC3654"/> and by the ForCES framework in <xref target="RFC3746"/>.
   The definitions below are repeated below for clarity.</t>
			<t>
				<list style="symbols">
					<t>Control Element (CE) - A logical entity that implements the ForCES
   protocol and uses it to instruct one or more FEs on how to process
   packets.  CEs handle functionality such as the execution of control
   and signaling protocols.</t>
					<t>CE Manager (CEM) - A logical entity responsible for generic CE
   management tasks.  It is particularly used during the pre-association
   phase to determine with which FE(s) a CE should communicate.  This
   process is called FE discovery and may involve the CE manager
   learning the capabilities of available FEs.</t>
					<t>Forwarding Element (FE) - A logical entity that implements the ForCES
   protocol.  FEs use the underlying hardware to provide per-packet
   processing and handling as directed/controlled by one or more CEs via
   the ForCES protocol.</t>
					<t>FE Manager (FEM) - A logical entity responsible for generic FE
   management tasks.  It is used during pre-association phase to
   determine with which CE(s) an FE should communicate.  This process is
   called CE discovery and may involve the FE manager learning the
   capabilities of available CEs.  An FE manager may use anything from a
   static configuration to a pre-association phase protocol (see below)
   to determine which CE(s) to use.  Being a logical entity, an FE
   manager might be physically combined with any of the other logical
   entities such as FEs.</t>
					<t>ForCES Network Element (NE) - An entity composed of one or more CEs
   and one or more FEs.  To entities outside an NE, the NE represents a
   single point of management.  Similarly, an NE usually hides its
   internal organization from external entities.</t>
					<t>LFB (Logical Function Block) - The basic building block that is
   operated on by the ForCES protocol.  The LFB is a well defined,
   logically separable functional block that resides in an FE and is
   controlled by the CE via ForCES protocol.  The LFB may reside at the
   FE's datapath and process packets or may be purely an FE control or
   configuration entity that is operated on by the CE.  Note that the
   LFB is a functionally accurate abstraction of the FE's processing
   capabilities, but not a hardware-accurate representation of the FE
   implementation.</t>
					<t>FE Topology - A representation of how the multiple FEs within a
   single NE are interconnected.  Sometimes this is called inter-FE
   topology, to be distinguished from intra-FE topology (i.e., LFB
   topology).</t>
					<t>LFB Class and LFB Instance - LFBs are categorized by LFB Classes.  An
   LFB Instance represents an LFB Class (or Type) existence.  There may
   be multiple instances of the same LFB Class (or Type) in an FE.  An
   LFB Class is represented by an LFB Class ID, and an LFB Instance is
   represented by an LFB Instance ID.  As a result, an LFB Class ID
   associated with an LFB Instance ID uniquely specifies an LFB
   existence.</t>
					<t>LFB Metadata - Metadata is used to communicate per-packet state from
   one LFB to another, but is not sent across the network.  The FE model
   defines how such metadata is identified, produced and consumed by the
   LFBs.  It defines the functionality but not how metadata is encoded
   within an implementation.</t>
					<t>LFB Component - Operational parameters of the LFBs that must be
   visible to the CEs are conceptualized in the FE model as the LFB
   components.  The LFB components include, for example, flags, single
   parameter arguments, complex arguments, and tables that the CE can
   read and/or write via the ForCES protocol (see below).</t>
					<t>LFB Topology - Representation of how the LFB instances are logically
   interconnected and placed along the datapath within one FE. Sometimes
    it is also called intra-FE topology, to be distinguished from inter-FE topology.</t>
					<t>Pre-association Phase - The period of time during which an FE Manager
   and a CE Manager are determining which FE(s) and CE(s) should be part
   of the same network element.</t>
					<t>Post-association Phase - The period of time during which an FE knows
   which CE is to control it and vice versa.  This includes the time
   during which the CE and FE are establishing communication with one
   another.</t>
					<t>ForCES Protocol - While there may be multiple protocols used within
   the overall ForCES architecture, the term "ForCES protocol" and
   "protocol" refer to the Fp reference points in the ForCES Framework
   in [RFC3746].  This protocol does not apply to CE-to-CE
   communication, FE-to-FE communication, or to communication between FE
   and CE managers.  Basically, the ForCES protocol works in a master-
   slave mode in which FEs are slaves and CEs are masters.  This
   document defines the specifications for this ForCES protocol.</t>
					<t>ForCES Protocol Transport Mapping Layer (ForCES TML) - A layer in
   ForCES protocol architecture that uses the capabilities of existing
   transport protocols to specifically address protocol message
   transportation issues, such as how the protocol messages are mapped
   to different transport media (like TCP, IP, ATM, Ethernet, etc), and
   how to achieve and implement reliability, multicast, ordering, etc.
   The ForCES TML specifications are detailed in separate ForCES
   documents, one for each TML.</t>
				</list>
			</t>
		</section>
		<section title="Date, Location and Access">
			<section title="Date">
				<t>The date that the Interoperability test took place was 15-16/07/2009, one and a half week before IETF 75, in Stockholm.</t>
			</section>
			<section title="Location">
				<t>Patras is a major harbor of Greece connecting it with Italy.</t>
				<t>The University of Patras is located in Rio, 10km east out of Patras.</t>
				<t>The following coordinates mark the Electrical and Computer Engineering building in the University.</t>
				<t>
					<list style="symbols">
						<t>North: 38o17'15.99"</t>
						<t>East: 21o47'19.28"</t>
					</list>
				</t>
			</section>
			<section title="Access">
				<t>The best way to come to Greece is by plane to the Athens International Airport. </t>
				<t>From there there are three ways to arrive in the University of Patras.</t>
				<t>
					<list style="numbers">
						<t>Renting a car and driving to the University. It is a maximum 2:30 hours drive from the aiport.</t>
						<t>Via coach station. Get from the airport to the coach station via X93 bus towards the Kifissos Coach Station. At the Coach Station there are buses to Patras every 30 minutes. The Bus to Patras may take about 2:30 - 3:00 hours, and the ride of the X93 bus may take about 30 mins - 1hour depending on the traffic, so it's about 3:30 - 4:30 hours away with the wait at the Coach Station.</t>
						<t>Via Train. It is recommended you already have booked your ticket beforehand as there are not many trains going to Patras, and mostly are booked in advanced. It is not recommended that you take the train to Patras, as you have to change at least 2 trains. In order to reach Patras from the Athens International Airport you need to take the Suburban Rail to Kiato. From Kiato you can catch a train to Patras. It will take you at least 5 hours to reach Patras.</t>
					</list>
				</t>
			</section>
		</section>
		<section title="Testbed architecture">
			<t>Most FEs and CEs were located locally at the University of Patras premises. One party 
      participated connecting over the internet.
      </t>
			<t>The test took place between FEs and CEs of different implementors with different permutations. </t>
			<t>All protocol messages of each scenario were monitored using a protocol network analyzer that tested validity. Two tools were used:</t>
			<t><list style="symbols">
    <t>A modified tcpdump <xref target="tcpdump"/>.</t>
    <t>A modified Ethereal <xref target="ethereal"/>.</t>
  </list></t>
			<t>All NE's in all the scenarios were comprised of one CE and one FE from different implementors.</t>
			<section title="Local configuration">
				<t>Hardware/Software (CEs and FEs) that were located within the University of Patras premises, were connected together
		 using switches. </t>
				<t>The scenarios were tested with only one CE associated with one or multiple FEs from different implementors. The CE and the FE(s) were connected in one LAN as shown in the following figure.</t>
				<figure>
					<artwork align="center"><![CDATA[
               +-----+
               | CE1 |
               |Impl1|
               +-----+
                  |
                  |
+------------------------------------+
|                LAN                 |
+------------------------------------+
   |       |         |          |
   |       |   ...   |          |
+-----+ +-----+   +-----+   +--------+
| FE1 | | FE2 |   | FEn |   |Protocol|
|Impl1| |Impl2|   |Impln|   |Analyzer|
+-----+ +-----+   +-----+   +--------+
            ]]></artwork>
				</figure>
				<t>All scenarios were tested more than once with permutation of the CE from different implementors. In the next permutation, the setup were as shown in the following figure.</t>
				<figure>
					<artwork align="center"><![CDATA[
               +-----+
               | CE2 |
               |Impl2|
               +-----+
                  |
                  |
+------------------------------------+
|                LAN                 |
+------------------------------------+
   |       |         |          |
   |       |   ...   |          |
+-----+ +-----+   +-----+   +--------+
| FE1 | | FE2 |   | FEn |   |Protocol|
|Impl1| |Impl2|   |Impln|   |Analyzer|
+-----+ +-----+   +-----+   +--------+
            ]]></artwork>
				</figure>
			</section>
			<section title="Distributed configuration">
				<t>For parties that cannot participate, public IPs can be provided and associations can be achieved over the internet as seen in the following figure.</t>
				<figure>
					<artwork align="center"><![CDATA[
+-----+   +------------+   /\/\/\/\/\   +----------+   +-----+
|FE/CE|   |Implementor |   \Internet/   |University|   |FE/CE|
|ImplX|---|   Router   |---/        \---|  Router  |---|ImplY|
+-----+   +------------+   \/\/\/\/\/   +----------+   +-----+
            ]]></artwork>
				</figure>
				
				<t>For interoperability issues, all CEs and FEs MUST implement no security even in the TML. For security, firewalls MUST be used that will allow only the specific IPs and the SCTP ports defined in the <xref target="I-D.ietf-forces-sctptml">SCTP-TML draft</xref>.</t>
			</section>
		</section>
		<section title="Scenarios">
				<t>Since the main goal of this interoperability test is to test the basic protocol functionality, we will limit the test parameters. Therefore:</t>
				<t><list style="numbers">
					<t>In the Association Setup Message, all report messages will be ignored.</t>
					<t>In the Association Setup Phase, the messages, FEO OperEnable Event (FE to CE), Config FEO Adminup (CE to FE) and FEO Config-Resp (FE to CE) will be ignored. The CE will assume that the FE is enabled once the LFBSelectors has been queried.</t>
					<t>Only FullDataTLVs are going to be used and not SparseData TLV's.</t>
					<t>There will be no transaction operations.</t>
					<t>Each message shall have only one LFBSelector TLV, one Operation TLV and one PathDataTLV per message when these are used.</t>
				</list></t>
			<section title="Scenario 1 - Pre-association Setup">
				<t>While the Pre-association setup is not in the ForCES current scope it is an
      essential step before CEs and FEs communicate. As the first part in a successfull CE-FE connection
      the participating CEs and FEs should be able to be configured.</t>

      <t>In the Pre-association Phase the following configuration items MUST be setup regarding the CEs:</t>
				<t>
					<list style="symbols">
						<t>The CE ID.</t>
						<t>The FE IDs that will be connected to this CE</t>
						<t>The IP of the FEs that will connect</t>
						<t>The TML priority ports.</t>
					</list>
				</t>
				<t>In the Pre-association Phase the following configuration items MUST be setup regarding the FEs:</t>
				<t>
					<list style="symbols">
						<t>The FE ID.</t>
						<t>The CE ID that this FE will be connecting to.</t>
						<t>The IP of the CE that will connect to</t>
						<t>The TML priority ports.</t>
					</list>
				</t>
				<t>Once each element is setup and configured, Scenario 1 is successful.</t>
			</section>
			<section title="Scenario 2 - TML priority channels connection">
				<t>For the current interoperability test, the SCTP will be used as TML.
			The TML connection with the associating element is needed for the scenario 2 to be successful.</t>
				<t>The <xref target="I-D.ietf-forces-sctptml">SCTP-TML draft</xref> defines 3 priority channels, with specific ports:</t>
				<t>
					<list style="symbols">
						<t>High priority - Port number: 6700</t>
						<t>Medium priority - Port number: 6701</t>
						<t>Lower priority - Port number: 6702</t>
					</list>
				</t>
				<t>Once these channels have been established with each associated element, will the Scenario 2 be successful.</t>
			</section>
			<section title="Scenario 3 - Association Setup - Association Complete">
				<t>Once the Pre-association phase has been complete in the previous 2 scenarios, CEs and FEs are ready to communicate
		using the ForCES protocol, and enter the Association Setup stage. In this stage the FEs attempts to join the NE. The 
		following ForCES protocol messages will be exchanged for each CE-FE pair in the specified order:</t>
				<t>
					<list style="symbols">
						<t>Association Setup Message (from FE to CE)</t>
						<t>Association Setup Response Message (from CE to FE)</t>
						<t>Query Message: FEO LFBSelectors(from CE to FE)</t>
						<t>Query Response: FEO LFBSelectors response (from FE to CE)</t>
					</list>
				</t>
				<t>Once the associations has been initialized scenario 3 will have been successful.</t>
			</section>
			<section title="Scenario 4 - CE query">
				<t>Once the Association Phase stage has been complete, the FEs and CEs will enter the Established stage.
		In this stage the FE is continuously updated or queried. The CE should query the FE a specific value from the FE Object LFB and from the FE Protocol LFB.
		An example from the FE Protocol LFB is the HeartBeat Timer (FEHI) and from the FE Object LFB is the State of the LFB (FEState)</t>
				<t>The following ForCES protocol messages will be exchanged:</t>
				<t>
					<list style="symbols">
						<t>Query Message</t>
						<t>Query Response Message</t>
					</list>
				</t>
			</section>
			<section title="Scenario 5 - Heartbeat monitoring">
				<t>The Heartbeat (HB) Message is used for one ForCES element (FE or CE)
	   to asynchronously notify one or more other ForCES elements in the same ForCES NE on its liveness.
	  The default configuration of the Heartbeat Policy of the FE is set to 0 which means, that the FE should not generate any Heartbeat messages.
	   the CE is responsible for checking FE liveness by setting the PL header ACK flag of the message it sends to AlwaysACK.
	   In this Scenario the CE should send a Heartbeat message with the ACK flag set to AlwaysACK and the FE should respond.</t>
				<t>The following ForCES protocol messages will be exchanged:</t>
				<t>
					<list style="symbols">
						<t>Heartbeat Message</t>
					</list>
				</t>
			</section>
			<section title="Scenario 6 - Simple Config Command">
				<t>A config message is sent by the CE to the FE to configure LFB components in the FE. A simple config command easily visible and metered would be to change the Heartbeat configuration. This will be done in two steps:</t>
				<t>
					<list style="numbers">
						<t>Change the FE Heartbeat Policy (FEHBPolicy) to value 1, to force the FE to send heartbeats.</t>
						<t>After some heartbeats from the FE, the FE Heartbeat Interval (FEHI) will be changed.</t>
					</list>
				</t>
				<t>The following ForCES protocol messages will be exchanged:</t>
				<t>
					<list style="symbols">
						<t>Config Message</t>
						<t>Config Response Message</t>
					</list>
				</t>
			</section>
			<section title="Scenario 7 - Association Teardown">
				<t>In the end, the association must be terminated. There are two scenarios by which the association maybe terminated:</t>
				<t>
					<list style="numbers">
						<t>Normal tear down by exchanging Association Teardown Message</t>
						<t>Irregular tear down by stopping heartbeats from a FE or a CE.</t>
						<t>Irregular tear down by externally shutting down/rebooting a FE or a CE.</t>
					</list>
				</t>
				<t>All scenarios may be tested in the interoperability test.</t>
				<t>The following ForCES protocol messages will be exchanged:</t>
				<t>
					<list style="symbols">
						<t>Association Teardown Message</t>
					</list>
				</t>
			</section>
		</section>
		<section title="Tested Features">
      <t>The features that were tested are:</t>
      <section title="ForCES Protocol Features">
      <section title="Protocol Messages">
          <texttable title="ForCES Protocol Message">
            <ttcol align="center">Protocol Message</ttcol>
            <!-- Association Setup -->            
            <c>Association Setup</c>
            <!-- Association Setup Response -->
            <c>Association Setup Response</c>
            <!-- Association TearDown -->            
            <c>Association TearDown</c>
            <!-- Configuration -->            
            <c>Configuration</c>
            <!-- Configuration Response -->            
            <c>Configuration Response</c>
            <!-- Query -->            
            <c>Query</c>
            <!-- Query Response -->            
            <c>Query Response</c>
            <!-- HeartBeat -->            
            <c>HeartBeat</c>
        </texttable>
      </section>
      <section title="MainHeader Handling">
          <texttable title="MainHeader Handling">
            <ttcol align="center">Header Field</ttcol>
            <!-- Correlator -->            
            <c>Correlator</c>
            <!-- Acknowledge Flag -->
            <c>Acknowledge Flag</c>
            <!-- Priority Flag -->            
            <c>Priority Flag</c>
        </texttable>
      </section>      
      <section title="TLV Handling">
          <texttable title="TLVs Supported">
            <ttcol align="center">TLV</ttcol>
            <!-- Association Setup Result TLV -->
            <c>Association Setup Result TLV</c>
            <!-- Association TearDown Reason TLV -->            
            <c>Association TearDown Reason TLV</c>
            <!-- LFBSelector TLV -->            
            <c>LFBSelector TLV</c>
            <!-- Operation TLV -->            
            <c>Operation TLV</c>
            <!-- PathData TLV -->            
            <c>PathData TLV</c>
            <!-- FullData TLV -->            
            <c>FullData TLV</c>
            <!-- Result TLV -->            
            <c>Result TLV</c>
       </texttable>
      </section>
      <section title="Operation Types Supported">
          <texttable title="Operation Type Supported">
            <ttcol align="center">Operation</ttcol>
            <!-- Set -->            
            <c>Set</c>
            <!-- Set Response -->            
            <c>Set Response</c>
            <!-- Get -->            
            <c>Get</c>
            <!-- Get Response -->            
            <c>Get Response</c>
            <!-- Report -->            
            <c>Report</c>
        </texttable>
      </section>
      <section title="ForCES Protocol Advanced Features">
          <texttable title="ForCES Protocol Advanced Features">
            <ttcol align="center">Feature</ttcol>
            <!-- Batching -->
            <c>Batching</c>
            <!-- Heartbeats -->
            <c>HeartBeats</c>
          </texttable>
      <t>Although Batching was not initially designed to be tested, it was tested during the interoperability test.</t>
      </section>
    </section>
    <section title="ForCES Model Features">
      <section title="Basic Atomic Types Supported">
          <texttable title="Basic Atomic Types Supported">
            <ttcol align="center">Atomic Type</ttcol>
            <!-- uchar-->
            <c>uchar</c>
            <!-- uint32 -->
            <c>uint32</c>
       </texttable>
      </section>
      <section title="Compound Types Supported">
          <texttable title="Compound Types Supported">
            <ttcol align="center">Compound Type</ttcol>
            <!-- structs -->            
            <c>structs</c>
            <!-- arrays-->
            <c>arrays</c>
          </texttable>
      </section>
      <section title="LFBs Supported">
        <section title="FE Protocol LFB">
          <texttable title="FE Protocol LFB Datatypes">
            <ttcol align="center">Protocol DataTypes</ttcol>
            <!-- CEHBPolicy -->            
            <c>CEHBPolicy</c>
            <!-- FEHIBPolicy-->
            <c>FEHIBPolicy</c>
          </texttable>
          <texttable title="FE Protocol LFB Components">
            <ttcol align="center">Protocol Components</ttcol>
            <!-- FEID-->
            <c>FEID</c>
            <!-- CEHBPolicy-->
            <c>CEHBPolicy</c>
            <!-- CEHDI -->            
            <c>CEHDI</c>
            <!-- FEHBPolicy -->            
            <c>FEHBPolicy</c>
            <!-- FEHI-->
            <c>FEHI</c>
            <!-- CEID -->            
            <c>CEID</c>
          </texttable>
        </section>
        <section title="FE Object LFB">
          <texttable title="FE Object LFB Datatypes">
            <ttcol align="center">Object DataTypes</ttcol>
            <!-- FEStateValues-->
            <c>FEStateValues</c>
            <!-- LFBSelectorType -->            
            <c>LFBSelectorType</c>
          </texttable>
          <texttable title="FE Object LFB Components">
            <ttcol align="center">Object Components</ttcol>
            <!-- LFBSelectors-->
            <c>LFBSelectors</c>
            <!-- FEState-->
            <c>FEState</c>
          </texttable>
        </section>
      </section>
    </section>
    <section title="ForCES SCTP-TML Features">
      <section title="TML Priority Ports">
          <texttable title="Priority Ports">
            <ttcol align="center">Port</ttcol>
            <!-- High priority (6700) -->            
            <c>High priority (6700)</c>
            <!-- Medium priority (6701)-->
            <c>Medium priority (6701)</c>
            <!-- Low priority (6702)-->
            <c>Low priority (6702)</c>
          </texttable>
      </section>
      <section title="Message Handling at specific priorities">
          <texttable title="Message Handling at High priority (6700) Port">
            <ttcol align="center">ForCES Message</ttcol>
            <!-- Association Setup -->            
            <c>Association Setup</c>
            <!-- Association Setup Response-->
            <c>Association Setup Response</c>
            <!-- Association Teardown-->
            <c>Association Teardown</c>
            <!-- Config-->
            <c>Config</c>
            <!-- Config Response-->
            <c>Config Response</c>
            <!-- Query-->
            <c>Query</c>
            <!-- Query Response-->
            <c>Query Response</c>
          </texttable>
          <texttable title="Message Handling at Low priority (6702) Port">
            <ttcol align="center">ForCES Message</ttcol>
            <!-- Heartbeat -->            
            <c>Heartbeats</c>
          </texttable>
      </section>
    </section>
		</section>
		<section title="Test details">
		<t>The following tests occured:</t>
          <texttable title="Interoperability Tests">
            <ttcol align="center">Test#</ttcol>
            <ttcol align="center">CE</ttcol>
            <ttcol align="center">FE(s)</ttcol>
            <ttcol align="center">Teardown Option</ttcol>            
            <ttcol align="center">Result</ttcol>
            <ttcol align="center">Comment</ttcol>
            <!-- 1-->            
            <c>1</c>
            <c>Zhejiang Gongshang University</c>
            <c>NTT</c>
            <c>Teardown from FE</c>
            <c>Success</c>
            <c></c>
            <!-- 2-->            
            <c>2</c>
            <c>Zhejiang Gongshang University</c>
            <c>NTT</c>
            <c>Teardown from CE</c>
            <c>Success</c>
            <c></c>
            <!-- 3-->            
            <c>3</c>
            <c>Zhejiang Gongshang University</c>
            <c>NTT</c>
            <c>Cable disconnect</c>
            <c>Success</c>
            <c>Nobody saw the loss of cable. Everybody found out from loss of PL-heartbeats</c>
            <!-- 4-->            
            <c>4</c>
            <c>Zhejiang Gongshang University</c>
            <c>NTT</c>
            <c>Loss of CE Heartbeats</c>
            <c>Success</c>
            <c>FE didn't send Teardown and closed connection</c>
            <!-- 5-->            
            <c>5</c>
            <c>Zhejiang Gongshang University</c>
            <c>NTT</c>
            <c>Loss of FE Heartbeats</c>
            <c>Untestable</c>
            <c></c>
            <!-- 6-->            
            <c>6</c>
            <c>NTT</c>
            <c>Zhejiang Gongshang University</c>
            <c>Teardown from CE</c>
            <c>Initial Failure</c>
            <c>CE couldn't handle Query Result for unknown LFBSelects.</c>
            <!-- 7-->            
            <c>7</c>
            <c>Zhejiang Gongshang University</c>
            <c>University of Patras</c>
            <c>Teardown from FE</c>
            <c>Success</c>
            <c>Problems with retransmittion</c>
            <!-- 8-->            
            <c>8</c>
            <c>Zhejiang Gongshang University</c>
            <c>University of Patras</c>
            <c>Teardown from CE</c>
            <c>Success</c>
            <c>Problems with retransmittion</c>
            <!-- 9-->            
            <c>9</c>
            <c>Zhejiang Gongshang University</c>
            <c>University of Patras</c>
            <c>Cable disconnect</c>
            <c>Success</c>
            <c>Nobody saw the loss of cable. Everybody found out from loss of PL-heartbeats</c>
            <!-- 10-->
            <c>10</c>
            <c>Zhejiang Gongshang University</c>
            <c>University of Patras</c>
            <c>Loss of CE Heartbeats</c>
            <c>Success</c>
            <c></c>
            <!-- 11-->
            <c>11</c>
            <c>NTT</c>
            <c>Zhejiang Gongshang University</c>
            <c>Teardown from CE</c>
            <c>Success on Repeat</c>
            <c>Test# 6. Problems fixed</c>
            <!-- 12-->
            <c>12</c>
            <c>NTT</c>
            <c>Zhejiang Gongshang University</c>
            <c>Teardown from FE</c>
            <c>Success</c>
            <c></c>
            <!-- 13-->
            <c>13</c>
            <c>NTT</c>
            <c>Zhejiang Gongshang University</c>
            <c>Cable disconnect</c>
            <c>Success</c>
            <c>Nobody saw the loss of cable. Everybody found out from loss of PL-heartbeats.</c>
            <!-- 14-->
            <c>14</c>
            <c>NTT</c>
            <c>Zhejiang Gongshang University</c>
            <c>Loss of CE Heartbeats</c>
            <c>Success</c>
            <c>Problems with retransmittion</c>
            <!-- 15-->            
            <c>15</c>
            <c>University of Patras</c>
            <c>Zhejiang Gongshang University</c>
            <c>Teardown from FE</c>
            <c>Success</c>
            <c>CE didn't terminat after sending Teardown. FE did</c>
            <!-- 16-->            
            <c>16</c>
            <c>University of Patras</c>
            <c>Zhejiang Gongshang University</c>
            <c>Teardown from CE</c>
            <c>Success</c>
            <c>Problems with retransmittion</c>
            <!-- 17-->            
            <c>17</c>
            <c>University of Patras</c>
            <c>Zhejiang Gongshang University</c>
            <c>Loss of CE Heartbeats</c>
            <c>Success</c>
            <c>FE didn't send Teardown and closed connection</c>
            <!-- 18 -->
            <c>18</c>
            <c>Zhejiang Gongshang University</c>
            <c>NTT &amp; University of Patrasx2</c>
            <c>Teardown from CE</c>
            <c>Success</c>
            <c></c>
            <!-- 19 -->
            <c>19</c>
            <c>NTT</c>
            <c>Zhejiang Gongshang University &amp; University of Patrasx2</c>
            <c>Teardown from CE</c>
            <c>Success</c>
            <c></c>
            <!-- 20 -->
            <c>20</c>
            <c>University of Patras</c>
            <c>NTT &amp; Zhejiang Gongshang University &amp; University of Patrasx2</c>
            <c>Teardown from CE</c>
            <c>Success</c>
            <c></c>
            <!-- 21 -->
            <c>21</c>
            <c>University of Patras</c>
            <c>Zhejiang Gongshang University</c>
            <c>Batching Query and Config</c>
            <c>Success</c>
            <c></c>
            <!-- 22-->            
            <c>22</c>
            <c>University of Patras</c>
            <c>NTT</c>
            <c>Teardown from FE</c>
            <c>Success</c>
            <c></c>
            <!-- 23-->            
            <c>23</c>
            <c>University of Patras</c>
            <c>NTT</c>
            <c>Teardown from CE</c>
            <c>Success</c>
            <c></c>
            <!-- 24-->            
            <c>24</c>
            <c>University of Patras</c>
            <c>NTT</c>
            <c>Loss of CE Heartbeats</c>
            <c>Success</c>
            <c>FE didn't send Teardown and closed connection</c>
            <!-- 25-->            
            <c>25</c>
            <c>University of Patras</c>
            <c>NTT</c>
            <c>Cable disconnect</c>
            <c>Success</c>
            <c>Nobody saw the loss of cable. Everybody found out from loss of PL-heartbeats</c>
            <!-- 26-->            
            <c>26</c>
            <c>NTT</c>
            <c>University of Patras</c>
            <c>Teardown from FE</c>
            <c>Success</c>
            <c></c>
            <!-- 27-->            
            <c>27</c>
            <c>NTT</c>
            <c>University of Patras</c>
            <c>Teardown from CE</c>
            <c>Success</c>
            <c></c>
            <!-- 28-->            
            <c>28</c>
            <c>NTT</c>
            <c>University of Patras</c>
            <c>Loss of CE Heartbeats</c>
            <c>Success</c>
            <c>FE didn't send Teardown and closed connection</c>
            <!-- 29-->            
            <c>29</c>
            <c>NTT</c>
            <c>University of Patras</c>
            <c>Cable disconnect</c>
            <c>Success</c>
            <c>Nobody saw the loss of cable. Everybody found out from loss of PL-heartbeats</c>
          </texttable>
		</section>
		<section title="Results">
      <t>All implementations were found to be interoperable with each other.</t>
      <t>All scenarios were tested successfully.</t>
      <t>The following issues were found and dealt with.</t>
      <t><list style="numbers">
        <t>Some messages were sent to the wrong priority channels. There was some ambiguities on the SCTP-TML draft that have been corrected.</t>
        <t>At some point, a CE sent a TearDown message to the FE. The CE expected the FE to shut down the connection, and the FE waited the CE to shut down the connection and were caught in a deadlock. This was a code bug and was fixed.</t>
        <t>Sometimes the association setup message, only on the remote connection test, although sent, was not received by the other end and made impossible the association. This was caused by network problems.</t>
        <t>An implementation did not take into account that the padding in TLVs MUST NOT be included in the lenght of the TLV. This was a code bug and was fixed.</t>
        <t>EM Flag was set to reserved by a CE and was not ignored by the FE. This was a code bug and was fixed.</t>
        <t>After the FEHBPolicy was set to 1 the FE didn't send any HeartBeats. This was a code bug and was fixed.</t>
        <t>Some FE's sent HeartBeats with the ACK flag with a value other than NoACK. The CE responded. This was a code bug and was fixed.</t>
        <t>When a cable was disconnected, the TML didn't realize that. The association was dropped due to heartbeats, this was a success, but this is an implementation issue implementers should keep in mind. This is a SCTP options issue. Nothing was needed to be done.</t>
        <t>A CE crashed due to unknown LFBSelector values. This was a code bug and was fixed.</t>
        <t>With the remote connection there were a lot of forces packet retransmittion. The problem is that packets like Heartbeats were retransmitted. This is a SCTP issue. Perhaps SCTP-PR is needed to be used.</t>
      </list></t>
      <t>The implementers went beyond the call of duty. The test was extended with another test for batching messages. This test was also done successfully.</t>
		</section>
		<section anchor="Acknowledgements" title="Acknowledgements">
			<t>The authors of this draft would like to acknowledge and thank the chair of the ForCES working group Jamal Hadi Salim.</t>
			<t>Also, the authors would like to acknowledge Professors Odysseas Koufopavlou and Spyros Denazis, as well as the Department of Electrical and Computer Engineering of the University of Patras for hosting the event.</t>
		</section>
		<!-- Possibly a 'Contributors' section ... -->
		<section anchor="IANA" title="IANA Considerations">
			<t>This memo includes no request to IANA.</t>
		</section>
		<section anchor="Security" title="Security Considerations">
			<t>Section 9 of the <xref target="I-D.ietf-forces-protocol">FE-protocol</xref> specifies security considerations of the ForCES protocol. For this interoperability test, no security MUST be chosen even for the distributed architecture.</t>
		</section>
	</middle>
	<!--  *****BACK MATTER ***** -->
	<back>
		<!-- References split into informative and normative -->
		<!-- There are 2 ways to insert reference entries from the citation libraries:
     1. define an ENTITY at the top, and use "ampersand character"RFC2629; here (as shown)
     2. simply use a PI "less than character"?rfc include="reference.RFC.2119.xml"?> here
        (for I-Ds: include="reference.I-D.narten-iana-considerations-rfc2434bis.xml")

     Both are cited textually in the same manner: by using xref elements.
     If you use the PI option, xml2rfc will, by default, try to find included files in the same
     directory as the including file. You can also define the XML_LIBRARY environment variable
     with a value containing a set of directories to search.  These can be either in the local
     filing system or remote ones accessed by http (http://domain/dir/... ).-->
		<references title="Normative References">
			<!--?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml"?-->
      &FE-MODEL;
      
      &FORCES-PROTOCOL;
      
      &FORCES-SCTP-TML;

    </references>
		<references title="Informative References">
			<!-- Here we use entities that we defined at the beginning. -->

	  &RFC3654;
	  
	  &RFC3746;

    &RFC2629;

    &RFC3552;
      
    &RFC5226;

    &RFC2119;

	<reference anchor="tcpdump" target="http://peach.ease.lsoft.com/scripts/wa.exe?A2=ind0906&amp;L=FORCES&amp;T=0&amp;F=&amp;S=&amp;P=2262">
	<front>
		<title>Tcpdump is a linux protocol analyzer. The specific tcpdump that will be used is a modified tcpdump, by Jamal Hadi Salim, that can analyze and decode the ForCES protocol messages.</title>
		<author>
			<organization></organization>
		</author>
		<date></date>
	</front>
</reference>
	<reference anchor="ethereal" target="http://peach.ease.lsoft.com/scripts/wa.exe?A2=ind0906&amp;L=FORCES&amp;T=0&amp;F=&amp;S=&amp;P=1048">
	<front>
		<title>Ethereal is a protocol analyzer. The specific ethereal that will be used is an updated Ethereal, by Fenggen Jia, that can analyze and decode the ForCES protocol messages.</title>
		<author>
			<organization></organization>
		</author>
		<date></date>
	</front>
</reference>
  

      <!-- A reference written by by an organization not a person. -->
		</references>
		<!-- Change Log

v00 2009-02-17  EH   Initial version
  -->
	</back>
</rfc>
