Internet Draft                                         Lou Berger (LabN)
Updates: 3471, 3473, 3945, 4202
Category: Standards Track                             Don Fedyk (Nortel)
Expiration Date: October 14, 2008

                                                          April 14, 2008

       Generalized MPLS (GMPLS) Support For Metro Ethernet Forum
                 and G.8011 Ethernet Service Switching

                draft-ietf-ccamp-gmpls-ether-svcs-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on October 14, 2008.

Copyright Notice

   Copyright (C) The IETF Trust (2008).

Abstract

   This document describes a method for controlling two specific types
   of Ethernet switching via Generalized Multi-Protocol Label Switching
   (GMPLS).  This document supports the types of switching required to
   implied by the Ethernet services that have been defined in the
   context of the Metro Ethernet Forum (MEF) and International
   Telecommunication Union (ITU) G.8011.  Specifically, switching in
   support of Ethernet private line service and Ethernet virtual private
   line service.  Support for MEF and ITU defined parameters are also
   covered.  Some of the extensions defined in this document are generic
   in nature and not specific to Ethernet.




Berger, et al                Standards Track                    [Page 1]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


Table of Contents

 1      Introduction  ..............................................   3
 1.1    Overview  ..................................................   3
 1.2    Conventions used in this document  .........................   5
 2      Common Signaling Support  ..................................   5
 2.1    Ethernet Endpoint Identification  ..........................   5
 2.1.1  Endpoint ID TLV  ...........................................   6
 2.2    Connection Identification  .................................   7
 2.2.1  Procedures  ................................................   7
 2.3    Traffic Parameters  ........................................   7
 2.3.1  L2 Control Protocol TLV  ...................................   8
 2.4    Bundling and VLAN Identification  ..........................   9
 3      EPL Service  ...............................................   9
 3.1    EPL Service Parameters  ....................................  10
 4      EVPL Service  ..............................................  10
 4.1    EVPL Generalized Label Format  .............................  11
 4.2    Egress VLAN ID Control and VLAN ID preservation  ...........  11
 4.3    Single Call - Single LSP  ..................................  12
 4.4    Single Call - Multiple LSPs  ...............................  12
 5      Generic GMPLS Extensions  ..................................  12
 5.1    Notify Message Format  .....................................  13
 5.2    Data Channel Switching  ....................................  13
 5.3    Generalized Channel_Set Label Related Formats  .............  14
 5.3.1  Generalized Channel_Set LABEL_REQUEST Object  ..............  14
 5.3.2  Generalized Channel_Set LABEL Object  ......................  14
 5.3.3  Other Label related Objects  ...............................  17
 6      IANA Considerations  .......................................  17
 6.1    Endpoint ID Attributes TLV  ................................  17
 6.2    Line LSP Encoding  .........................................  17
 6.3    Data Channel Switching Type  ...............................  18
 6.4    Generalized Channel_Set LABEL_REQUEST Object  ..............  18
 6.5    Generalized Channel_Set LABEL Object  ......................  18
 7      Security Considerations  ...................................  19
 8      References  ................................................  19
 8.1    Normative References  ......................................  19
 8.2    Informative References  ....................................  20
 9      Acknowledgments  ...........................................  21
10      Author's Addresses  ........................................  21
11      Full Copyright Statement  ..................................  21
12      Intellectual Property  .....................................  22





Berger, et al                Standards Track                    [Page 2]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


1. Introduction

   [MEF6] and [G.8011] provide parallel frameworks for defining network-
   oriented characteristics of Ethernet services in transport networks.
   The framework discusses general Ethernet connection characteristics,
   Ethernet User-Network Interfaces (UNIs) and Ethernet Network-Network
   Interfaces (NNIs). Within this framework, [G.8011.1] defines the
   Ethernet Private Line (EPL) service and [G.8011.2] defines the
   Ethernet Virtual Private Line (EVPL) service. [MEF6] covers both
   service types.  [MEF10.1] defines service parameters and [MEF11]
   provides UNI requirements and framework.

   [MEF6] and [G.8011] are focused on service interfaces and not the
   underlying technology used to support the service.  For example,
   [G.8011] refers to the defined services being transported over one of
   several possible "server layers".  This document focuses on the types
   of switching that may directly support these services and provides a
   method for GMPLS based control of such switching technologies.  This
   document defines the GMPLS extensions needed to support such
   switching, but does not define the UNI or External NNI (E-NNI)
   reference points.  See [GMPLS-MEF-UNI] for a description of the UNI
   reference point.  This document makes use of the traffic parameters
   defined in [MEF-TRAFFIC].

   Some of the extensions defined in this document are generic in nature
   and not specific to Ethernet, or [MEF6] and [G.8011] related
   switching.  [AUTHORS' NOTE: These extensions are presented in a
   separate section and may be split into their own document as this
   work progresses.]



1.1. Overview

   This document uses a largely common approach to supporting the
   switching implied by the Ethernet services defined in [MEF6],
   [G.8011.1] and [G.8011.2].  The approach builds on standard GMPLS
   mechanisms to deliver the required control capabilities. This
   document reuses the GMPLS mechanisms specified in [RFC3473] and
   [RFC4974].  The document also expands expands the set of signaling
   parameters in a fashion consistent with existing GMPLS signaling.

   [AUTHORS' NOTE: As mentioned above, several extensions defined in
   this document are generic in nature and may be moved into their own
   document as this work progresses.]

   Two types of connectivity between Ethernet endpoints are defined in
   [MEF6] and [G.8011]: point-to-point (P2P) and multipoint-to-



Berger, et al                Standards Track                    [Page 3]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   multipoint (MP2MP). [MEF6] uses the term Ethernet Line (E-line) to
   refer to point-to-point virtual connections, and Ethernet LAN (E-LAN)
   to refer to multipoint-to-multipoint virtual connections.  [G.8011]
   also identifies point-to-multipoint (P2MP) as an area for "further
   study."  Within the context of GMPLS, support is defined for point-
   to-point unidirectional and bidirectional TE Label Switched Paths
   (LSPs), see [RFC3473], and unidirectional point-to-multipoint TE
   LSPs, see [RFC4875].

   Support for P2P and MP2MP service is required by [G.8011] and
   [MEF11].  Note that while [MEF11] requires MP2MP, [G.8011.1] and
   [G.8011.2] only require P2P.  There is a clear correspondence between
   E-Line/P2P service and GMPLS P2P TE LSPs, and support for such LSPs
   are included in the scope of this document.  There is no such clear
   correspondence between E-LAN/MP2MP service and GMPLS TE LSPs.
   Although it is possible to emulate the service using multiple P2P or
   P2MP TE LSPs.  The definition of support for MP2MP service is left
   for future study and is not addressed in this document.

   [MEF11] defines multiple types of control for UNI Ethernet services.
   In MEF UNI Type 1, services are configured manually.  In MEF UNI Type
   2, services may be configured manually or via a link management
   interface.  In MEF UNI Type 3, services may be established and
   managed via a signaling interface.  From the MEF perspective, this
   document along with [GMPLS-MEF-UNI] are aimed at the network control
   needed to support the MEF UNI Type 3 mode of operation.

   [G.8011.1], [G.8011.2] and [MEF11] together with [MEF10.1] define a
   set of service attributes that are associated with each Ethernet
   connection.  Some of these attributes are based on the provisioning
   of the local physical connection and are not modifiable or selectable
   per connection.  Other attributes are specific to a particular
   connection, or must be consistent across the connection.  The
   approach taken in this document to communicate these attributes is to
   exclude the static class of attributes from signaling.  This class of
   attributes will not be explicitly discussed in this document.  The
   other class of attributes are communicated via signaling and will be
   reviewed in the sections below.  The major attributes that will be
   supported in signaling include:
      - Endpoint identifiers
      - Connection identifiers
      - Traffic parameters (see [MEF-TRAFFIC])
      - Bundling / VLAN IDs map (EVPL only)
      - VLAN ID Preservation (EVPL only)

   Common procedures used to support Ethernet LSPs are described in
   Section 2 of this document.  Procedures related to signaling
   switching in support of EPL services are described in Section 3.



Berger, et al                Standards Track                    [Page 4]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   Procedures related to signaling switching in support of EVPL services
   are described in Section 4.  Section 5 covers the generic GMPLS
   extensions proposed by this document.


1.2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].


2. Common Signaling Support

   This section describes the common mechanisms for supporting GMPLS
   signaled control of LSPs that provide Ethernet connections as defined
   in [MEF11], [G.8011.1] and [G.8011.2].

   Except as specifically modified in this document, the procedures
   related to the processing of RSVP objects is not modified by this
   document.  The relevant procedures in existing documents, such as
   [RFC3473], MUST be followed in all cases not explicitly described in
   this document.


2.1. Ethernet Endpoint Identification

   Ethernet endpoint identifiers, as they are defined in [G.8011] and
   [MEF10.1], differ significantly from the identifiers used by GMPLS.
   Specifically, the Ethernet endpoint identifiers are character based
   as apposed to the GMPLS norm of being IP address based.

   The approach taken by this document to address this disparity
   leverages the solution used for connection identification, see
   Section 2.2 and [RFC4974], and the LSP attributes object, see
   [RFC4420].  The solution makes use of the [RFC4974] short call ID,
   and supports the Ethernet endpoint identifier much like [RFC4974]
   supports the long call ID.  That is, the SENDER_TEMPLATE and SESSION
   objects carry IP addresses and a short call ID, and long identifiers
   are carried in the attributes object.  As with the long call ID, the
   Ethernet endpoint identifier is typically only relevant at the
   ingress and egress nodes.

   As defined below, the Ethernet endpoint identifier is carried in the
   LSP_ATTRIBUTES object in a new TLV.  The new TLV is referred to as
   the Endpoint ID TLV.  The processing of the Endpoint ID TLV parallels
   the processing of the long call ID in [RFC4974].  This processing
   requires the inclusion of the LSP_ATTRIBUTES object in a Notify



Berger, et al                Standards Track                    [Page 5]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   message, see Section 5.1.


2.1.1. Endpoint ID TLV

   The Endpoint ID TLV follows the Attributes TLV format defined in
   [RFC4420].  The Endpoint ID TLV has uses the Type value of TBA (by
   IANA).

   The TLV has the following format:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Type (TBA)          |      Length (variable)        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                          Endpoint ID                          |
      |                              ...                              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      See [RFC4420] for a description of the Type and Length fields.
      Note that per [RFC4420], the Length field is set to the unpadded
      length of the Endpoint ID field.

      Endpoint ID

         The Endpoint ID field is a variable length field that carries
         an endpoint identifier, see [MEF10.1] and [G.8011].  This field
         MUST be null padded as defined in [RFC4420].


2.1.1.1. Procedures

   The use of the Endpoint ID TLV is required during call management.
   When a call is established or torn down per [RFC4974], an
   LSP_ATTRIBUTES object containing an Endpoint ID TLV MUST be included
   in the Notify message along with the Long Call ID.

   Short Call ID processing, including those procedures related to call
   and connection processing, is not modified by this document and MUST
   proceed according to [RFC4974].

   An LSP_ATTRIBUTES object containing an Endpoint ID TLV MAY be
   included in the signaling messages of an LSP (connection) associated
   with an established call. Such objects are processed according to
   [RFC4420].

   Transit nodes supporting this document MUST propagate the Endpoint ID



Berger, et al                Standards Track                    [Page 6]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   TLV without modification.


2.2. Connection Identification

   Signaling for Ethernet connections follows the procedures defined in
   [RFC4974].  In particular the Call related mechanisms are reused to
   support endpoint identification.  In the context of Ethernet
   connections, a call only exists when one or more LSPs (connections in
   [RFC4974] terms) are present.  An LSP will always be established
   within the context of a call and, typically, only one LSP will be
   used per call.  See Section 4.4 for the case where more than one LSP
   may exist within a call.


2.2.1. Procedures

   Any node that supports Ethernet connections MUST be able to accept
   and process call setups per [RFC4974].  Ethernet connections
   established according to this document MUST treat the Ethernet
   (virtual) connection identifier as the long "Call identifier (ID)",
   described in [RFC4974].  The short Call ID MUST be used as described
   in [RFC4974].  Use of the LINK_CAPABILITY object is OPTIONAL. Both
   network-initiated and user-initiated Calls MUST be supported.

   When establishing an Ethernet connection the initiator MUST first
   establish a Call per the procedures defined in [RFC4974]. LSP
   management, including removal and addition, then follows [RFC4974].
   As stated in [RFC4974], once a Call is established the initiator
   SHOULD establish at least one Ethernet LSP.  Also, when the last LSP
   associated with a Call is removed, the Call SHOULD be torn down per
   the procedures in [RFC4974].


2.3. Traffic Parameters

   Several types of service attributes are carried in the traffic
   parameters defined in [MEF-TRAFFIC].  These parameters are carried in
   the FLOWSPEC and TSPEC objects as discussed in [MEF-TRAFFIC].  The
   service attributes that are carried are:
      - Bandwidth Profile
      - VLAN CoS Preservation
      - Layer Two (L2) Control Protocol Processing (see Section 2.3.1)

   Ethernet connections established according to this document MUST use
   the traffic parameters defined in [MEF-TRAFFIC] in the FLOWSPEC and
   TSPEC objects.




Berger, et al                Standards Track                    [Page 7]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


2.3.1. L2 Control Protocol TLV

   [MEF10.1], [8011.1] and [8011.2] define service attributes that
   impact the layer two (L2) control protocol processing at the ingress
   and egress.  [MEF-TRAFFIC] does not define support for these service
   attributes, but does allow the attributes to be carried in a TLV.
   This section defines the L2 Control Protocol (L2CP) TLV to carry the
   L2 control protocol processing related service attributes.

   The format of the L2 Control Protocol (L2CP) TLV is as follows:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type=2            |           Length=4            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | IL2CP | EL2CP |                  Reserved                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      See [MEF-TRAFFIC] for a description of the Type and Length fields.
      Per [MEF-TRAFFIC], the Type field MUST be set to two (2), and the
      Length field MUST be set to four (4) for the L2CP TLV.

      Ingress Layer 2 Control Processing (IL2CP): 4 bits

         This field controls processing of Layer 2 Control Protocols
         on a receiving interface. Valid usage is service specific,
         see [MEF10.1], [8011.1] and [8011.2].

         Permitted values are:

         Value  Description           Reference
         -----  -----------           ---------
           0    Reserved
           1    Discard/Block         [MEF10.1], [8011.1] and [8011.2]
           2    Peer/Process          [MEF10.1], [8011.1] and [8011.2]
           3    Pass to EVC/Pass      [MEF10.1], [8011.1] and [8011.2]
           4    Peer and Pass to EVC  [MEF10.1]

      Egress Layer 2 Control Processing (EL2CP): 4 bits

         This field controls processing of Layer 2 Control Protocols on
         a transmitting interface.  When MEF services are used a value
         of 1 MUST be used, other valid usage is service specific, see
         [8011.1] and [8011.2].






Berger, et al                Standards Track                    [Page 8]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


         Permitted values are:

         Value  Description             Reference
         -----  -----------             ---------
           0    Reserved
           1    Based on IL2CP Value    [MEF10.1]
           2    Generate                [8011.1] and [8011.2]
           3    None                    [8011.1] and [8011.2]
           4    Reserved

      Reserved: 24 bits

         This field is reserved. It MUST be set to zero on transmission
         and MUST be ignored on receipt. This field SHOULD be passed
         unmodified by transit nodes.

   Ethernet connections established according to this document MUST
   include the L2CP TLV in the [MEF-TRAFFIC] traffic parameters carried
   in the FLOWSPEC and TSPEC objects.


2.4. Bundling and VLAN Identification

   The control of bundling and listing of VLAN identifiers is only
   supported for EVPL services.  EVPL service specific details are
   provided in Section 4.


3. EPL Service

   Both [MEF6] and [G.8011.1] define an Ethernet Private Line (EPL)
   services. In the words of [G.8011.1], EPL services carry "Ethernet
   characteristic information over dedicated bandwidth, point-to-point
   connections, provided by SDH, ATM, MPLS, PDH, ETY or OTH server layer
   networks."  [G.8011.1] defines two types of Ethernet Private Line
   (EPL) services.  Both types present a service where all data
   presented on a port is transported to the corresponding connect port.
   The types differ in that EPL type 1 service operates at the MAC frame
   layer, while EPL type 2 service operates at the line (e.g., 8B/10B)
   encoding layer. [MEF6] only defines one type of EPL service, and it
   matches [G.8011.1] EPL type 1 service.  Signaling for LSPs that
   support both types of EPL services are detailed below.









Berger, et al                Standards Track                    [Page 9]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


3.1. EPL Service Parameters

   Signaling for the EPL service types only differ in the LSP Encoding
   Type used. The LSP Encoding Type used for each are:

      EPL Service     LSP Encoding Type
      -----------     -----------------
      Type 1/MEF      Ethernet (2) [RFC3471]
      Type 2          Line (e.g., 8B/10B)   (TBA by IANA)


   The other LSP parameters specific to EPL Service are:

      Parameter       Value
      --------------  -----
      Switching Type  DCSC          (See Section 5.2)
      G-PID           Ethernet (33) [RFC3471]

   The parameters defined in this section MUST be used when establishing
   and controlling LSPs that provide EPL service type Ethernet
   switching.  The procedures defined in Section 2 and the other
   procedures defined in [RFC3473] for the establishment and management
   of bidirectional LSPs MUST be followed when establishing and
   controlling LSPs that provide EPL service type Ethernet switching.


4. EVPL Service

   EVPL service is defined within the context of both [G.8011.2] and
   [MEF6]. EVPL service allows for multiple Ethernet connections per
   port, each of which supports a specific set of VLAN IDs. The service
   attributes identify different forms of EVPL services, e.g., bundled
   or unbundled.  Independent of the different forms, LSPs supporting
   EVPL Ethernet type switching are signaled using the same mechanisms
   to communicate the one or more VLAN IDs associated with a particular
   LSP (Ethernet connection).

   The relevant [RFC3471] parameter values that MUST be used for EVPL
   connections are:

      Parameter         Value
      --------------    -----
      Switching Type    TBD      [NOTE: use of L2SC under discussion]
      LSP Encoding Type Ethernet (2)
      G-PID             Ethernet (33)

   As with EPL, the procedures defined in Section 2 and the other
   procedures defined in [RFC3473] for the establishment and management



Berger, et al                Standards Track                   [Page 10]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   of bidirectional LSPs MUST be followed when establishing and
   controlling LSPs that provide EVPL service type Ethernet switching.

   LSPs that provide EVPL service type Ethernet switching MUST use the
   EVPL Generalized Label Format per Section 4.1, and the Generalized
   Channel_Set Label Objects per Section 5.2.  A notable implication of
   bundled EVPL services and carrying multiple VLAN IDs is that a Path
   message may grow to be larger than a single (fragmented or non-
   fragmented) IP packet.  The basic approach to solving this is to
   allow for multiple LSPs which are associated with a single call, see
   Section 2.2.  The specifics of this approach are describe below in
   Section 4.4.


4.1. EVPL Generalized Label Format

   Bundled EVPL services requires the use of a service specific label,
   called the EVPL Generalized Label. For consistency, Non-bundled EVPL
   services also use the same label.

   The format for the Generalized Label (Label Type value 2) used with
   EVPL services is:

      0                   1
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Rsvd  |        VLAN ID        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Reserved: 4 bits

         This field is reserved. It MUST be set to zero on transmission
         and MUST be ignored on receipt. This field SHOULD be passed
         unmodified by transit nodes.

      VLAN ID: 12 bits

         A VLAN identifier.


4.2. Egress VLAN ID Control and VLAN ID preservation

   Per [MEF6], the mapping of the single VLAN ID used at the incoming
   interface of the ingress to a different VLAN ID at the outgoing
   interface at the egress UNI is allowed for EVPL services that do not
   support both bundling and VLAN ID preservation.  Such a mapping MUST
   be requested and signaled based on the explicit label control
   mechanism defined in [RFC3473] and clarified in [RFC4003].



Berger, et al                Standards Track                   [Page 11]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   When the explicit label control mechanism is not used, VLAN IDs MUST
   be preserved, i.e., not modified, across an LSP.


4.3. Single Call - Single LSP

   For simplicity in management, a single LSP SHOULD be used for each
   EVPL type LSP whose Path and Resv messages fit within a single
   unfragmented IP packet.  This allows the reuse of all standard LSP
   modification procedures.  Of particular note is the modification of
   the VLAN IDs associated with the Ethernet connection.  Specifically,
   per Section 5.3, make-before-break procedures SHOULD be used to
   modify the Channel_Set LABEL object.


4.4. Single Call - Multiple LSPs

   Multiple LSPs MAY be used to support an EVPL service connection.  All
   such LSPs MUST be established within the same call and follow call
   related procedures, see Section 2.2.  The primary purpose of multiple
   LSPs is to support the case where the related objects result in a
   Path message being larger than a single unfragmented IP packet.

   When using multiple LSPs, all LSPs associated with the same call /
   EVPL connection MUST be signaled with the same LSP objects with the
   exception of the SENDER_TEMPLATE, SESSION and label related objects.
   All such LSPs SHOULD share resources.  When using multiple LSPs, VLAN
   IDs MAY be added to the EVPL connection using either a new LSP or
   make-before-break procedures, see [RFC3209].  Make-before-break
   procedures on individual LSPs SHOULD be used to remove VLAN IDs.

   To change other service parameters it is necessary to resignal all
   LSPs associated with the call via make-before-break procedures.


5. Generic GMPLS Extensions

   This section presents extensions to GMPLS that, while motivated by
   EPL and EVPL service, are generic in nature and may be useful to any
   switching technology controlled via GMPLS.

   [AUTHORS' NOTE: The extensions presented in this section and may be
   split into one or more independent documents as this work
   progresses.]







Berger, et al                Standards Track                   [Page 12]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


5.1. Notify Message Format

   The Notify message format is extended based on the format defined in
   [RFC4974] to allow for the use of the LSP_ATTRIBUTES object as
   defined in this document.  The inclusion of an LSP_ATTRIBUTES object
   in Notify messages is optional.  When present, the LSP_ATTRIBUTES
   object SHOULD follow the SESSION_ATTRIBUTE object.

   The format of the Notify Message is updated as follows:

      <Notify message>  ::= see [RFC4974]

      <notify session>  ::= <SESSION> [ <ADMIN_STATUS> ]
                            [ <POLICY_DATA> ...]
                            [ <LINK_CAPABILITY> ]
                            [ <SESSION_ATTRIBUTE> ]
                            [ <LSP_ATTRIBUTES> ]
                            [ <sender descriptor> | <flow descriptor> ]

      <sender descriptor> ::= see [RFC3473]

      <flow descriptor> ::= see [RFC3473]


5.2. Data Channel Switching

   Current GMPLS switching types are defined in [RFC3945] and [RFC3471]
   and support switching at the packet (PSC), frame (L2SC), time-slot
   (TDM), frequency (LSC) and fiber (FSC) granularities.  One type of
   switching that is not well represented in this current set switching
   that takes all data received on an ingress port and switches it
   through a network to an egress port.  While there are similarities
   between this level of switching and the "opaque single wavelength"
   case described in Section 3.5 of [RFC4202], such port-to-port
   switching is not limited to the optical switching technology implied
   by the LSC type. Therefore, a new switching type is defined.

   The new switching type is called Data Channel Switching Capable
   (DCSC). (Port switching seems a more intuitive name, but it collides
   with PSC so isn't used.)  DCSC interfaces are able to support
   switching of the whole digital channel presented on single channel
   interfaces.  Interfaces that inherently support multiple channels,
   e.g., WDM and channelized TDM interfaces, are specifically excluded
   from this type. Any interface that can be represented as a single
   digital channel are included.  Examples include concatenated TDM and
   line encoded interfaces.  Framed interfaces may also be included when
   they support switching on an interface granularity.




Berger, et al                Standards Track                   [Page 13]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   DCSC is represented in GMPLS, see [RFC3471] and [RFC4202], using the
   value TBA (by IANA).

   Port labels, as defined in [RFC3471], SHOULD be used for LSPs
   signaled using the DCSC Switching Type.


5.3. Generalized Channel_Set Label Related Formats

   This section defines a new type of generalized label and updates
   related objects.  This section updates the label related definitions
   of [RFC3473].  The ability to communicate more than one label as part
   of the same LSP was motivated by the support for the communication of
   one or more VLAN IDs, but the formats defined in this section are not
   technology specific and may be useful for other switching
   technologies.


5.3.1. Generalized Channel_Set LABEL_REQUEST Object

   The Generalized Channel_Set LABEL_REQUEST object is used to indicate
   that the Generalized Channel_Set LABEL Object is to be used with the
   associated LSP.  The format of the Generalized Channel_Set
   LABEL_REQUEST object is the same as the Generalized LABEL_REQUEST
   object and uses of C-Type of TBA.


5.3.2. Generalized Channel_Set LABEL Object

   The Generalized Channel_Set LABEL Object communicates one or more
   labels, all of which can be used equivalently in the data path
   associated with a single LSP.  The format of the Generalized
   Channel_Set LABEL Object is based on the LABEL_SET object defined in
   [RFC3473].  It differs from the the LABEL_SET object in that the full
   set may be represented in a single object rather than the multiple
   objects required by the [RFC3473] LABEL_SET object.  The object MUST
   be used on LSPs that use the Generalized Channel_Set LABEL_REQUEST
   object.  The object MUST be processed per [RFC3473].  Make-before-
   break procedures, see [RFC3209], SHOULD be used when modifying the
   Channel_Set LABEL object.











Berger, et al                Standards Track                   [Page 14]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   The format of the Generalized Channel_Set LABEL object is:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Length             | Class-Num (16)|  C-Type (TBA) |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Channel_Set Sub-Object 1                    |
      |                              ...                              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      :                               :                               :
      :                               :                               :
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Channel_Set Sub-Object N                    |
      |                              ...                              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The Channel_Set Sub-Object size is measured in bytes and MUST always
   be a multiple of 4, and at least 4, and has the following format:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Action     |  Num Subchannels  |        Label Type         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                          Subchannel 1                         |
      |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |       ...                     |                               :
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               :
      :                               :                               :
      :                               :                               :
      :                               :                               :
      :                               :                               :
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                          Subchannel N                         |
      |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           ...                 |         Padding               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Action: 8 bits

         See [RFC3471] for definition of actions.  Range actions SHOULD
         be used when possible to minimize the size of the Channel_Set
         LABEL Object.







Berger, et al                Standards Track                   [Page 15]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


      Number of Subchannels: 10 bits

         Indicates the number of subchannels carried in the sub-object.
         When the number of subchannels required exceeds the limit of
         the field, i.e., 1024, multiple Channel_Set Sub-Objects MUST be
         used.  Note that the size of the sub-object may result in a
         Path message being larger than a single unfragmented IP packet.
         See section 4.4 for an example of how this case may be handled.

         A value of zero (0) has special meaning and MAY be used in
         either the LABEL or UPSTREAM_LABEL object.  A value of zero (0)
         is used in a LABEL or UPSTREAM_LABEL object to indicate that
         the subchannel(s) used in the corresponding (downstream or
         upstream) direction MUST match the subchannel(s) carried in the
         reverse directions label object. When value of zero (0) is
         used, no Subchannels are included in the Channel_Set Sub-Object
         and only one Channel_Set Sub-Object may be present.  The zero
         (0) value MUST NOT be used in both the LABEL and UPSTREAM_LABEL
         object of the same LSP.

      Label Type: 14 bits

         See [RFC3473] for a description of this field.

      Subchannel: Variable

         See [RFC3471] for a description of this field. Note that this
         field may not be 32 bit aligned.

      Padding: Variable

         Padding is used to ensure that the length of a Channel_Set Sub-
         Object meets the multiple of 4 byte size requirement stated
         above.  The field is only required when the Subchannel field is
         not 32 bit aligned and the number of included Subchannel fields
         result in the Sub-Object not being 32 bit aligned.

         The Padding field MUST be included when the number of bits
         represented in all the Subchannel fields included in a
         Generalized Channel_Set Sub-Object result in the Sub-Object not
         being 32 bit aligned.  When present, the Padding field MUST
         have a length that results in the Sub-Object being 32 bit
         aligned.  When present, the Padding field MUST be set to a zero
         (0) value on transmission and MUST be ignored on receipt.
         These bits SHOULD be passed through unmodified by transit
         nodes.





Berger, et al                Standards Track                   [Page 16]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


5.3.3. Other Label related Objects

   The previous section introduces a new LABEL object.  As such the
   formats of the other label related objects are also impacted.
   Processing of these objects is not modified and remain per their
   respective specifications.  The other label related objects are
   defined in [RFC3473] and include:
      - SUGGESTED_LABEL object
      - LABEL_SET object
      - ACCEPTABLE_LABEL_SET object
      - UPSTREAM_LABEL object
      - RECOVERY_LABEL object


6. IANA Considerations

   IANA is requested to administer assignment of new values for
   namespaces defined in this document and reviewed in this section.


6.1. Endpoint ID Attributes TLV

   Upon approval of this document, the IANA will make the assignment in
   the "Attributes TLV Space" section of the "RSVP TE Parameters"
   registry located at http://www.iana.org/assignments/rsvp-te-
   parameters:

                      Allowed on      Allowed on
   Type  Name         LSP_ATTRIBUTES  LSP_REQUIRED_ATTRIBUTES  Reference
   ----  -----------  --------------  -----------------------  ---------
   2*    Endpoint ID  Yes             Yes                [This document]

   (*) Suggested value.


6.2. Line LSP Encoding

   Upon approval of this document, the IANA will make the assignment in
   the "LSP Encoding Types"  section of the "GMPLS Signaling Parameters"
   registry located at http://www.iana.org/assignments/gmpls-sig-
   parameters:

   Value   Type                                 Reference
   -----   ---------------------------          ---------
      14*  Line (e.g., 8B/10B)                 [This document]

   (*) Suggested value.




Berger, et al                Standards Track                   [Page 17]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


6.3. Data Channel Switching Type

   Upon approval of this document, the IANA will make the assignment in
   the "Switching Types"  section of the "GMPLS Signaling Parameters"
   registry located at http://www.iana.org/assignments/gmpls-sig-
   parameters:

   Value   Type                                      Reference
   -----   ---------------------------               ---------
     125*   Data Channel Switching Capable (DCSC) [This document]

   (*) Suggested value.


6.4. Generalized Channel_Set LABEL_REQUEST Object

   Upon approval of this document, the IANA will make the assignment in
   the "Class Names, Class Numbers, and Class Types" section of the
   "RSVP PARAMETERS" registry located at
   http://www.iana.org/assignments/rsvp-parameters.

   A new class type for the existing LABEL_REQUEST Object class number
   (19) with the following definition:

      Class Types or C-Types:

        5* Generalized Channel_Set                  [This document]

   (*) Suggested value.


6.5. Generalized Channel_Set LABEL Object

   Upon approval of this document, the IANA will make the assignment in
   the "Class Names, Class Numbers, and Class Types" section of the
   "RSVP PARAMETERS" registry located at
   http://www.iana.org/assignments/rsvp-parameters.

   A new class type for the existing RSVP_LABEL Object class number (16)
   with the following definition:

      Class Types or C-Types:

        4* Generalized Channel_Set                  [This document]

   (*) Suggested value.





Berger, et al                Standards Track                   [Page 18]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


7. Security Considerations

   This document introduces new message object formats for use in GMPLS
   signaling [RFC3473].  It does not introduce any new signaling
   messages, nor change the relationship between LSRs that are adjacent
   in the control plane. As such, this document introduces no additional
   security considerations.  See [RFC3473] for relevant security
   considerations.


8. References

8.1. Normative References

   [MEF-TRAFFIC] Papadimitriou, D., "MEF Ethernet Traffic
                 Parameters,"
                 draft-ietf-ccamp-ethernet-traffic-parameters-03.txt,
                 Work in progress, November 2007.

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels," RFC 2119.

   [RFC3209] Awduche, D., Berger, L., Gan, D., Li, T.,
             Srinivasan, V. and G. Swallow, "RSVP-TE: Extensions
             to RSVP for LSP Tunnels", RFC 3209, December 2001.

   [RFC3471] Berger, L., Editor, "Generalized Multi-Protocol Label
             Switching (GMPLS) Signaling Functional Description",
             RFC 3471, January 2003.

   [RFC3473] Berger, L., Editor, "Generalized Multi-Protocol Label
             Switching (GMPLS) Signaling - Resource ReserVation
             Protocol-Traffic Engineering (RSVP-TE) Extensions",
             RFC 3473, January 2003.

   [RFC3945] Mannie, E., Editor, "Generalized Multi-Protocol Label
             Switching (GMPLS) Architecture", RFC 3945, October
             2004.

   [RFC4003] Berger, L., "GMPLS Signaling Procedure for Egress
             Control", RFC 4003, February 2005.

   [RFC4202] Kompella, K., Ed., and Y. Rekhter, Ed., "Routing
             Extensions in Support of Generalized Multi-Protocol
             Label Switching (GMPLS)", RFC 4202, October 2005.






Berger, et al                Standards Track                   [Page 19]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


   [RFC4420] Farrel, A., et al. "Encoding of Attributes for
             Multiprotocol Label Switching (MPLS) Label Switched Path
             (LSP) Establishment Using Resource ReserVation
             Protocol-Traffic Engineering (RSVP-TE)", RFC 4420,
             February 2006.

   [RFC4974] Papadimitriou, D., Farrel, A. "Generalized MPLS
             (GMPLS) RSVP-TE Signaling Extensions in support of Calls",
             RFC 4974, August 2007.


8.2. Informative References

   [G.8011]         ITU-T G.8011/Y.1307, "Ethernet over Transport
                    Ethernet services framework", August 2004.

   [G.8011.1]       ITU-T G.G.8011.1/Y.1307.1, "Ethernet private
                    line service", August 2004.

   [G.8011.2]       ITU-T G.8011.2/Y.1307.2, "Ethernet virtual
                    private line service", September 2005.

   [GMPLS-MEF-UNI]  Berger, L., Papadimitriou, P., Fedyk, D.,
                    "Generalized MPLS (GMPLS) Support For Metro
                    Ethernet Forum and G.8011 User-Network Interface
                    (UNI)", Work in Progress,
                    draft-berger-ccamp-gmpls-mef-uni-02.txt,
                    February 2008.

   [MEF6]           The Metro Ethernet Forum, "Ethernet Services
                    Definitions - Phase I", MEF 6, June 2004

   [MEF10.1]        The Metro Ethernet Forum, "Ethernet Services
                    Attributes Phase 2", MEF 10.1, November 2006.

   [MEF11]          The Metro Ethernet Forum , "User Network
                    Interface (UNI) Requirements and Framework",
                    MEF 11, November 2004.

   [RFC4875]        Aggarwal, R., Papadimitriou, P., Yasukawa, S.,
                    Eds,  "Extensions to Resource Reservation
                    Protocol - Traffic Engineering (RSVP-TE) for
                    Point-to-Multipoint TE Label Switched Paths
                    (LSPs)", RFC 4875, May 2007.







Berger, et al                Standards Track                   [Page 20]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


9. Acknowledgments

   The authors would like to thank Evelyne Roch and Stephen Shew for
   their valuable comments.


10. Author's Addresses

   Lou Berger
   LabN Consulting, L.L.C.
   Phone: +1-301-468-9228
   Email: lberger@labn.net

   Dimitri Papadimitriou
   Alcatel Lucent
   Francis Wellesplein 1,
   B-2018 Antwerpen, Belgium
   Phone: +32 3 240-8491
   Email: Dimitri.Papadimitriou@alcatel-lucent.be

   Don Fedyk
   Nortel Networks
   600 Technology Park Drive
   Billerica, MA, 01821
   Phone: +1-978-288-3041
   Email: dwfedyk@nortel.com

11. Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.









Berger, et al                Standards Track                   [Page 21]

Internet-Draft  draft-ietf-ccamp-gmpls-ether-svcs-00.txt  April 14, 2008


12. Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed
   to pertain to the implementation or use of the technology
   described in this document or the extent to which any license
   under such rights might or might not be available; nor does it
   represent that it has made any independent effort to identify any
   such rights.  Information on the procedures with respect to rights
   in RFC documents can be found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use
   of such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository
   at http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention
   any copyrights, patents or patent applications, or other
   proprietary rights that may cover technology that may be required
   to implement this standard.  Please address the information to the
   IETF at ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).























Berger, et al                Standards Track                   [Page 22]

Generated on: Mon Apr 14 18:11:06 EDT 2008
