<?xml version="1.0"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
 <!ENTITY rfc2629 PUBLIC ''
 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2629.xml'>
 <!ENTITY rfc4016 PUBLIC ''
 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4016.xml'>
 <!ENTITY rfc4058 PUBLIC ''
 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4058.xml'>
]>

   <?rfc toc="yes" ?>
   <?rfc symrefs="no" ?>
   <?rfc sortrefs="yes"?>
   <?rfc iprnotified="no" ?>
   <?rfc strict="yes" ?>
   <?rfc compact="yes" ?>
   <?rfc subcompact="yes" ?>

<rfc category="info" ipr="full3978" docName="draft-fajardo-pana-paa-discovery-00.txt">
  <front>
    <title>Simple PANA PAA Discovery Protocol</title>


    <!-- ************** VICTOR FAJARDO *************** -->
    <author role="editor" initials="V." surname="Fajardo" fullname="Victor Fajardo">
      <organization>Toshiba America Research Inc.</organization>
      <address>
        <postal>
           <street>One Telcordia Drive, #1S222</street>
           <city>Piscataway</city>
           <region>NJ</region>
           <code>08854</code>
           <country>USA</country>
        </postal>
        <email>vfajardo@tari.toshiba.com</email>
      </address>
    </author>

    <date year="2008"/>
    <area>Internet Area</area>
    <workgroup>Protocol for carrying Authentication for Network Access (PANA)</workgroup>

    <keyword>Internet-Draft</keyword>

    <abstract>
      <t> The PANA Base protocol defines a method for carrying EAP message exchanges
        over UDP/IP. This means that the PANA Client (PaC) is required to know the IP
        address of the PANA Authentication Agent (PAA). In many cases, this is not
        convinient or practical. This document proposes a simple PAA discovery scheme
        that allows the PaC to determine the PAA IP address without any modification
        to the base protocol messages or exchange sequence.</t>
    </abstract>

  </front>

  <middle>

    <!-- ***** Introduction ******* -->
    <section anchor="intro" title="Introduction">
      <t> The PANA Base protocol <!-- <xref target="I-D.ietf-pana-pana"/> --> specifies that all
      messages are carried over unicast UDP/IP packet. This means that the PANA Client (PaC)
      needs to know the PANA Authentication Agent (PAA) IP address before initiating
      a PANA conversation. Like many other protocols, it is not practical nor convinient
      to configure client devices (PaC) with PAA IP address before using it. In general,
      statically configuring parameters on every device for their currently attached subnet
      or network does not scale as the number of devices grow.</t>
      <t>This document proposes a simple method of dynamically discovering the PAA. A
      simple and independent discovery protocol can be installed on the PaC and PAA devices
      that will allow PaC to pro-actively discover the PAA by sending a link local multicast
      message, PANA-Agent-Discover-Request (PDR). In this case, the PAA listening on that
      multicast address, can issue a corresponding answer sent unicast to the PaC.
      The PaC determines the PAA IP address from the source IP of the answer to the PDR
      message.</t>
    </section>

    <section title="Terminology">
      <t> This document reuses the terminology used in PANA.<!-- <xref target="I-D.ietf-pana-pana"/>. --></t>
    </section>

    <section anchor="details" title="PAA Discovery Details">
       <t>A PaC device wishing to actively discover a PAA can immediately send a PDR
          message. The PDR is sent as a PANA message with a source IP address set to the
          PaC IP address and the destination IP address set to a well known multicast address
          224.0.0.[TBD]. The PDR MUST be sent to the well known PANA port [TBD] and the PaC
          device MUST be prepared to accept message on the source port it sets in the PDRs
          UDP header.</t>
       <t>A PAA device which supports the PAA discovery protocol MUST be prepared
          to accept messages at the well known PANA port and multicast address.
          If a PDR message is received, the PAA device MUST issue a unicast PANA-Agent-Discover-Answer
          (PDA) message with the source IP address set to the PAA IP address and destination IP
          address set to the PaC IP address learned from the PDR message. It MUST
          also set the destination port of the PDA to the source port of the PDR.
          A PAA device which reponds to a PDR MAY initiate the PANA session since
          it has knowledge of the PaC IP address, See Section 4.1 of PANA.</t>
        <t>When a PaC device receives a PDA, it SHOULD use the source IP address as the
          IP address of the PAA in the subsequent PANA exchanges. If the PaC device
          receives multiple PDA from different PAAs, it can make a local policy decision
          on which PAA IP address to use.</t>
    </section>

    <section anchor="msgformats" title="Message Formats">
      <t>All message formats are taken from Sec 6 and 7 of the PANA base protocol document.
      Message types are allocated using rules in Sec 10.2.1 of the PANA base protocol document.
      As of this writing, there are no AVPs associated with any of the discovery protocol
      messages. All messages MUST set both the session identifier and the sequence numbers
      in the PANA header to zero(0).</t>
      <section anchor="pdiscr" title="PANA-Agent-Discover-Request">
        <t>The PANA-Agent-Discover-Request (PDR) message is sent by the PaC device.
        The message MUST have the 'R' (Request) bit set in the PANA message header.
        <figure anchor="Figure1" title="PANA-Agent-Discover-Request">
          <artwork>
Message Format

PANA-Agent-Discover-Request ::= &lt; PANA-Header: 5,REQ &gt;
                                *[ AVP ]
          </artwork>
        </figure>
        </t>
      </section>
      <section anchor="pdisca" title="PANA-Agent-Discover-Answer">
        <t>The PANA-Agent-Discover-Answer (PDA) message is sent by the PAA device
          in response to a PANA-Agent-Discover-Request. The message MUST NOT have
          the 'R' (Request) bit set in the PANA message header.
          <figure anchor="Figure2" title="PANA-Agent-Discover-Answer">
            <artwork>
Message Format

PANA-Agent-Discover-Answer ::= &lt; PANA-Header: 5 &gt;
                               * [ AVP ]
            </artwork>
          </figure>
        </t>
      </section>
    </section>

    <section title="IANA Considerations">
      <t> This document does not require actions by IANA. </t>
    </section>

    <section title="Security Considerations">
      <t> This document does describes a companion protocol to PANA <!-- <xref target="I-D.ietf-pana-pana"/> -->
        for discovery PAA IP addresses. It does not define nor address security related protocols or schemes.
      </t>
    </section>

    <section anchor="acks" title="Acknowledgments">
      <t> [TBD]. </t>
    </section>

  </middle>

  <back>
    <!--
    <references title="Normative References">
    </references> -->
  </back>
</rfc>
