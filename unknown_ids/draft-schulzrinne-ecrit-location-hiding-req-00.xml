<?xml version="1.0"?>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="no"?>
<?rfc iprnotified="no" ?>
<?rfc strict="no" ?>
<?rfc compact="yes" ?>
<?rfc subcompact="yes" ?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY I-D.ietf-geopriv-http-location-delivery      PUBLIC ''  'http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-geopriv-http-location-delivery.xml'>
<!ENTITY I-D.ietf-ecrit-lost      PUBLIC ''  'http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-ecrit-lost.xml'>
<!ENTITY I-D.ietf-geopriv-l7-lcp-ps      PUBLIC ''  'http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-geopriv-l7-lcp-ps.xml'>
<!ENTITY I-D.ietf-sip-location-conveyance      PUBLIC ''  'http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-sip-location-conveyance.xml'>
<!ENTITY I-D.ietf-ecrit-framework      PUBLIC ''  'http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-ecrit-framework.xml'>
<!ENTITY I-D.ietf-geopriv-lbyr-requirements      PUBLIC ''  'http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-geopriv-lbyr-requirements.xml'>
<!ENTITY I-D.ietf-ecrit-service-urn      PUBLIC ''  'http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-ecrit-service-urn.xml'>
]>

<rfc category="info" ipr="full3978"
  docName="draft-schulzrinne-ecrit-location-hiding-req-00.txt">
  <front>
    <title abbrev="Location Hiding Requirements">Location Hiding: Problem Statement and Requirements</title>

    <author initials="H." surname="Schulzrinne" fullname="Henning Schulzrinne">
      <organization>Columbia University</organization>
      <address>
        <postal>
          <street>Department of Computer Science</street>
          <street>450 Computer Science Building</street>
          <city>New York</city>
          <region>NY</region>
          <code>10027</code>
          <country>US</country>
        </postal>
        <phone>+1 212 939 7004</phone>
        <email>hgs+ecrit@cs.columbia.edu</email>
        <uri>http://www.cs.columbia.edu</uri>
      </address>
    </author>
    <author initials="L." surname="Liess" fullname="Laura Liess">
      <organization abbrev="Deutsche Telekom">Deutsche Telekom Networks</organization>
      <address>
        <postal>
          <street>Deutsche Telekom Allee 7</street>
          <city>Darmstadt</city>
          <region>Hessen</region>
          <code>64295</code>
          <country>Germany</country>
        </postal>
        <phone> </phone>
        <email>Laura.Liess@t-systems.com</email>
        <uri>http://www.telekom.de</uri>
      </address>
    </author>
    <author initials="H." surname="Tschofenig" fullname="Hannes Tschofenig">
      <organization>Nokia Siemens Networks</organization>
      <address>
        <postal>
          <street>Otto-Hahn-Ring 6</street>
          <city>Munich</city>
          <region>Bavaria</region>
          <code>81739</code>
          <country>Germany</country>
        </postal>
        <email>Hannes.Tschofenig@nsn.com</email>
        <uri>http://www.tschofenig.com</uri>
      </address>
    </author>
    <author initials="B." surname="Stark" fullname="Barbara Stark">
      <organization>AT&amp;T</organization>
      <address>
        <postal>
          <street>725 W Peachtree St, NE</street>
          <city>Atlanta</city>
          <region>GA</region>
          <code>30308</code>
          <country>USA</country>
        </postal>
        <phone>+1 404 499 7026</phone>
        <email>barbara.stark@att.com</email>
      </address>
    </author>
    <author initials="A." surname="Kuett" fullname="Andres Kuett">
      <organization>Skype</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <region/>
          <code/>
          <country/>
        </postal>
        <email>andres.kytt@skype.net</email>
      </address>
    </author>
    <date year="2007"/>
    <area>Real-time Applications and Infrastructure</area>
    <workgroup>ECRIT</workgroup>
    <keyword>Internet-Draft</keyword>
    <abstract>
      <t>The emergency services architecture developed in the IETF Emergency Context Resolution with
        Internet Technology (ECRIT) working group describes an architecture where location
        information is provided by access networks to end points in order to determine the correct
        dial string and information to route the call to a Public Safety Answering Point (PSAP). For
        determining the PSAP Uniform Resource Identifier (URI) the usage of the Location-to-Service
        Translation (LoST) Protocol is envisioned. </t>

      <t>This document explores the architectural impact for the IETF emergency services
        architecture for situations where the Internet Access Provider (IAP) and/or the Internet
        Service Provider (ISP) are only willing to disclose limited or no location information.</t>

      <t>This document provides a problem statement and lists requirements.</t>

    </abstract>
  </front>
  <middle>

    <!-- ////////////////////////////////////////////////////////////////////////////////// -->
    <section anchor="introduction" title="Introduction">

      <section title="Emergency Services Architecture">

        <t>The emergency services architecture developed in the IETF Emergency Context Resolution
          with Internet Technology (ECRIT) working group, see <xref
            target="I-D.ietf-ecrit-framework"/>, describes an architecture where location
          information is provided by access networks to end points in order to determine the correct
          dial string and information to route the call to a Public Safety Answering Point (PSAP).
          The Location-to-Service Translation (LoST) Protocol <xref target="I-D.ietf-ecrit-lost"/>
          allows to determine the PSAP Uniform Resource Identifier (URI) for a specific geographical
          location together with a service URI <xref target="I-D.ietf-ecrit-service-urn"/>. The
          basic architecture is shown in Figure 1 of <xref target="I-D.ietf-ecrit-framework"/> and
          further detailed in the message flow in Figure 2 of <xref
            target="I-D.ietf-ecrit-framework"/>. </t>

        <t>For emergency services, location information is needed for two different purposes, namely
          for routing an emergency call to the PSAP that is responsible for a specific geographical
          region (and also for requested service, such as police or ambulance) and for dispatch of
          the emergency personell to the scene of an accident, crime or other types of incidents. </t>

        <t>It is very important to note that this document only discusses location hiding in the
          context of location information that is need for call routing. ISPs have no interest or
          even legal basis for hiding location information from emergency services personnel.</t>
      </section>

      <section title="Location Hiding">

        <t>In some cases, Internet Access Providers (IAPs) and/or the Internet Service Providers
          (ISPs) are afraid that allowing users to access location information for non-emergency
          purposes or prior to an emergency call will incur additional server load and thus costs.
          Hence, they do not to disclose precise location information (at the quality suitable for
          dispatch emergency personell by the PSAP operator) or not to disclose any location
          information. </t>
        <t>In some other cases IAPs and ISPs may not want to make location information available
          without the ability to charge for it. This is a pure business decision.</t>
      </section>

      <section title="Location by Reference">

        <t>The work on the Location Configuration Protocol (LCP) indicated the need to provide the
          capability to obtain Location-by-References (LbyRs) in addition to Location-by-Value
          (LbyV) from a Location Information Server (LIS).</t>

        <t> The LCP problem statement and requirements document can be found in <xref
            target="I-D.ietf-geopriv-l7-lcp-ps"/>. The requirements for obtaining an LbyR via the
          LCP and the corresponding dereferencing step can be found in <xref
            target="I-D.ietf-geopriv-lbyr-requirements"/>. </t>

        <t>HTTP Enabled Location Delivery (HELD), see <xref
            target="I-D.ietf-geopriv-http-location-delivery"/>, is an instantiation of the LCP
          concept and allows LbyVs and LbyRs to be requested. </t>

        <t>A location reference may already satisfy the requirement for location hiding if the PSAP
          has the appropriate credentials to resolve the reference. This requires a trust
          relationship between the PSAP and the ISP.</t>

        <t>Unfortunately, a location reference is not compatible with LoST, as LoST requires an
          information value rather than a reference. Also, LoST servers may be operated by the VSP,
          which may not have a trust relationship with the ISP.</t>

      </section>

      <t>This document explores the architectural impact for the current architecture and lists
        requirements.</t>

    </section>

    <!-- ////////////////////////////////////////////////////////////////////////////////// -->

    <section anchor="terminology" title="Terminology">

      <t>The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
        "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in
          <xref target="RFC2119"/>, with the important qualification that, unless otherwise stated,
        these terms apply to the design of an solution supporting location hiding, not its
        implementation or application.</t>

      <t>This document reuses terminology from <xref target="I-D.ietf-geopriv-l7-lcp-ps"/>. </t>

    </section>

    <!-- ////////////////////////////////////////////////////////////////////////////////// -->

    <section anchor="reqs" title="Requirements">

      <t>This section presents requirements.</t>

      <section title="High-Level Requirements">
        <t>
          <list style="hanging">
            <t hangText="Req-A:"> There SHOULD be a way an access network can withhold detailed
              location information from any entity it wishes to, and specifically, the endpoint, and
              a VSP.<vspace blankLines="1"/></t>
            <t hangText="Req-B:"> The ISP/IAP MUST support the ability of the endpoint or the VSP to
              route emergency calls. <vspace blankLines="1"/></t>
            <t hangText="Req-C:">The VSP MUST be able to validate that a call purported to be an
              emergency call is being routed to a bona fide URI, which is denoted by being a URI in
              LoST for the designated emergency service.<vspace blankLines="1"/></t>
            <t hangText="Req-D:">Precise location information must be conveyed (either LbyR or LbyV)
              to the PSAP.</t>
          </list>
        </t>

      </section>
      <section title="Detailed Requirements">
        <t>
          <list style="hanging">
            <t hangText="Req-1:"> A business or trust relationship between an ISP and a VSP MUST NOT
              be assumed. <vspace blankLines="1"/></t>
            <t hangText="Req-2:"> A solution MUST consider deployment scenarios where a VSP is
              outside the jurisdiction of the PSAP. <vspace blankLines="1"/></t>
            <t hangText="Req-3:"> The solution MUST offer automated discovery of servers and other
              behavior, i.e., no manual configuration can be assumed. <vspace blankLines="1"/></t>
            <t hangText="Req-4:">The steps needed by the endpoint for emergency calling SHOULD be no
              different when location is withheld vs. when location is not withheld. In particular,
              user agents cannot require additional configuration to discover which particular
              environment (hiding or no hiding) they find themselves in. <vspace blankLines="1"/></t>
            <t hangText="Req-5:">The solution SHOULD work for non-SIP entities, without the ISP/IAP
              having to support these protocols.<vspace blankLines="1"/></t>
            <t hangText="Req-6:">The solution MUST work if PSAP boundaries have holes.<vspace
                blankLines="1"/></t>
            <t hangText="Req-7:">The solution MUST NOT assume the existence of Emergency Service
              Routing Proxies (ESRPs) per country, state and city. <vspace blankLines="1"/></t>
            <t hangText="Req-8:">The solution MUST consider that service boundaries for different
              emergency services may differ, but they overlap at the location of the caller.<vspace
                blankLines="1"/></t>
            <t hangText="Req-9:">UAs MUST NOT have to deduce the desired behavior by trial-and-error
              operations, such as LbyR resolutions, fail, as failures add latency during call setup.
              The solution MUST NOT significantly increase call setup latency.<vspace blankLines="1"
              /></t>
            <t hangText="Req-10:">The solution MUST allow the end host to determine PSAP/ESRP URLs
              prior to the call, for all emergency services. <vspace blankLines="1"/></t>
            <t hangText="Req-11:">The solution MUST allow UAs to discover at least their dial string
              ahead of the emergency call. <vspace blankLines="1"/></t>
            <t hangText="Req-12:">The solution MUST have minimal impact on UAs. <vspace
                blankLines="1"/></t>
            <t hangText="Req-13:">The solution MUST NOT interfere with the use of LoST for
              non-emergency services. <vspace blankLines="1"/></t>
            <t hangText="Req-14:">Deleted<!-- The solution MUST allow a VSP to verify that the call is indeed
              destined for a PSAP.-->
              <vspace blankLines="1"/></t>
            <t hangText="Req-15:">Calls may reach a PSTN gateway, rather than the PSAP directly.
                <vspace blankLines="1"/></t>
            <!--             <t hangText="Req-16:"> The solution MUST NOT significantly increase call setup latency.
  </t>-->
          </list>
        </t>

      </section>

      <section title="Desirable Properties">
        <t>
          <list style="symbols">
            <t hangText="Req-X1:">The solution MUST NOT shift effort(externality), i.e., the
              convenience of the location-hiding ISP MUST NOT impose a burden on user agents or
              non-hiding ISPs/IAPs and SHOULD NOT impose a burden on VSPs.<vspace blankLines="1"/></t>
            <t hangText="Req-X2:">The solution SHOULD minimize the impact on LoST, SIP conveyance
                <xref target="I-D.ietf-sip-location-conveyance"/> and DHCP.<vspace blankLines="1"/></t>
            <t hangText="Req-X4:">The solution SHOULD NOT rely on DHCP for LoST configuration, as
              the information in the DHCP server provided by the ISP may not reach the UA, due to
              NATs.</t>
          </list>
        </t>
      </section>

    </section>
    
    <!-- ////////////////////////////////////////////////////////////////////////////////// -->
    
    <section title="IANA Considerations">
      <t>This document does not require actions by IANA.</t>
    </section>
    
    <!-- ////////////////////////////////////////////////////////////////////////////////// -->

    <section title="Security Considerations">
      <t>This document does not raise additional security consideration beyond those mentioned in
          <xref target="I-D.ietf-geopriv-l7-lcp-ps"/> and discussed in this document.</t>
    </section>

    <!-- ////////////////////////////////////////////////////////////////////////////////// -->

    <section title="Acknowledgments">
      <t>We would like to thank the following ECRIT working group members (in no particular order)
        for their contributions:</t>
      <t>
        <list style="symbols">
          <t>Andrew Newton (andy@hxr.us) </t>
          <t>James Winterbottom (James.Winterbottom@andrew.com) </t>
          <t>Brian Rosen (br@brianrosen.net) </t>
          <t>Richard Barnes (rbarnes@bbn.com)</t>
          <t>Marc Linsner (mlinsner@cisco.com)</t>
          <t>Ted Hardie (hardie@qualcomm.com)</t>
        </list>
      </t>
    </section>

    <!-- ////////////////////////////////////////////////////////////////////////////////// -->

  </middle>

  <!-- ////////////////////////////////////////////////////////////////////////////////// -->

  <back>
    <references title="Normative References">
      <reference anchor="RFC2119">
        <front>
          <title abbrev="RFC Key Words">Key words for use in RFCs to Indicate Requirement Levels</title>
          <author initials="S." surname="Bradner" fullname="Scott Bradner">
            <organization>Harvard University</organization>
          </author>
          <date month="March" year="1997"/>
        </front>
        <format type="TXT" octets="4723" target="ftp://ftp.isi.edu/in-notes/rfc2119.txt"/>
      </reference>
    </references>

    <references title="Informative References"> &I-D.ietf-geopriv-l7-lcp-ps;
      &I-D.ietf-sip-location-conveyance; &I-D.ietf-ecrit-framework;
      &I-D.ietf-ecrit-lost; &I-D.ietf-geopriv-lbyr-requirements;
      &I-D.ietf-ecrit-service-urn; &I-D.ietf-geopriv-http-location-delivery; </references>
  </back>

</rfc>
