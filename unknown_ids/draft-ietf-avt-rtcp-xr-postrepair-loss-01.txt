


Audio/Video Transport Working                                    G. Hunt
Group                                                                 BT
Internet-Draft                                                  A. Clark
Intended status: Standards Track                                Telchemy
Expires: August 29, 2009                               February 25, 2009


       RTCP XR Report Block for Post-Repair Loss metric Reporting
             draft-ietf-avt-rtcp-xr-postrepair-loss-01.txt

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 29, 2009.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.








Hunt & Clark             Expires August 29, 2009                [Page 1]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


Abstract

   This document defines an RTCP XR Report Block that allows the
   reporting of a simple post-repair loss count metric for use in a
   range of RTP applications.  It complements the pre-repair loss count
   metric "cumulative number of packets lost" provided by RFC3550.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Post-Repair Loss Report Block  . . . . . . . . . . . . . .  3
     1.2.  RTCP and RTCP XR Reports . . . . . . . . . . . . . . . . .  3
     1.3.  Performance Metrics Framework  . . . . . . . . . . . . . .  3
     1.4.  Applicability  . . . . . . . . . . . . . . . . . . . . . .  4
   2.  Definitions  . . . . . . . . . . . . . . . . . . . . . . . . .  5
   3.  Post-Repair Loss Metric Report Block . . . . . . . . . . . . .  6
     3.1.  Report Block Structure . . . . . . . . . . . . . . . . . .  6
     3.2.  Definition of Fields in Post-Repair Loss Metric Report
           Block  . . . . . . . . . . . . . . . . . . . . . . . . . .  6
   4.  SDP Signaling  . . . . . . . . . . . . . . . . . . . . . . . .  8
   5.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  9
     5.1.  New RTCP XR Block Type value . . . . . . . . . . . . . . .  9
     5.2.  New RTCP XR SDP Parameter  . . . . . . . . . . . . . . . .  9
     5.3.  Contact information for registrations  . . . . . . . . . .  9
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . . 10
   7.  Contributors . . . . . . . . . . . . . . . . . . . . . . . . . 11
   8.  Changes since last version . . . . . . . . . . . . . . . . . . 12
   9.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 13
     9.1.  Normative References . . . . . . . . . . . . . . . . . . . 13
     9.2.  Informative References . . . . . . . . . . . . . . . . . . 13
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 14



















Hunt & Clark             Expires August 29, 2009                [Page 2]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


1.  Introduction

1.1.  Post-Repair Loss Report Block

   This draft defines a new block type to augment those defined in
   [RFC3611] for use in a range of RTP applications.  The new block type
   supports the reporting of the number of packets which remain
   unavailable to the application after the use of any available repair
   mechanism, such as forward error correction or retransmission.

   This metric is useful for identifying the existence, and
   characterising the severity, of a packet transport problem which may
   affect users' perception of a service delivered over RTP.

   [POSTREPAIRRLE] defines an RTCP XR block for more detailed packet-by-
   packet reporting of post-repair packet loss.

   The metric belongs to the class of post-repair loss metrics defined
   in [MONARCH] (work in progress).

   Instances of this Metrics Block refer by tag to the separate
   auxiliary Measurement Identity block [MEASIDENT] which contains
   information such as the SSRC of the measured stream, and RTP sequence
   numbers and time intervals indicating the span of the report.

   The Measurement Identity block provides extended sequence numbers for
   the beginning and end of both Interval and Cumulative reporting
   periods.  This allows systems receiving the report to calculate the
   number of packets expected.

1.2.  RTCP and RTCP XR Reports

   The use of RTCP for reporting is defined in [RFC3550].  [RFC3611]
   defined an extensible structure for reporting using an RTCP Extended
   Report (XR).  This draft defines a new Extended Report block that
   MUST be used as defined in [RFC3550] and [RFC3611].

1.3.  Performance Metrics Framework

   The Performance Metrics Framework [PMOLFRAME] provides guidance on
   the definition and specification of performance metrics.  Metrics
   described in this draft either reference external definitions or
   define metrics generally in accordance with the guidelines in
   [PMOLFRAME].







Hunt & Clark             Expires August 29, 2009                [Page 3]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


1.4.  Applicability

   This metric is believed to be applicable to all RTP applications
   which use a packet loss repair technique, such as FEC [RFC5109] or
   retransmission [RFC4588].














































Hunt & Clark             Expires August 29, 2009                [Page 4]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


2.  Definitions

   Received, Lost and Discarded

      A packet shall be regarded as lost if it fails to arrive within an
      implementation-specific time window.  A packet that arrives within
      this time window but is too early or late to be played out shall
      be regarded as discarded.  A packet shall be classified as one of
      received (or OK), discarded or lost.  However the Post-Repair Loss
      Metric does not attempt to discriminate among the possible reasons
      which led to the lost packets' not being available in the post-
      repair stream.  RTCP [RFC3550] reports on total lost packets.  A
      separate metric [DISCARD] is available to report on total
      discarded packets.





































Hunt & Clark             Expires August 29, 2009                [Page 5]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


3.  Post-Repair Loss Metric Report Block

3.1.  Report Block Structure

       0               1               2               3
       0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     BT=NPRL   |I| tag | resv  |       block length=1          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                     number of packets lost                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                     Figure 1: Report Block Structure

3.2.  Definition of Fields in Post-Repair Loss Metric Report Block

   block type (BT): 8 bits

      A Post-Repair Loss Metric Report Block is identified by the
      constant NPRL.

   [Note to RFC Editor: please replace NPRL with the IANA provided RTCP
   XR block type for this block.]

   Interval Metric flag (I): 1 bit

      This field is used to indicate whether the Post-Repair Loss metric
      is an Interval or a Cumulative metric, that is, whether the
      reported value applies to the most recent measurement interval
      duration between successive metrics reports (I=1) (the Interval
      Duration) or to the accumulation period characteristic of
      cumulative measurements (I=0) (the Cumulative Duration).
      Numerical values for both these intervals are provided in the
      Measurement Identifier block referenced by the tag field below.

   Measurement Identifier association (tag): 3 bits

      This field is used to identify the Measurement Identifier block
      [MEASIDENT] which describes this measurement.  The relevant
      Measurement Identifier block has the same tag value as the Post-
      Repair Loss Metric block.  Note that there may be more than one
      Measurement Identifier block per RTCP packet.

   Reserved (resv): 4 bits

      These bits are reserved.  They SHOULD be set to zero by senders
      and MUST be ignored by receivers.




Hunt & Clark             Expires August 29, 2009                [Page 6]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


   block length: 16 bits

      The length of this report block in 32-bit words minus one.  For
      the Post-Repair Loss Metric block, the block length is equal to 1.

   Number of packets lost: 32 bits

      Number of packets lost over the period (Interval or Cumulative)
      covered by this report, after application of repair procedures.
      Where repair procedures may achieve partial repair of a packet, a
      packet which is only partially repaired SHOULD be counted as lost.

      If the measured value exceeds 0xFFFFFFFD, the value 0xFFFFFFFE
      SHOULD be reported to indicate an over-range measurement.  If the
      measurement is unavailable, the value 0xFFFFFFFF SHOULD be
      reported.

      Note that the number of packets expected in the period covered by
      the metric (whether interval or cumulative) is available from the
      difference between a pair of extended sequence numbers in the
      Measurement Identity block, so need not be repeated in this block.






























Hunt & Clark             Expires August 29, 2009                [Page 7]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


4.  SDP Signaling

   [RFC3611] defines the use of SDP (Session Description Protocol)
   [RFC4566] for signaling the use of XR blocks.  XR blocks MAY be used
   without prior signaling.

   This section augments the SDP [RFC4566] attribute "rtcp-xr" defined
   in [RFC3611] by providing an additional value of "xr-format" to
   signal the use of the report block defined in this document.

   rtcp-xr-attrib = "a=" "rtcp-xr" ":" [xr-format *(SP xr-format)] CRLF

   (defined in RFC3611)

   xr-format = xr-format / xr-prl-block

   xr-prl-block = "post-repair-loss"


































Hunt & Clark             Expires August 29, 2009                [Page 8]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


5.  IANA Considerations

   New block types for RTCP XR are subject to IANA registration.  For
   general guidelines on IANA considerations for RTCP XR, refer to
   [RFC3611].

5.1.  New RTCP XR Block Type value

   This document assigns the block type value NPRL in the IANA "RTCP XR
   Block Type Registry" to the "Post-Repair Loss Metrics Block".

   [Note to RFC Editor: please replace NPRL with the IANA provided RTCP
   XR block type for this block.]

5.2.  New RTCP XR SDP Parameter

   This document also registers a new parameter "post-repair-loss" in
   the "RTCP XR SDP Parameters Registry".

5.3.  Contact information for registrations

   The contact information for the registrations is:

   Geoff Hunt (geoff.hunt@bt.com)

   Orion 2 PP3, Adastral Park, Martlesham Heath, Ipswich IP5 3RE, United
   Kingdom
























Hunt & Clark             Expires August 29, 2009                [Page 9]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


6.  Security Considerations

   It is believed that this proposed RTCP XR report block introduces no
   new security considerations beyond those described in [RFC3611].
   This block does not provide per-packet statistics so the risk to
   confidentiality documented in Section 7, paragraph 3 of [RFC3611]
   does not apply.












































Hunt & Clark             Expires August 29, 2009               [Page 10]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


7.  Contributors

   The authors gratefully acknowledge the comments and contributions
   made by Bruce Adams, Philip Arden, Amit Arora, Bob Biskner, Kevin
   Connor, Claus Dahm, Randy Ethier, Roni Even, Jim Frauenthal, Albert
   Higashi, Tom Hock, Shane Holthaus, Paul Jones, Rajesh Kumar, Keith
   Lantz, Mohamed Mostafa, Amy Pendleton, Colin Perkins, Mike Ramalho,
   Ravi Raviraj, Albrecht Schwarz, Tom Taylor, and Hideaki Yamada.











































Hunt & Clark             Expires August 29, 2009               [Page 11]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


8.  Changes since last version

   Expanded and clarified IANA Considerations section

   Changed SDP tag for block to "post-repair-loss".














































Hunt & Clark             Expires August 29, 2009               [Page 12]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


9.  References

9.1.  Normative References

   [MEASIDENT]
              Hunt, G., "RTCP XR Measurement Identifier Block",
              ID draft-ietf-avt-rtcp-xr-measid-01, February 2009.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", RFC 2119, BCP 14, March 1997.

   [RFC3550]  Schulzrinne, H., "RTP: A Transport Protocol for Real-Time
              Applications", RFC 3550, July 2003.

   [RFC3611]  Friedman, T., "RTP Control Protocol Extended Reports (RTCP
              XR)", RFC 3611, November 2003.

   [RFC4566]  Handley, M., "SDP: Session Description Protocol",
              RFC 4566, July 2006.

9.2.  Informative References

   [DISCARD]  Hunt, G., "RTCP XR Report Block for Discard metric
              Reporting", ID draft-ietf-rtcp-xr-discard-01,
              February 2009.

   [MONARCH]  Hunt, G., "Monitoring Architectures for RTP",
              ID draft-hunt-avt-monarch-01, August 2008.

   [PMOLFRAME]
              Clark, A., "Framework for Performance Metric Development",
              ID draft-ietf-pmol-metrics-framework-00, July 2008.

   [POSTREPAIRRLE]
              Begen, A., "Post-Repair Loss RLE Report Block Type for
              RTCP XR", ID draft-ietf-avt-post-repair-rtcp-xr-04,
              October 2008.

   [RFC4588]  Rey, J., "RTP Retransmission Payload Format", RFC 4588,
              July 2006.

   [RFC5109]  Li, A., "RTP Payload Format for Generic Forward Error
              Correction", RFC 5109, December 2007.








Hunt & Clark             Expires August 29, 2009               [Page 13]

Internet-Draft          RTCP XR Post-Repair Loss           February 2009


Authors' Addresses

   Geoff Hunt
   BT
   Orion 2 PP3
   Adastral Park
   Martlesham Heath
   Ipswich, Suffolk  IP5 3RE
   United Kingdom

   Phone: +44 1473 651704
   Email: geoff.hunt@bt.com


   Alan Clark
   Telchemy Incorporated
   2905 Premiere Parkway, Suite 280
   Duluth, GA  30097
   USA

   Email: alan.d.clark@telchemy.com






























Hunt & Clark             Expires August 29, 2009               [Page 14]


