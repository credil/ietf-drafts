


Network Working Group                                             F. Xia
Internet-Draft                                               B. Sarikaya
Expires: April 27, 2009                                       Huawei USA
                                                        October 24, 2008


            Mobile IPv6 Handover Using Home Agent Buffering
                   draft-xia-mipshop-ha-buffering-00

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on April 27, 2009.


















Xia & Sarikaya           Expires April 27, 2009                 [Page 1]

Internet-Draft      MIPv6 Handover Using HA Buffering       October 2008


Abstract

   In Mobile IPv6, when a Mobile Node (MN) moves from one Access
   Router(AR) to another, there is a period during which the MN is
   unable to send or receive packets because of link switching delay and
   IP protocol operations.  This document specifies a mechanism which
   enhances Mobile IPv6 protocol signaling to support the creation of a
   transient binding cache entry in a Home Agent (HA) which is used for
   buffering downlink packets during this period.


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . . . 3
   3.  Protocol Operation  . . . . . . . . . . . . . . . . . . . . . . 3
     3.1.  General Approach  . . . . . . . . . . . . . . . . . . . . . 4
     3.2.  Mobile Node Operations  . . . . . . . . . . . . . . . . . . 5
     3.3.  Home Agent Operations . . . . . . . . . . . . . . . . . . . 5
   4.  Message Format  . . . . . . . . . . . . . . . . . . . . . . . . 6
     4.1.  Packet Buffering option . . . . . . . . . . . . . . . . . . 6
   5.  Security Considerations . . . . . . . . . . . . . . . . . . . . 6
   6.  IANA consideration  . . . . . . . . . . . . . . . . . . . . . . 6
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 7
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 7
     8.1.  Normative References  . . . . . . . . . . . . . . . . . . . 7
     8.2.  Informative references  . . . . . . . . . . . . . . . . . . 7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 8
   Intellectual Property and Copyright Statements  . . . . . . . . . . 9






















Xia & Sarikaya           Expires April 27, 2009                 [Page 2]

Internet-Draft      MIPv6 Handover Using HA Buffering       October 2008


1.  Introduction

   When a MN moves from one AR to another, there is a period during
   which the MN is unable to send or receive packets because of link
   switching delay and IP protocol operations.

   Fast handovers for Mobile IPv6 (FMIPv6) [RFC5268] describes a
   mechanism that reduces the handover latency and packet loss through
   signalling between a previous AR and a new AR.  Hierarchical Mobile
   IPv6 (HMIPv6)[RFC5380] introduces a network entity named Mobility
   Anchor Point (MAP) which is used for reducing the amount of
   signalling between the MN, its Correspondent Node(CN), and its Home
   Agent(HA).  Either of the local mobility handling mechanisms, FMIPv6
   or HMIPv6, is dealing with some extra mobility management entities
   besides the MN and HA, such as previous AR and new AR in FMIPv6, or
   MAPs in HMIPv6.  In some scenarios, e.g. the MN moves from one
   administrative domain to another, it is very hard to deploy FMIPv6 or
   HMIPv6.

   As a complimentary solution, a HA based handover mechanism is
   proposed here.  When the MN decides to switch to another access
   router, the MN indicates the HA to buffer incoming packets.  After
   the HA receives an indication that the MN has completed the handover
   process, the HA delivers the buffered packets.  This enhancement can
   improve greatly the performance of mobile internet applications which
   mostly rely on packet-loss sensentive TCP.  However, it has limited
   improvement on real-time service, such as Voice over IP.


2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].


3.  Protocol Operation














Xia & Sarikaya           Expires April 27, 2009                 [Page 3]

Internet-Draft      MIPv6 Handover Using HA Buffering       October 2008


3.1.  General Approach


       +-----+               +-----+     +-----+                +-----+
       |  MN |               | PAR |     | NAR |                | HA  |
       +-----+               +-----+     +-----+                +-----+
          |                     |           |                      |
          |  1 Network Entry    |           |                      |
          |<------------------->|           |                      |
          |                     |   2 BU    |                      |
          |------------------------------------------------------->|
          |                     |   3 BA    |                      |
          |<------------------------------------------------------>|
          |                     |           |                      |
          |                 4 bi-directional tunnel                |
          |<======================================================>|
          |                     |           |                      |
       5 Handover trigger       |           |                      |
          |                     |           |                      |
          |                    6 BU(transient)                     |
          |------------------------------------------------------->|
          |                     |           |                      |
          |                     |           |            7 forwarding
          |                     |           |           and buffering
          |                   8 BA(transient)                      |
          |<-------------------------------------------------------|
          |                     |           |                      |
          |      9 Network Re-entry         |                      |
          |<------------------------------->|                      |
          |                     |           |                      |
          |                   10|BU(new CoA)|                      |
          |------------------------------------------------------->|
          |                     |           |                      |
          |                   11|BA(new CoA)|                      |
          |<-------------------------------------------------------|
          |                     |           |   12 stopping buffering and
          |                     |           | delivering buffered packets
          |                     |           |                      |
          |               13 bi-directional tunnel                 |
          |<======================================================>|


                        Figure 1: General Approach

   1.   The MN enters into network and attaches a PAR.  Authentication
        is usually necessary in this step.





Xia & Sarikaya           Expires April 27, 2009                 [Page 4]

Internet-Draft      MIPv6 Handover Using HA Buffering       October 2008


   2.   After successful CoA(hereafter called previous CoA to
        differentiate new CoA) configuration and bootstraping
        processing, the MN sends Binding Update(BU) message to register
        the CoA in the HA.
   3.   In reply to the BU, a Binding Acknowledgement(BA) is delivered
        to the MN from the HA.
   4.   A bi-directional tunnel is established after the BU/BA exchange.
        All of the previous steps are in line with specification
        described in [RFC3775]
   5.   When signal strength is degrading or packet loss rate is
        increasing the MN may decide to change links.  Alternatively,
        the network can aslo initiate handover by singaling the MN.
   6.   The handover trigger promotes the MN sending a BU message.  A
        Packet Buffering option Section 4.1 is included in the message.
        The source address of the message is the CoA configured when the
        MN attaches the PAR.
   7.   In addition to forwarding downlink packets to the MN, the HA
        begins to buffer them for a duration which is indicated in the
        lifetime field of Packet Buffering option Section 4.1.  On the
        other hand, the HA updates binding cache entry of the MN with
        new lifetime of the BU message.
   8.   The HA acknowledges the MN with BA message.
   9.   When the MN moves to the NAR, the MN performs network entry
        procedure.  A new CoA is configured.
   10.  The MN sends a BU message with the new CoA as the source
        address.
   11.  Once receiving the BU, the HA creates a new binding cach entry
        which binds the MN's home address with the new CoA.
   12.  The HA stops buffering downlink packets for MN, delivers all
        buffered packets to MN's new CoA, and obsoletes the old binding
        cache with previous CoA registered.
   13.  All traffic destined to the MN is conveyed through the newly
        established bi-directional tunnel.

3.2.  Mobile Node Operations

   As an optional enhancement, the document provide an mechanism to
   reduce packet loss during handovers.  When the MN decides to switch
   to another access router, the MN indicates the HA to buffer incoming
   packets through a transient BU/BA exchange.  Once successfully
   attaching to a new access router, the MN retrieves all the buffered
   packets from the HA.

3.3.  Home Agent Operations

   The enhancement capability is configurable in the HA.  When the
   feature is disabled, the HA just ignores the Packet Buffering option
   defined in Section 4.1.  Otherwise, the HA SHOULD buffer the downlink



Xia & Sarikaya           Expires April 27, 2009                 [Page 5]

Internet-Draft      MIPv6 Handover Using HA Buffering       October 2008


   traffic.


4.  Message Format

4.1.  Packet Buffering option

   The Packet Buffering option described in this section can be present
   in a BU and BA.  The HA receiving BU message with this option will
   buffer the incoming packets destined to the MN for a lifetime which
   is negotiated through BU/BA exchange.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Type        |    Length    |   Reserved    |   Lifetime    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Type: TDB by IANA

      Length: 8-bit unsigned integer indicating the length of the option
              in octets, excluding the Type and the Length fields.

      Reserved: To be used in the future.

      Lifetime: Lifetime in the unit of 100ms. When lifetime expires, the
                HA will purge all the buffered packets for the MN.


   TDB


5.  Security Considerations

   Malicious MNs possible make use of the mechanism to deplete HA's
   buffer space.  The HA can configure limited buffering space for each
   MN to couteract the impact.  Only one mobility option is defined in
   this document, and there is no additional security concerns
   introduced.


6.  IANA consideration








Xia & Sarikaya           Expires April 27, 2009                 [Page 6]

Internet-Draft      MIPv6 Handover Using HA Buffering       October 2008


7.  Acknowledgements

   TDB


8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC5380]  Soliman, H., Castelluccia, C., ElMalki, K., and L.
              Bellier, "Hierarchical Mobile IPv6 (HMIPv6) Mobility
              Management", RFC 5380, October 2008.

   [RFC5268]  Koodli, R., "Mobile IPv6 Fast Handovers", RFC 5268,
              June 2008.

   [RFC3775]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support
              in IPv6", RFC 3775, June 2004.

8.2.  Informative references




























Xia & Sarikaya           Expires April 27, 2009                 [Page 7]

Internet-Draft      MIPv6 Handover Using HA Buffering       October 2008


Authors' Addresses

   Frank Xia
   Huawei USA
   1700 Alma Dr. Suite 500
   Plano, TX  75075

   Phone: +1 972-509-5599
   Email: xiayangsong@huawei.com


   Behcet Sarikaya
   Huawei USA
   1700 Alma Dr. Suite 500
   Plano, TX  75075

   Phone: +1 972-509-5599
   Email: sarikaya@ieee.org

































Xia & Sarikaya           Expires April 27, 2009                 [Page 8]

Internet-Draft      MIPv6 Handover Using HA Buffering       October 2008


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.











Xia & Sarikaya           Expires April 27, 2009                 [Page 9]


