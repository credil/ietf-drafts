%!PS-Adobe-3.0
%%Creator: groff version 1.19.2
%%CreationDate: Thu Apr 15 08:34:11 2010
%%DocumentNeededResources: font Times-Roman
%%DocumentSuppliedResources: procset grops 1.19 2
%%Pages: 11 0
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginProcSet: PStoPS 1 15
userdict begin
[/showpage/erasepage/copypage]{dup where{pop dup load
 type/operatortype eq{1 array cvx dup 0 3 index cvx put
 bind def}{pop}ifelse}{pop}ifelse}forall
[/letter/legal/executivepage/a4/a4small/b5/com10envelope
 /monarchenvelope/c5envelope/dlenvelope/lettersmall/note
 /folio/quarto/a5]{dup where{dup wcheck{exch{}put}
 {pop{}def}ifelse}{pop}ifelse}forall
/setpagedevice {pop}bind 1 index where{dup wcheck{3 1 roll put}
 {pop def}ifelse}{def}ifelse
/PStoPSmatrix matrix currentmatrix def
/PStoPSxform matrix def/PStoPSclip{clippath}def
/defaultmatrix{PStoPSmatrix exch PStoPSxform exch concatmatrix}bind def
/initmatrix{matrix defaultmatrix setmatrix}bind def
/initclip[{matrix currentmatrix PStoPSmatrix setmatrix
 [{currentpoint}stopped{$error/newerror false put{newpath}}
 {/newpath cvx 3 1 roll/moveto cvx 4 array astore cvx}ifelse]
 {[/newpath cvx{/moveto cvx}{/lineto cvx}
 {/curveto cvx}{/closepath cvx}pathforall]cvx exch pop}
 stopped{$error/errorname get/invalidaccess eq{cleartomark
 $error/newerror false put cvx exec}{stop}ifelse}if}bind aload pop
 /initclip dup load dup type dup/operatortype eq{pop exch pop}
 {dup/arraytype eq exch/packedarraytype eq or
  {dup xcheck{exch pop aload pop}{pop cvx}ifelse}
  {pop cvx}ifelse}ifelse
 {newpath PStoPSclip clip newpath exec setmatrix} bind aload pop]cvx def
/initgraphics{initmatrix newpath initclip 1 setlinewidth
 0 setlinecap 0 setlinejoin []0 setdash 0 setgray
 10 setmiterlimit}bind def
end
%%EndProcSet
%%BeginResource: procset grops 1.19 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE
userdict/PStoPSxform PStoPSmatrix matrix currentmatrix
 matrix invertmatrix matrix concatmatrix
 matrix invertmatrix put
%%EndSetup
%%Page: (0) 1
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Netw)72 84 Q(ork W)-.1 E(orking Group)-.8 E 2.58
-1.29(Y. N)343.55 H(ir)1.29 E 360.8(Internet-Draft Check)72 96 R(Point)
2.5 E(Intended status: Informational)72 108 Q(April 15, 2010)288.85 E
(Expires: October 17, 2010)72 120 Q(IPsec High A)183.03 156 Q -.25(va)
-.74 G(ilability and Load Sharing Problem Statement).25 E
(draft-ietf-ipsecme-ipsec-ha-02)245.19 168 Q(Abstract)72 192 Q
(This document describes a requirement from IKE and IPsec to allo)102
216 Q 2.5(wf)-.25 G(or more scalable and a)-2.5 E -.25(va)-.2 G(ilable)
.25 E(deplo)102 228 Q(yments for VPNs.)-.1 E
(It de\214nes terminology for high a)5 E -.25(va)-.2 G
(ilability and load sharing clusters implementing).25 E
(IKE and IPsec, and describes g)102 240 Q(aps in the e)-.05 E
(xisting standards.)-.15 E(Status of this Memo)72 264 Q(This Internet-D\
raft is submitted to IETF in full conformance with the pro)102 288 Q
(visions of BCP)-.15 E(78 and BCP)5 E(79.)5 E(Internet-Drafts are w)102
312 Q(orking documents of the Internet Engineering T)-.1 E(ask F)-.8 E
(orce \(IETF\), its areas, and its)-.15 E -.1(wo)102 324 S
(rking groups.).1 E(Note that other groups may also distrib)5 E(ute w)
-.2 E(orking documents as Internet- Drafts.)-.1 E
(Internet-Drafts are draft documents v)102 348 Q
(alid for a maximum of six months and may be updated, replaced, or)-.25
E(obsoleted by other documents at an)102 360 Q 2.5(yt)-.15 G 2.5
(ime. It)-2.5 F
(is inappropriate to use Internet-Drafts as reference material or)2.5 E
(to cite them other than as "w)102 372 Q(ork in progress.")-.1 E
(The list of current Internet-Drafts can be accessed at http://www)102
396 Q(.ietf.or)-.65 E(g/ietf/1id-abstracts.txt.)-.18 E
(The list of Internet-Draft Shado)102 420 Q 2.5(wD)-.25 G
(irectories can be accessed at http://www)-2.5 E(.ietf.or)-.65 E
(g/shado)-.18 E -.65(w.)-.25 G(html.).65 E(This Internet-Draft will e)
102 444 Q(xpire on October 17, 2010.)-.15 E(Cop)72 468 Q(yright Notice)
-.1 E(Cop)102 492 Q(yright \(c\) 2010 IETF T)-.1 E
(rust and the persons identi\214ed as the document authors.)-.35 E
(All rights reserv)5 E(ed.)-.15 E
(This document is subject to BCP 78 and the IETF T)102 516 Q
(rust\264s Le)-.35 E -.05(ga)-.15 G 2.5(lP).05 G(ro)-2.5 E
(visions Relating to IETF Documents)-.15 E(\(http://trustee.ietf.or)102
528 Q(g/license-info\) in ef)-.18 E(fect on the date of)-.25 E 166.79
(Nir Expires)72 696 R(October 17, 2010)2.5 E([P)149.17 E(age 1])-.15 E 0
Cg EP
PStoPSsaved restore
%%Page: (1) 2
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E
(publication of this document.)102 84 Q(Please re)5 E(vie)-.25 E 2.5(wt)
-.25 G(hese documents carefully)-2.5 E 2.5(,a)-.65 G 2.5(st)-2.5 G(he)
-2.5 E 2.5(yd)-.15 G(escribe your rights and)-2.5 E
(restrictions with respect to this document.)102 96 Q(Code Components e)
5 E(xtracted from this document must include)-.15 E
(Simpli\214ed BSD License te)102 108 Q
(xt as described in Section 4.e of the T)-.15 E(rust Le)-.35 E -.05(ga)
-.15 G 2.5(lP).05 G(ro)-2.5 E(visions and are pro)-.15 E(vided)-.15 E
(without w)102 120 Q(arranty as described in the BSD License.)-.1 E
(This document may contain material from IETF Documents or IETF Contrib)
102 144 Q(utions published or made)-.2 E(publicly a)102 156 Q -.25(va)
-.2 G(ilable before No).25 E -.15(ve)-.15 G(mber 10, 2008.).15 E
(The person\(s\) controlling the cop)5 E(yright in some of this)-.1 E
(material may not ha)102 168 Q .3 -.15(ve g)-.2 H(ranted the IETF T).15
E(rust the right to allo)-.35 E 2.5(wm)-.25 G
(odi\214cations of such material outside the)-2.5 E
(IETF Standards Process.)102 180 Q -.4(Wi)5 G(thout obtaining an adequa\
te license from the person\(s\) controlling the cop).4 E(yright)-.1 E(i\
n such materials, this document may not be modi\214ed outside the IETF \
Standards Process, and deri)102 192 Q -.25(va)-.25 G(ti).25 E -.15(ve)
-.25 G -.1(wo)102 204 S
(rks of it may not be created outside the IETF Standards Process, e).1 E
(xcept to format it for publication as an)-.15 E
(RFC or to translate it into languages other than English.)102 216 Q
166.79(Nir Expires)72 696 R(October 17, 2010)2.5 E([P)149.17 E(age 2])
-.15 E 0 Cg EP
PStoPSsaved restore
%%Page: (2) 3
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E -.8(Ta)72 84 S
(ble of Contents).8 E 2.5(1. Introduction)79.5 108 R(4)393.56 E 2.5
(1.1. Con)84.5 120 R -.15(ve)-.4 G(ntions Used in This Document).15 E(4)
282.72 E 2.5(2. T)79.5 132 R 388.98(erminology 4)-.7 F 2.5(3. The)79.5
144 R(Problem Statement)2.5 E(6)348.56 E 2.5(3.1. Lots)84.5 156 R
(of Long Li)2.5 E -.15(ve)-.25 G 2.5(dS).15 G 327.85(tate 6)-2.5 F 2.5
(3.2. IKE)84.5 168 R 372.73(Counters 6)2.5 F 2.5(3.3. Outbound)84.5 180
R(SA Counters)2.5 E(7)336.61 E 2.5(3.4. Inbound)84.5 192 R(SA Counters)
2.5 E(7)343.28 E 2.5(3.5. Missing)84.5 204 R(Synch Messages)2.5 E(8)
329.39 E 2.5(3.6. Simultaneous)84.5 216 R
(use of IKE and IPsec SAs by Dif)2.5 E(ferent)-.25 E 395.23(Members 8)
99.5 228 R 2.5(3.6.1. Outbound)89.5 240 R(SAs using counter modes)2.5 E
(9)273.56 E 2.5(4. Security)79.5 252 R 339.67(Considerations 10)2.5 F
2.5(5. Ackno)79.5 264 R 356.32(wledgements 10)-.25 F 2.5(6. Change)79.5
276 R 386.34(Log 10)2.5 F 2.5(7. Informati)79.5 288 R .3 -.15(ve R)-.25
H 341.77(eferences 10).15 F(Author\264s Address)79.5 300 Q(11)379.68 E
166.79(Nir Expires)72 696 R(October 17, 2010)2.5 E([P)149.17 E(age 3])
-.15 E 0 Cg EP
PStoPSsaved restore
%%Page: (3) 4
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E 2.5
(1. Introduction)72 84 R(IKEv2, as described in [RFC4306] and [RFC4718]\
, and IPsec, as described in [RFC4301] and others, allo)102 108 Q(ws)
-.25 E(deplo)102 120 Q(yment of VPNs between dif)-.1 E
(ferent sites as well as from VPN clients to protected netw)-.25 E
(orks.)-.1 E(As VPNs become increasingly important to the or)102 144 Q
-.05(ga)-.18 G(nizations deplo).05 E
(ying them, there is a demand to mak)-.1 E(e)-.1 E
(IPsec solutions more scalable and less prone to do)102 156 Q
(wn time, by using more than one ph)-.25 E(ysical g)-.05 E(ate)-.05 E
-.1(wa)-.25 G 2.5(yt).1 G(o)-2.5 E
(either share the load or back each other up.)102 168 Q
(Similar demands ha)5 E .3 -.15(ve b)-.2 H
(een made in the past for other critical).15 E(pieces of an or)102 180 Q
-.05(ga)-.18 G(nizations\264s infrastructure, such as DHCP and DNS serv)
.05 E(ers, web serv)-.15 E(ers, databases and)-.15 E(others.)102 192 Q(\
IKE and IPsec are in particular less friendly to clustering than these \
other protocols, because the)102 216 Q 2.5(ys)-.15 G(tore more)-2.5 E
(state, and that state is more v)102 228 Q 2.5(olatile. Section 2)-.2 F
(de\214nes terminology for use in this document, and in the)2.5 E(en)102
240 Q(visioned solution documents.)-.4 E(In general, deplo)102 264 Q
(ying IKE and IPsec in a cluster requires such a lar)-.1 E
(ge amount of information to be)-.18 E
(synchronized among the members of the cluster)102 276 Q 2.5(,t)-.4 G
(hat it becomes impractical.)-2.5 E(Alternati)5 E -.15(ve)-.25 G(ly).15
E 2.5(,i)-.65 G 2.5(fl)-2.5 G(ess)-2.5 E(information is synchronized, f)
102 288 Q(ailo)-.1 E -.15(ve)-.15 G 2.5(rw).15 G
(ould mean a prolonged and intensi)-2.6 E .3 -.15(ve r)-.25 H(eco).15 E
-.15(ve)-.15 G(ry phase, which ne).15 E -.05(ga)-.15 G(tes).05 E
(the scalability and a)102 300 Q -.25(va)-.2 G
(ilability promises of using clusters.).25 E(In Section)5 E 2.5(3w)5 G
2.5(ew)-2.5 G(ill describe this in more detail.)-2.5 E 2.5(1.1. Con)72
324 R -.15(ve)-.4 G(ntions Used in This Document).15 E(The k)102 348 Q
.3 -.15(ey w)-.1 H(ords "MUST", "MUST NO).05 E(T", "REQ)-.4 E
(UIRED", "SHALL", "SHALL NO)-.1 E(T", "SHOULD",)-.4 E("SHOULD NO)102 360
Q(T", "RECOMMENDED", "MA)-.4 E(Y", and "OPTION)-1.05 E
(AL" in this document are to be interpreted)-.35 E
(as described in [RFC2119].)102 372 Q 2.5(2. T)72 408 R(erminology)-.7 E
("Single Gate)102 432 Q -.1(wa)-.25 G
(y" is an implementation of IKE and IPsec enforcing a certain polic).1 E
1.3 -.65(y, a)-.15 H 2.5(sd).65 G(escribed in)-2.5 E([RFC4301].)102 444
Q("Cluster" is a set of tw)102 468 Q 2.5(oo)-.1 G 2.5(rm)-2.5 G(ore g)
-2.5 E(ate)-.05 E -.1(wa)-.25 G
(ys, implementing the same security polic).1 E 1.3 -.65(y, a)-.15 H
(nd protecting the same).65 E 2.5(domain. Clusters)102 480 R -.15(ex)2.5
G(ist to pro).15 E(vide both high a)-.15 E -.25(va)-.2 G
(ilability through redundanc).25 E 1.3 -.65(y, a)-.15 H
(nd scalability through load).65 E(sharing.)102 492 Q("Member" is one g)
102 516 Q(ate)-.05 E -.1(wa)-.25 G 2.5(yi).1 G 2.5(nac)-2.5 G(luster)
-2.5 E(.)-.55 E("High A)102 540 Q -.25(va)-.74 G
(ilability" is a condition of a system, not a con\214guration type.).25
E 2.5(As)5 G(ystem is said to ha)-2.5 E .3 -.15(ve h)-.2 H(igh).15 E -.2
(av)102 552 S(ailability if its e)-.05 E(xpected)-.15 E 166.79
(Nir Expires)72 696 R(October 17, 2010)2.5 E([P)149.17 E(age 4])-.15 E 0
Cg EP
PStoPSsaved restore
%%Page: (4) 5
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E(do)102 84 Q
(wn time is lo)-.25 E 3.8 -.65(w. H)-.25 H(igh a).65 E -.25(va)-.2 G
(ilability can be achie).25 E -.15(ve)-.25 G 2.5(di).15 G 2.5(nv)-2.5 G
(arious w)-2.75 E(ays, one of which is clustering.)-.1 E(All the)5 E
(clusters described in this document achie)102 96 Q .3 -.15(ve h)-.25 H
(igh a).15 E -.25(va)-.2 G(ilability).25 E(.)-.65 E("F)102 120 Q(ault T)
-.15 E(olerance" is a condition related to high a)-.8 E -.25(va)-.2 G
(ilability).25 E 2.5(,w)-.65 G(here a system maintains service a)-2.5 E
-.25(va)-.2 G(ilability).25 E(,)-.65 E -2.15 -.25(ev e)102 132 T 2.5(nw)
.25 G(hen a speci\214ed set of f)-2.5 E(ault conditions occur)-.1 E 5
(.I)-.55 G 2.5(nc)-5 G(lusters, we e)-2.5 E
(xpect the system to maintain service)-.15 E -.2(av)102 144 S
(ailability)-.05 E 2.5(,w)-.65 G
(hen one or more of the cluster members f)-2.5 E(ails.)-.1 E
("Completely T)102 168 Q
(ransparent Cluster" is a cluster where the occurence of a f)-.35 E
(ault is ne)-.1 E -.15(ve)-.25 G 2.5(rv).15 G(isible to the peers.)-2.5
E("P)102 192 Q(artially T)-.15 E
(ransparent Cluster" is a cluster where the occurence of a f)-.35 E
(ault may be visible to the peers.)-.1 E("Hot Standby Cluster", or "HS \
Cluster" is a cluster where only one of the members is acti)102 216 Q .3
-.15(ve a)-.25 H 2.5(ta).15 G .3 -.15(ny o)-2.5 H(ne time.).15 E
(This member is also referred to as the the "acti)102 228 Q -.15(ve)-.25
G(", whereas the others are referred to as "stand- bys".).15 E
([VRRP] is one method of b)102 240 Q(uilding such a cluster)-.2 E(.)-.55
E("Load Sharing Cluster", or "LS Cluster" is a cluster where more than \
one of the members may be acti)102 264 Q .3 -.15(ve a)-.25 H(t).15 E
(the same time.)102 276 Q(The term "load balancing" is also common, b)5
E(ut it implies that the load is actually balanced)-.2 E
(between the members, and we don\264t w)102 288 Q(ant to e)-.1 E -.15
(ve)-.25 G 2.5(ni).15 G(mply that this is a requirement.)-2.5 E("F)102
312 Q(ailo)-.15 E -.15(ve)-.15 G(r" is the e).15 E -.15(ve)-.25 G
(nt where a one member tak).15 E(es o)-.1 E -.15(ve)-.15 G 2.5(rs).15 G
(ome load from some other member)-2.5 E 5(.I)-.55 G 2.5(nah)-5 G
(ot standby)-2.5 E(cluster)102 324 Q 2.5(,t)-.4 G
(his hapens when a standby memeber becomes acti)-2.5 E .3 -.15(ve d)-.25
H(ue to a f).15 E(ailure of the former acti)-.1 E .3 -.15(ve m)-.25 H
(ember).15 E 2.5(,o)-.4 G(r)-2.5 E(because of an administrator command.)
102 336 Q(In a load sharing cluster this usually happens because of a f)
5 E(ailure of)-.1 E(one of the members, b)102 348 Q
(ut certain load-balancing technologies may allo)-.2 E 2.5(wap)-.25 G
(articular load \(such as all the)-2.5 E<8d6f>102 360 Q
(ws associated with a particular child SA\) to mo)-.25 E .3 -.15(ve f)
-.15 H(rom one member to another to e).15 E -.15(ve)-.25 G 2.5(no).15 G
(ut the load, e)-2.5 E -.15(ve)-.25 G(n).15 E(without an)102 372 Q 2.5
(yf)-.15 G(ailures.)-2.6 E("T)102 396 Q
(ight Cluster" is a cluster where all the members share an IP address.)
-.35 E(This could be accomplished using)5 E(con\214gured interf)102 408
Q(aces with specialized protocols or hardw)-.1 E(are, such as VRRP)-.1 E
2.5(,o)-1.11 G 2.5(rt)-2.5 G(hrough the use of multicast)-2.5 E
(addresses, b)102 420 Q(ut in an)-.2 E 2.5(yc)-.15 G
(ase, peers need only be con\214gured with one IP address in the P)-2.5
E(AD.)-.92 E("Loose Cluster" is a cluster where each member has a dif)
102 444 Q(ferent IP address.)-.25 E(Peers \214nd the correct member)5 E
(using some method such as DNS queries or [REDIRECT].)102 456 Q
(In some cases, members IP addresses may be)5 E
(allocated to other members at f)102 468 Q(ailo)-.1 E -.15(ve)-.15 G
-.55(r.).15 G 166.79(Nir Expires)72 696 R(October 17, 2010)2.5 E([P)
149.17 E(age 5])-.15 E 0 Cg EP
PStoPSsaved restore
%%Page: (5) 6
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E("Synch Channel" is\
 a communications channel among the cluster members, used to transfer s\
tate)102 84 Q 2.5(information. The)102 96 R(synch channel may or may no\
t be IP based, may or may not be encrypted, and may w)2.5 E(ork)-.1 E
-.15(ove)102 108 S 2.5(rs).15 G(hort or long distances.)-2.5 E
(The security and ph)5 E
(ysical characteristics of this channel are out of scope for)-.05 E
(this document, b)102 120 Q
(ut it is a requirement that its use be minimized for scalability)-.2 E
(.)-.65 E 2.5(3. The)72 156 R(Problem Statement)2.5 E
(This document will mak)102 180 Q 2.5(en)-.1 G 2.5(oa)-2.5 G
(ttempt to describe the problems in setting up a cluster)-2.5 E 5(.T)
-.55 G(he follo)-5 E(wing)-.25 E
(subsections describe the problems related to the protocol itself.)102
192 Q 1.6 -.8(We a)102 216 T
(lso ignore the problem of synchronizing the polic).8 E 2.5(yb)-.15 G
(etween cluster members, as this is an administrati)-2.5 E -.15(ve)-.25
G(issue that is not particular to either clusters or to IPsec.)102 228 Q
(Note that the interesting scenario here is VPN, whether tunneled site-\
to-site or remote access. host-to-host)102 252 Q
(transport mode is not e)102 264 Q(xpected to bene\214t from this w)-.15
E(ork.)-.1 E 2.5(3.1. Lots)72 288 R(of Long Li)2.5 E -.15(ve)-.25 G 2.5
(dS).15 G(tate)-2.5 E(IKE and IPsec ha)102 312 Q .3 -.15(ve a l)-.2 H
(ot of long li).15 E -.15(ve)-.25 G 2.5(ds).15 G(tate:)-2.5 E 25(oI)102
324 S(KE SAs last for minutes, hours, or days, and carry k)-25 E -.15
(ey)-.1 G 2.5(sa).15 G(nd other information.)-2.5 E(Some g)5 E(ate)-.05
E -.1(wa)-.25 G(ys may).1 E
(carry thousands to hundreds of thousands of IKE SAs.)132 336 Q 25(oI)
102 348 S(Psec SAs last for minutes or hours, and carry k)-25 E -.15(ey)
-.1 G(s, selectors and other information.).15 E(Some g)5 E(ate)-.05 E
-.1(wa)-.25 G(ys).1 E(may carry hundreds of thousands such IPsec SAs.)
132 360 Q 25(oS)102 372 S(PD Cache entries.)-25 E
(While the SPD is unchanging, the SPD cache changes on the \215y due to)
5 E(narro)132 384 Q 2.5(wing. Entries)-.25 F
(last at least as long as the SAD entries, b)2.5 E(ut tend to last e)-.2
E -.15(ve)-.25 G 2.5(nl).15 G(onger than that.)-2.5 E 2.5(An)102 408 S
(ai)-2.5 E .3 -.15(ve i)-.25 H(mplementation of a high a).15 E -.25(va)
-.2 G(ilability cluster w).25 E(ould ha)-.1 E .3 -.15(ve n)-.2 H 2.5(os)
.15 G(ynchronized state, and a f)-2.5 E(ailo)-.1 E -.15(ve)-.15 G 2.5
(rw).15 G(ould)-2.6 E(produce an ef)102 420 Q
(fect similar to that of a rebooted g)-.25 E(ate)-.05 E -.1(wa)-.25 G
1.3 -.65(y. [).1 H(resumption] describes ho).65 E 2.5(wn)-.25 G .5 -.25
(ew I)-2.5 H(KE and IPsec SAs).25 E(can be recreated in such a case.)102
432 Q 2.5(3.2. IKE)72 456 R(Counters)2.5 E 1.6 -.8(We c)102 480 T(an o)
.8 E -.15(ve)-.15 G(rcome the \214rst problem described in Section).15 E
(3.1, by synchronizing states - whene)5 E -.15(ve)-.25 G 2.5(ra).15 G
2.5(nS)-2.5 G 2.5(Ai)-2.5 G(s)-2.5 E(created, we can synch this ne)102
492 Q 2.5(ws)-.25 G(tate to all other members.)-2.5 E(Ho)5 E(we)-.25 E
-.15(ve)-.25 G .8 -.4(r, t).15 H(hose states are not only long-li).4 E
-.15(ve)-.25 G(d,).15 E(the)102 504 Q 2.5(ya)-.15 G(re also e)-2.5 E
-.15(ve)-.25 G 2.5(rc).15 G(hanging.)-2.5 E(IKE has message counters.)
102 528 Q 2.5(Ap)5 G(eer may not process message n until)-2.5 E 166.79
(Nir Expires)72 696 R(October 17, 2010)2.5 E([P)149.17 E(age 6])-.15 E 0
Cg EP
PStoPSsaved restore
%%Page: (6) 7
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E
(after it has processed message n-1.)102 84 Q
(Skipping message IDs is not allo)5 E 2.5(wed. So)-.25 F 2.5(an)2.5 G
-.25(ew)-2.5 G(ly-acti).25 E .3 -.15(ve m)-.25 H(ember needs).15 E
(to kno)102 96 Q 2.5(wt)-.25 G(he last message IDs both recei)-2.5 E
-.15(ve)-.25 G 2.5(da).15 G(nd transmitted.)-2.5 E
(Often, it is feasible to synchronize the IKE message counters for e)102
120 Q -.15(ve)-.25 G(ry IKE e).15 E 2.5(xchange. This)-.15 F -.1(wa)2.5
G 1.3 -.65(y, t).1 H(he ne).65 E(wly)-.25 E(acti)102 132 Q .3 -.15(ve m)
-.25 H(ember kno).15 E(ws what messages it is allo)-.25 E
(wed to process, and what message IDs to use on IKE requests,)-.25 E
(so that peers process them.)102 144 Q 2.5(3.3. Outbound)72 168 R
(SA Counters)2.5 E(ESP and AH ha)102 192 Q .3 -.15(ve a)-.2 H 2.5(no).15
G(ptional anti-replay feature, where e)-2.5 E -.15(ve)-.25 G
(ry protected pack).15 E(et carries a counter number)-.1 E(.)-.55 E
(Repeating counter numbers is considered an attack, so the ne)102 204 Q
(wly-acti)-.25 E .3 -.15(ve m)-.25 H(ember must not use a replay).15 E
(counter number that has already been used.)102 216 Q
(The peer will drop those pack)5 E(ets as duplicates and/or w)-.1 E
(arn of an)-.1 E(attack.)102 228 Q(Though it may be feasible to synchro\
nize the IKE message counters, it is almost ne)102 252 Q -.15(ve)-.25 G
2.5(rf).15 G(easible to)-2.5 E(synchronize the IPsec pack)102 264 Q
(et counters for e)-.1 E -.15(ve)-.25 G(ry IPsec pack).15 E
(et transmitted.)-.1 E(So we ha)5 E .3 -.15(ve t)-.2 H 2.5(oa).15 G
(ssume that at least)-2.5 E
(for IPsec, the replay counter will not be up-to-date on the ne)102 276
Q(wly- acti)-.25 E .3 -.15(ve m)-.25 H(ember).15 E 2.5(,a)-.4 G
(nd the ne)-2.5 E(wly-acti)-.25 E -.15(ve)-.25 G
(member may repeat a counter)102 288 Q(.)-.55 E 2.5(Ap)102 312 S(ossibl\
e solution is to synch replay counter information, not for each pack)
-2.5 E(et emitted, b)-.1 E(ut only at re)-.2 E(gular)-.15 E(interv)102
324 Q(als, say)-.25 E 2.5(,e)-.65 G -.15(ve)-2.75 G(ry 10,000 pack).15 E
(ets or e)-.1 E -.15(ve)-.25 G(ry 0.5 seconds.).15 E(After a f)5 E(ailo)
-.1 E -.15(ve)-.15 G .8 -.4(r, t).15 H(he ne).4 E(wly-acti)-.25 E .3
-.15(ve m)-.25 H(ember).15 E(adv)102 336 Q
(ances the counters for outbound SAs by 10,000.)-.25 E 1.6 -.8(To t)5 H
(he peer this looks lik).8 E 2.5(eu)-.1 G 2.5(pt)-2.5 G 2.5(o1)-2.5 G
(0,000 pack)-2.5 E(ets were)-.1 E(lost, b)102 348 Q(ut this should be a\
cceptable, as neither ESP nor AH guarantee reliable deli)-.2 E -.15(ve)
-.25 G(ry).15 E(.)-.65 E 2.5(3.4. Inbound)72 372 R(SA Counters)2.5 E
(An e)102 396 Q -.15(ve)-.25 G 2.5(nt).15 G
(ougher issue, is the synchronization of pack)-2.5 E
(et counters for inbound SAs.)-.1 E(If a pack)5 E(et arri)-.1 E -.15(ve)
-.25 G 2.5(sa).15 G 2.5(ta)-2.5 G(ne)102 408 Q(wly-acti)-.25 E .3 -.15
(ve m)-.25 H(ember).15 E 2.5(,t)-.4 G(here is no w)-2.5 E
(ay to determine whether this pack)-.1 E(et is a replay or not.)-.1 E
(The periodic)5 E(synch does not solv)102 420 Q 2.5(et)-.15 G
(he problem at all, because suppose we synchronize e)-2.5 E -.15(ve)-.25
G(ry 10,000 pack).15 E(ets, and the last)-.1 E(synch before the f)102
432 Q(ailo)-.1 E -.15(ve)-.15 G 2.5(rh).15 G(ad the counter at 170,000.)
-2.5 E(It is probable, though not certain, that pack)5 E(et number)-.1 E
(180,000 has not yet been processed, b)102 444 Q(ut if pack)-.2 E
(et 175,000 arri)-.1 E -.15(ve)-.25 G 2.5(sa).15 G 2.5(tt)-2.5 G(he ne)
-2.5 E(wly- acti)-.25 E .3 -.15(ve m)-.25 H(ember).15 E 2.5(,i)-.4 G 2.5
(th)-2.5 G(as no w)-2.5 E(ay)-.1 E
(of determining whether or not that pack)102 456 Q
(et has or has not already been processed.)-.1 E
(The synchronization does)5 E(pre)102 468 Q -.15(ve)-.25 G
(nt the processing of really old pack).15 E
(ets, such as those with counter number 165,000.)-.1 E(Ignoring all)5 E
(counters belo)102 480 Q 2.5(w1)-.25 G(80,000 w)-2.5 E(on\264t w)-.1 E
(ork either)-.1 E 2.5(,b)-.4 G
(ecause that\264s up to 10,000 dropped pack)-2.5 E(ets, which may be v)
-.1 E(ery)-.15 E(noticeable.)102 492 Q(The easiest solution is to learn\
 the replay counter from the incoming traf)102 516 Q 2.5(\214c. This)
-.25 F(is allo)2.5 E(wed by the standards,)-.25 E
(because replay counter)102 528 Q 166.79(Nir Expires)72 696 R
(October 17, 2010)2.5 E([P)149.17 E(age 7])-.15 E 0 Cg EP
PStoPSsaved restore
%%Page: (7) 8
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E -.15(ve)102 84 S
(ri\214cation is an optional feature.).15 E(The case can e)5 E -.15(ve)
-.25 G 2.5(nb).15 G 2.5(em)-2.5 G(ade that it is relati)-2.5 E -.15(ve)
-.25 G(ly secure, because non-attack).15 E(traf)102 96 Q
(\214c will reset the counters to what the)-.25 E 2.5(ys)-.15 G
(hould be, so an attack)-2.5 E(er f)-.1 E
(aces the dual challenge of a v)-.1 E(ery narro)-.15 E(w)-.25 E(windo)
102 108 Q 2.5(wf)-.25 G
(or attack, and the need to time the attack to a f)-2.5 E(ailo)-.1 E
-.15(ve)-.15 G 2.5(re).15 G -.15(ve)-2.75 G 2.5(nt. Unless).15 F
(the attack)2.5 E(er can actually cause)-.1 E(the f)102 120 Q(ailo)-.1 E
-.15(ve)-.15 G .8 -.4(r, t).15 H(his w).4 E(ould be v)-.1 E(ery dif)-.15
E 2.5(\214cult. It)-.25 F
(should be noted, though, that although this solution is acceptable)2.5
E(as f)102 132 Q(ar as RFC 4301 goes, it is a matter of polic)-.1 E 2.5
(yw)-.15 G(hether this is acceptable.)-2.5 E
(Another possible solution to the inbound SA problem is to rek)102 156 Q
.3 -.15(ey a)-.1 H(ll child SAs follo).15 E(wing a f)-.25 E(ailo)-.1 E
-.15(ve)-.15 G 3.6 -.55(r. T).15 H(his may).55 E(or may not be feasible\
 depending on the implementation and the con\214guration.)102 168 Q 2.5
(3.5. Missing)72 192 R(Synch Messages)2.5 E(The synch channel is v)102
216 Q(ery lik)-.15 E(ely not to be inf)-.1 E 2.5(allible. Before)-.1 F
-.1(fa)2.5 G(ilo).1 E -.15(ve)-.15 G 2.5(ri).15 G 2.5(sd)-2.5 G
(etected, some synchronization)-2.5 E(messages may ha)102 228 Q .3 -.15
(ve b)-.2 H(een missed.).15 E -.15(Fo)5 G 2.5(re).15 G(xample, the acti)
-2.65 E .3 -.15(ve m)-.25 H(ember may ha).15 E .3 -.15(ve c)-.2 H
(reated a ne).15 E 2.5(wC)-.25 G(hild SA using)-2.5 E(message n.)102 240
Q(The ne)5 E 2.5(wi)-.25 G(nformation \(entry in the SAD and update to \
counters of the IKE SA\) is sent on the)-2.5 E(synch channel.)102 252 Q
(Still, with e)5 E -.15(ve)-.25 G(ry possible technology).15 E 2.5(,t)
-.65 G(he update may be missed before the f)-2.5 E(ailo)-.1 E -.15(ve)
-.15 G -.55(r.).15 G
(This is a bad situation, because the IKE SA is doomed. the ne)102 276 Q
(wly- acti)-.25 E .3 -.15(ve m)-.25 H(ember has tw).15 E 2.5(op)-.1 G
(roblems:)-2.5 E 25(oI)102 288 S 2.5(td)-25 G(oes not ha)-2.5 E .3 -.15
(ve t)-.2 H(he ne).15 E 2.5(wI)-.25 G(Psec SA pair)-2.5 E 5(.I)-.55 G
2.5(tw)-5 G(ill drop all incoming pack)-2.5 E
(ets protected with such an SA.)-.1 E(This could be \214x)132 300 Q
(ed by sending some DELETEs and INV)-.15 E
(ALID_SPI noti\214cations, if it w)-1.35 E(asn\264t for the)-.1 E
(other problem...)132 312 Q 25(oT)102 324 S
(he counters for the IKE SA sho)-25 E 2.5(wt)-.25 G
(hat only request n-1 has been sent.)-2.5 E(The ne)5 E
(xt request will get the)-.15 E(message ID n, b)132 336 Q
(ut that will be rejected by the peer)-.2 E 5(.A)-.55 G(fter a suf)-5 E
(\214cient number of retransmissions and)-.25 E(rejections, the whole I\
KE SA with all associated IPsec SAs will get dropped.)132 348 Q(The abo)
102 372 Q .3 -.15(ve s)-.15 H(cenario may be rare enough that it is acc\
eptable that on a con\214guration with thousands of IKE).15 E(SAs, a fe)
102 384 Q 2.5(ww)-.25 G(ill need to be recreated from scratch or using \
session resumption techniques.)-2.5 E(Ho)5 E(we)-.25 E -.15(ve)-.25 G
-.4(r,).15 G(detecting this may tak)102 396 Q 2.5(eal)-.1 G
(ong time \(se)-2.5 E -.15(ve)-.25 G(ral minutes\) and this ne).15 E
-.05(ga)-.15 G(tes the goal of creating a high a).05 E -.25(va)-.2 G
(ilability).25 E(cluster in the \214rst place.)102 408 Q 2.5
(3.6. Simultaneous)72 432 R(use of IKE and IPsec SAs by Dif)2.5 E
(ferent Members)-.25 E -.15(Fo)102 456 S 2.5(rl).15 G
(oad sharing clusters, all acti)-2.5 E .3 -.15(ve m)-.25 H
(embers may need to use the same SAs, both IKE and IPsec.).15 E
(This is an)5 E -2.15 -.25(ev e)102 468 T 2.5(ng).25 G
(reater problem than in the case of HA, because consecuti)-2.5 E .3 -.15
(ve p)-.25 H(ack).15 E(ets may need to be sent by dif)-.1 E(ferent)-.25
E(members to the same peer g)102 480 Q(ate)-.05 E -.1(wa)-.25 G -.65(y.)
.1 G 166.79(Nir Expires)72 696 R(October 17, 2010)2.5 E([P)149.17 E
(age 8])-.15 E 0 Cg EP
PStoPSsaved restore
%%Page: (8) 9
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E
(The solution to the IKE SA issue is up to the application.)102 84 Q
(It\264s possible to create some locking mechanism)5 E -.15(ove)102 96 S
2.5(rt).15 G(he synch channel, or else ha)-2.5 E .3 -.15(ve o)-.2 H
(ne member "o).15 E
(wn" the IKE SA and manage the child SAs for all other)-.25 E 2.5
(members. F)102 108 R(or IPsec, solutions f)-.15 E(all into tw)-.1 E 2.5
(ob)-.1 G(road cate)-2.5 E(gories.)-.15 E(The \214rst is the "stick)102
132 Q(y" cate)-.15 E(gory)-.15 E 2.5(,w)-.65 G
(here all communications with a single peer)-2.5 E 2.5(,o)-.4 G 2.5(ra)
-2.5 G(ll communications)-2.5 E(in)102 144 Q -.2(vo)-.4 G
(lving a certain SPD cache entry go through a single peer).2 E 5(.I)-.55
G 2.5(nt)-5 G(his case, all pack)-2.5 E(ets that match an)-.1 E(y)-.15 E
(particular SA go through the same member)102 156 Q 2.5(,s)-.4 G 2.5(on)
-2.5 G 2.5(os)-2.5 G
(ynchronization of the replay counter needs to be done.)-2.5 E
(Inbound processing is a "stick)102 168 Q(y" issue, because the pack)
-.15 E(ets ha)-.1 E .3 -.15(ve t)-.2 H 2.5(ob).15 G 2.5(ep)-2.5 G
(rocessed by the correct member)-2.5 E(based on peer and SPI.)102 180 Q
(Another issue is that commodity load balancers will not be able to mat\
ch the SPIs of)5 E(the encrypted side to the clear traf)102 192 Q
(\214c, and so the wrong member may get the the other half of the \215o)
-.25 E -.65(w.)-.25 G(The other w)102 216 Q(ay)-.1 E 2.5(,i)-.65 G 2.5
(st)-2.5 G 2.5(od)-2.5 G(uplicate the child SAs, and ha)-2.5 E .3 -.15
(ve a p)-.2 H(air of IPsec SAs for each acti).15 E .3 -.15(ve m)-.25 H
(ember).15 E 5(.D)-.55 G(if)-5 E(ferent)-.25 E(pack)102 228 Q
(ets for the same peer go through dif)-.1 E
(ferent members, and get protected using dif)-.25 E
(ferent SAs with the same)-.25 E
(selectors and matching the same entries in the SPD cache.)102 240 Q
(This has some shortcomings:)5 E 25(oI)102 252 S 2.5(tr)-25 G
(equires multiple parallel SAs, which the peer has no use for)-2.5 E 5
(.S)-.55 G(ection 2.8 or [RFC4306])-5 E(speci\214cally allo)132 264 Q
(ws this, b)-.25 E(ut some implementation might ha)-.2 E .3 -.15(ve a p)
-.2 H(olic).15 E 2.5(ya)-.15 G -.05(ga)-2.5 G
(inst long term maintenance).05 E(of redundant SAs.)132 276 Q 25(oD)102
288 S(if)-25 E(ferent pack)-.25 E(ets that belong to the same \215o)-.1
E 2.5(wm)-.25 G(ay be protected by dif)-2.5 E
(ferent SAs, which may seem)-.25 E("weird" to the peer g)132 300 Q(ate)
-.05 E -.1(wa)-.25 G 1.3 -.65(y, e).1 H(specially if it is inte).65 E
(grated with some deep inspection middle)-.15 E -.1(wa)-.25 G(re such).1
E(as a \214re)132 312 Q -.1(wa)-.25 G 2.5(ll. It).1 F(is not kno)2.5 E
(wn whether this will cause problems with current g)-.25 E(ate)-.05 E
-.1(wa)-.25 G 2.5(ys. It).1 F(is also)2.5 E(impossible to mandate ag)132
324 Q(ainst this, because the de\214nition of "\215o)-.05 E(w" v)-.25 E
(aries from one implementation)-.25 E(to another)132 336 Q(.)-.55 E 25
(oR)102 348 S(eply pack)-25 E(ets may arri)-.1 E .3 -.15(ve w)-.25 H
(ith an IPsec SA that is not "matched" to the one used for the outgoing)
.15 E(pack)132 360 Q 2.5(ets. Also,)-.1 F(the)2.5 E 2.5(ym)-.15 G
(ight arri)-2.5 E .3 -.15(ve a)-.25 H 2.5(tad).15 G(if)-2.5 E
(ferent member)-.25 E 5(.T)-.55 G(his problem is be)-5 E
(yond the scope of this)-.15 E(document and should be solv)132 372 Q
(ed by the application, perhaps by forw)-.15 E(arding misdirected pack)
-.1 E(ets to the)-.1 E(correct g)132 384 Q(ate)-.05 E -.1(wa)-.25 G 2.5
(yf).1 G(or deep inspection.)-2.5 E 2.5(3.6.1. Outbound)72 408 R
(SAs using counter modes)2.5 E -.15(Fo)102 432 S 2.5(rS).15 G(As in)-2.5
E -.2(vo)-.4 G(lving counter mode ciphers such as [CTR] or [GCM] there \
is yet another complication.).2 E(The)5 E(initial v)102 444 Q
(ector for such modes must ne)-.15 E -.15(ve)-.25 G 2.5(rb).15 G 2.5(er)
-2.5 G(epeated, and senders use methods such as counters or LFSRs to)
-2.5 E(ensure this.)102 456 Q(An SA shared between more than one acti)5
E .3 -.15(ve m)-.25 H(ember).15 E 2.5(,o)-.4 G 2.5(re)-2.5 G -.15(ve)
-2.75 G 2.5(nf).15 G(ailing o)-2.6 E -.15(ve)-.15 G 2.5(rf).15 G
(rom one member to)-2.5 E(another need to mak)102 468 Q 2.5(es)-.1 G
(ure that the)-2.5 E 2.5(yd)-.15 G 2.5(on)-2.5 G
(ot generate the same initial v)-2.5 E(ector)-.15 E 5(.S)-.55 G
(ee [COUNTER_MODES])-5 E 166.79(Nir Expires)72 696 R(October 17, 2010)
2.5 E([P)149.17 E(age 9])-.15 E 0 Cg EP
PStoPSsaved restore
%%Page: (9) 10
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E
(for a discussion of this problem in another conte)102 84 Q(xt.)-.15 E
2.5(4. Security)72 120 R(Considerations)2.5 E(Implementations running o\
n clusters MUST be as secure as implementations running on single g)102
144 Q(ate)-.05 E -.1(wa)-.25 G 2.5(ys. In).1 F(other w)102 156 Q
(ords, no e)-.1 E(xtension or interpretation used to allo)-.15 E 2.5(wo)
-.25 G(peration in a cluster may f)-2.5 E(acilitate attacks that are)-.1
E(not possible for single g)102 168 Q(ate)-.05 E -.1(wa)-.25 G(ys.).1 E
(Moreo)102 192 Q -.15(ve)-.15 G .8 -.4(r, t).15 H(hought must be gi).4 E
-.15(ve)-.25 G 2.5(nt).15 G 2.5(ot)-2.5 G
(he synching requirements of an)-2.5 E 2.5(yp)-.15 G(rotocol e)-2.5 E
(xtension, to mak)-.15 E 2.5(es)-.1 G(ure that it)-2.5 E(does not creat\
e an opportunity for denial of service attacks on the cluster)102 204 Q
(.)-.55 E(As mentioned in Section)102 228 Q(3.4, allo)5 E
(wing an inbound child SA to f)-.25 E(ail o)-.1 E -.15(ve)-.15 G 2.5(rt)
.15 G 2.5(oa)-2.5 G(nother member has the ef)-2.5 E(fect of)-.25 E
(disabling replay counter protection for a short time.)102 240 Q
(Though the threat is ar)5 E(guably lo)-.18 E 1.3 -.65(w, i)-.25 H 2.5
(ti).65 G 2.5(sap)-2.5 G(olic)-2.5 E 2.5(yd)-.15 G(ecision)-2.5 E
(whether this is acceptable.)102 252 Q 2.5(5. Ackno)72 288 R
(wledgements)-.25 E(This document is the collecti)102 312 Q .3 -.15
(ve w)-.25 H(ork, and includes contrib).05 E(ution from man)-.2 E 2.5
(yp)-.15 G(eople who participate in the)-2.5 E(IPsecME w)102 324 Q
(orking group.)-.1 E(The editor w)102 348 Q(ould particularly lik)-.1 E
2.5(et)-.1 G 2.5(oa)-2.5 G(ckno)-2.5 E(wledge the e)-.25 E(xtensi)-.15 E
.3 -.15(ve c)-.25 H(ontrib).15 E(ution of the follo)-.2 E
(wing people \(in)-.25 E(alphabetical order\): Dan Harkins, Ste)102 360
Q .3 -.15(ve K)-.25 H(ent, T)-.1 E(ero Ki)-.7 E(vinen, Y)-.25 E
(aron Shef)-1 E(fer)-.25 E 2.5(,M)-.4 G(elinda Shore, and Rodne)-2.5 E
2.5(yV)-.15 G(an)-3.61 E(Meter)102 372 Q(.)-.55 E 2.5(6. Change)72 408 R
(Log)2.5 E(NO)102 432 Q(TE T)-.4 E 2.5(OR)-.18 G(FC EDIT)-2.5 E
(OR: REMO)-.18 E(VE THIS SECTION BEFORE PUBLICA)-.5 E(TION)-1.11 E -1.11
(Ve)102 456 S(rsion 00 w)1.11 E(as identical to draft-nir)-.1 E
(-ipsecme-ipsecha-ps-00, re-spun as an WG document.)-.2 E -1.11(Ve)102
480 S(rsion 01 included closing issues 177, 178 and 180, with updates t\
o terminology)1.11 E 2.5(,a)-.65 G(nd added discussion of)-2.5 E
(inbound SAs and the CTR issue.)102 492 Q -1.11(Ve)102 516 S
(rsion 02 includes comments by Y)1.11 E(aron Shef)-1 E
(fer and the ackno)-.25 E(wledgement section.)-.25 E 2.5(7. Informati)72
552 R .3 -.15(ve R)-.25 H(eferences).15 E([COUNTER_MODES])102 576 Q
166.79(Nir Expires)72 696 R(October 17, 2010)2.5 E([P)144.17 E(age 10])
-.15 E 0 Cg EP
PStoPSsaved restore
%%Page: (10) 11
userdict/PStoPSsaved save put
PStoPSmatrix setmatrix
0.000000 -28.346457 translate
userdict/PStoPSmatrix matrix currentmatrix put
userdict/PStoPSclip{0 0 moveto
 595.000000 0 rlineto 0 842.000000 rlineto -595.000000 0 rlineto
 closepath}put initclip
PStoPSxform concat
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 105(Internet-Draft IPsec)72 48 R
(HA & LS Problem Statement)2.5 E(April 2010)119.42 E(McGre)212 84 Q 1.3
-.65(w, D)-.25 H 2.5(.a).65 G(nd B. W)-2.5 E
(eis, "Using Counter Modes with Encapsulating Security)-.8 E -.15(Pa)212
96 S(yload \(ESP\) and Authentication Header \(AH\) to Protect Group T)
.15 E(raf)-.35 E(\214c",)-.25 E(draft-ietf-msec-ipsec-group-counter)212
108 Q(-modes \(w)-.2 E(ork in progress\), March)-.1 E(2010.)5 E 12.5
([CTR] Housle)102 132 R 1.3 -.65(y, R)-.15 H(., "Using Adv).65 E
(anced Encryption Standard \(AES\) Counter Mode", RFC)-.25 E(3686,)5 E
2.5(January 2009.)212 144 R 12.5([GCM] V)102 168 R(ie)-.6 E -.05(ga)-.15
G 2.5(,J).05 G 2.5(.a)-2.5 G(nd D. McGre)-2.5 E 1.3 -.65(w, ")-.25 H
(The Use of Galois/Counter Mode \(GCM\) in IPsec Encapsulating).65 E
(Security P)212 180 Q(ayload \(ESP\)", RFC)-.15 E(4106, June)5 E(2005.)5
E([REDIRECT])102 204 Q(De)212 216 Q -.25(va)-.25 G(rapalli, V).25 E 2.5
(.a)-1.29 G(nd K. W)-2.5 E(eniger)-.8 E 2.5(,")-.4 G
(Redirect Mechanism for IKEv2", RFC)-2.5 E(5685,)5 E(No)212 228 Q -.15
(ve)-.15 G 2.5(mber 2009.).15 F 2.5([RFC2119] Bradner)102 252 R 2.5(,S)
-.4 G(., "K)-2.5 E .3 -.15(ey w)-.25 H
(ords for use in RFCs to Indicate Requirement Le).05 E -.15(ve)-.25 G
(ls", BCP).15 E(14, RFC)5 E(2119,)5 E 2.5(March 1997.)212 264 R 2.5
([RFC4301] K)102 288 R(ent, S. and K. Seo, "Security Architecture for t\
he Internet Protocol", RFC)-.25 E(4301,)5 E 2.5(December 2005.)212 300 R
2.5([RFC4306] Kaufman,)102 324 R(C., "Internet K)2.5 E .3 -.15(ey E)-.25
H(xchange \(IKEv2\) Protocol", RFC).15 E(4306, December)5 E(2005.)5 E
2.5([RFC4718] Eronen,)102 348 R 2.22 -1.11(P. a)2.5 H(nd P)1.11 E 2.5
(.H)-1.11 G(of)-2.5 E
(fman, "IKEv2 Clari\214cations and Implementation Guidelines", RFC)-.25
E(4718,)5 E 2.5(October 2006.)212 360 R 10([VRRP] Hinden,)102 384 R
(R., "V)2.5 E(irtual Router Redundanc)-.6 E 2.5(yP)-.15 G
(rotocol \(VRRP\)", RFC)-2.5 E(3768, April)5 E(2004.)5 E([resumption])
102 408 Q(Shef)212 420 Q(fer)-.25 E 2.5(,Y)-.4 G 2.5(.a)-3.79 G
(nd H. Tschofenig, "IKEv2 Session Resumption", RFC)-2.5 E(5723,)5 E 2.5
(January 2010.)212 432 R(Author\264s Address)72 468 Q -1.1(Yo)102 492 S
.4 -.2(av N)1.1 H(ir).2 E(Check Point Softw)102 504 Q(are T)-.1 E
(echnologies Ltd.)-.7 E 2.5(5H)102 516 S(asolelim st.)-2.5 E -.7(Te)102
528 S 2.5(lA).7 G(vi)-3.24 E 5(v6)-.25 G(7897)-5 E(Israel)102 540 Q
(Email: ynir@checkpoint.com)102 564 Q 166.79(Nir Expires)72 696 R
(October 17, 2010)2.5 E([P)144.17 E(age 11])-.15 E 0 Cg EP
PStoPSsaved restore
%%Trailer
end
%%EOF
