


GEOPRIV                                                       M. Thomson
Internet-Draft                                           J. Winterbottom
Intended status: Standards Track                                  Andrew
Expires: July 17, 2009                                  January 13, 2009


                  A BEEP Binding for the HELD Protocol
                   draft-thomson-geopriv-held-beep-03

Status of This Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on July 17, 2009.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.

Abstract

   A BEEP binding is described for HELD.  This binding is more suitable
   than the basic HTTP binding in scenarios where multiple messages are



Thomson & Winterbottom    Expires July 17, 2009                 [Page 1]

Internet-Draft               HELD over BEEP                 January 2009


   sent between the same two parties.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
     1.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . 3
   2.  The HELD BEEP Profile . . . . . . . . . . . . . . . . . . . . . 3
     2.1.  Channel Initialization  . . . . . . . . . . . . . . . . . . 4
     2.2.  Message Exchange Pattern  . . . . . . . . . . . . . . . . . 4
     2.3.  Error Handling  . . . . . . . . . . . . . . . . . . . . . . 5
     2.4.  Asynchronous Message Exchange . . . . . . . . . . . . . . . 5
   3.  Location Dereference and the BEEP Binding . . . . . . . . . . . 5
   4.  LIS Discovery and Authentication  . . . . . . . . . . . . . . . 6
   5.  Security Considerations . . . . . . . . . . . . . . . . . . . . 6
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 6
     6.1.  BEEP Profile Registration . . . . . . . . . . . . . . . . . 6
     6.2.  URN sun-namespace registration for
           'urn:ietf:params:xml:ns:geopriv:held:beep'  . . . . . . . . 7
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 8
     7.1.  Normative References  . . . . . . . . . . . . . . . . . . . 8
     7.2.  Informative References  . . . . . . . . . . . . . . . . . . 9






























Thomson & Winterbottom    Expires July 17, 2009                 [Page 2]

Internet-Draft               HELD over BEEP                 January 2009


1.  Introduction

   The HTTP binding for HELD [I-D.ietf-geopriv-http-location-delivery]
   provides a basis for the protocol, which does not encumber
   implementations with a complex protocol stack.  However, some
   applications require that a requester make multiple requests in
   parallel to a Location Information Server (LIS).  Where a requester
   is able to retrieve location information for large numbers of
   Targets, a more efficient protocol is useful.  In these
   circumstances, relying on HTTP is suboptimal.

   The HTTP binding is not suitable in volume scenarios because HTTP
   suffers from head-of-queue blocking.  This prevents multiple requests
   from being processed in parallel.  In order to achieve higher
   throughput, the requester must establish multiple TCP connections in
   parallel.  This causes HTTP to be unsuitable for applications where
   multiple parallel requests are expected by increasing the overheads.

   BEEP [RFC3080] provides a framing scheme that allows for parallel
   requests.  BEEP uses MIME [RFC2045] for its messages, which means
   that no significant modifications are required to carry HELD
   messages.  This document describes a BEEP profile for HELD.

1.1.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2.  The HELD BEEP Profile

   The BEEP profile for HELD is identified using the URN:

      urn:ietf:params:xml:ns:geopriv:held:beep

   This identifier is used in the BEEP "profile" element during channel
   creation.

   The HELD channel is a simple continuous channel that does not require
   any state information.  Requests and their respective responses are
   always in the request-response form ("MSG"/"RPY").










Thomson & Winterbottom    Expires July 17, 2009                 [Page 3]

Internet-Draft               HELD over BEEP                 January 2009


2.1.  Channel Initialization

   The HELD profile is started with a single "profile" request.  No
   additional parameters are required.  When initiating a channel the
   "profile" element is empty, as shown in the example below.

     <start number="1" serverName="lis.example.com">
       <profile uri="urn:ietf:params:xml:ns:geopriv:held:beep"/>
     </start>

   The "serverName" attribute on the "start" message serves the same
   purpose as the HTTP [RFC2616] "Host" header in informing the server
   of the name it is known by.

   Similarly, the response to channel initialization is empty.

     <profile uri="urn:ietf:params:xml:ns:geopriv:held:beep"/>

2.2.  Message Exchange Pattern

   The BEEP binding for HELD requires only the "MSG"/"RPY" message
   exchange.  Each "MSG" frame contains a HELD request; for example a
   "locationRequest".  Each "RPY" frame includes a response; for
   example, a "locationResponse".

   The following exchange demonstrates how a simple HELD location
   request and response are encapsulated.  The "C:" and "S:" prefixes on
   lines are used following the convention in [RFC3080].

   C: MSG 1 7 . 544 125
   C: Content-Type: application/held+xml
   C:
   C: <?xml version="1.0"?>
   C: <locationRequest xmlns="urn:ietf:params:xml:ns:geopriv:held"/>
   C: END
   S: RPY 1 7 . 1902 695
   S: Content-Type: application/held+xml
   S:
   S: <?xml version="1.0"?>
   S: <locationResponse xmlns="urn:ietf:params:xml:ns:geopriv:held">
   S:   <!-- PIDF-LO contents not shown -->
   S: </locationResponse>
   S: END








Thomson & Winterbottom    Expires July 17, 2009                 [Page 4]

Internet-Draft               HELD over BEEP                 January 2009


2.3.  Error Handling

   Consistent with the HTTP binding, the BEEP binding for HELD does not
   use the "ERR" message to indicate errors at the HELD protocol level.
   Errors in handling HELD Requests are indicated to the requester in a
   "RPY" message.

   Errors in the BEEP message that are unrelated to the HELD protocol,
   such as MIME formatting problems, are indicated using the BEEP "ERR"
   message.  This "ERR" message MAY either be empty or it could include
   textual feedback.

2.4.  Asynchronous Message Exchange

   A HELD request can take varying amounts of time to process.  The
   "responseTime" attribute in HELD is used to indicate an upper bound
   on this time.  BEEP channels are serial in nature and BEEP mandates
   that the serving peer process requests in order.  With these
   constraints, in order to acheive any substantial throughput, multiple
   BEEP channels would be necessary.  This approach does not scale well
   for larger numbers of requests as response times increase.

   It is RECOMMENDED that for HELD on BEEP that both peers use
   asynchronous BEEP channels [I-D.thomson-beep-async].  Asynchronous
   BEEP enables the use of a single channel for multiple requests
   without constraints on how requests are processed or on the order of
   responses.  Asynchronous BEEP greatly increases the potential
   throughput of a channel, particularly for profiles like HELD that
   could have widely varying response times.  Without asynchronous BEEP,
   multiple channels MAY be used to increase throughput.

3.  Location Dereference and the BEEP Binding

   The HELD BEEP binding can be used for dereferencing of location URIs
   ([I-D.ietf-geopriv-lbyr-requirements],
   [I-D.winterbottom-geopriv-deref-protocol]).  A location URI is
   indicated in a "Request-URI" MIME header of the BEEP "MSG" frame.

   The "Request-URI" header includes an absolute path and optional query
   components.  The folloring using ABNF [RFC5234] shows the format of
   the "Request-URI" header:

   Request-URI-Header = "Request-URI" ":" ( absolute-URI / "*" )
                        ; absolute-URI from RFC 3986

   The "Request-URI" header includes an absolute URI [RFC3986].  The
   absolute URI indicates location URI that is being dereferenced, or
   the string "*".  A value of "*" indicates that the request is a



Thomson & Winterbottom    Expires July 17, 2009                 [Page 5]

Internet-Draft               HELD over BEEP                 January 2009


   location configuration protocol request (i.e. no location URI is
   being dereferenced); a value of "*" is assumed when the header is
   omitted.

4.  LIS Discovery and Authentication

   This profile is most suited to situations where a client and LIS
   exchange a large number of requests over a prolonged period.  It is
   anticipated that the client and LIS are known to each other.

   Based on this assumption, it is reasonable for the LIS and its
   clients to have pre-existing configuration that is used instead of a
   discovery process.  In addition, authentication details and methods
   can be pre-configured on both nodes.

   Regardless of the method used to determine the address of the LIS, a
   client MUST authenticate the LIS.  This prevents any LIS spoofing
   attacks that could be used to acquire information about the client
   (and in turn, their clients).

   For persistent connections, it is RECOMMENDED that the LIS also
   authenticate clients.  Some authorization decision is likely to be
   necessary in order for a client to initiate a large volume of
   requests, which could represent significant load on a LIS.

   This document does not mandate any specific authentication method;
   however, since TLS MUST be implemented, the mandatory methods in
   [RFC4346] are assumed to be present.  Alternative authentication
   methods can be negotiated between the LIS and its clients.

5.  Security Considerations

   TLS [RFC4346] SHOULD be used for HELD over BEEP unless
   confidentiality, message integrity and authentication are assured
   through other means (e.g. dedicated media).  It is RECOMMENDED that
   BEEP peers establish a TLS connection immediately, rather than
   relying on the TLS tuning profile in BEEP.

6.  IANA Considerations

6.1.  BEEP Profile Registration

   This section outlines the HELD BEEP binding in the form described in
   [RFC3080].







Thomson & Winterbottom    Expires July 17, 2009                 [Page 6]

Internet-Draft               HELD over BEEP                 January 2009


   Profile Identification:  urn:ietf:params:xml:ns:geopriv:held:beep

   Messages exchanged during Channel Creation:  none

   Messages starting one-to-one exchanges:  HELD request messages from
      [I-D.ietf-geopriv-http-location-delivery] and extension documents.

   Messages in positive replies:  HELD request messages from
      [I-D.ietf-geopriv-http-location-delivery] and extension documents.

   Messages in negative replies:  The HELD "error" message

   Messages in one-to-many exchanges:  none

   Message Syntax:  c.f., HELD [I-D.ietf-geopriv-http-location-delivery]

   Message Semantics:  c.f., HELD
      [I-D.ietf-geopriv-http-location-delivery]

   Contact Information:  c.f., the "Author's Address" section of this
      document

6.2.  URN sun-namespace registration for
      'urn:ietf:params:xml:ns:geopriv:held:beep'

   This section registers a new XML namespace,
   "urn:ietf:params:xml:ns:geopriv:held:beep", as per the guidelines in
   [RFC3688].

      URI: urn:ietf:params:xml:ns:geopriv:held:beep

      Registrant Contact: IETF, GEOPRIV working group,
      (geopriv@ietf.org), Martin Thomson (martin.thomson@andrew.com).

      XML:
















Thomson & Winterbottom    Expires July 17, 2009                 [Page 7]

Internet-Draft               HELD over BEEP                 January 2009


           BEGIN
             <?xml version="1.0"?>
             <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
             <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
               <head>
                 <title>HELD BEEP Binding</title>
               </head>
               <body>
                 <h1>Namespace for HELD BEEP Binding Profile</h1>
                 <h2>urn:ietf:params:xml:ns:geopriv:held:beep</h2>
   [[NOTE TO IANA/RFC-EDITOR: Please update RFC URL and replace XXXX
       with the RFC number for this specification.]]
                 <p>See <a href="[[RFC URL]]">RFCXXXX</a>.</p>
               </body>
             </html>
           END

7.  References

7.1.  Normative References

   [RFC2045]                                  Freed, N. and N.
                                              Borenstein, "Multipurpose
                                              Internet Mail Extensions
                                              (MIME) Part One: Format of
                                              Internet Message Bodies",
                                              RFC 2045, November 1996.

   [RFC3080]                                  Rose, M., "The Blocks
                                              Extensible Exchange
                                              Protocol Core", RFC 3080,
                                              March 2001.

   [RFC3986]                                  Berners-Lee, T., Fielding,
                                              R., and L. Masinter,
                                              "Uniform Resource
                                              Identifier (URI): Generic
                                              Syntax", STD 66, RFC 3986,
                                              January 2005.

   [RFC4346]                                  Dierks, T. and E.
                                              Rescorla, "The Transport
                                              Layer Security (TLS)
                                              Protocol Version 1.1",
                                              RFC 4346, April 2006.

   [RFC5234]                                  Crocker, D. and P.



Thomson & Winterbottom    Expires July 17, 2009                 [Page 8]

Internet-Draft               HELD over BEEP                 January 2009


                                              Overell, "Augmented BNF
                                              for Syntax Specifications:
                                              ABNF", STD 68, RFC 5234,
                                              January 2008.

   [I-D.ietf-geopriv-http-location-delivery]  Barnes, M., Winterbottom,
                                              J., Thomson, M., and B.
                                              Stark, "HTTP Enabled
                                              Location Delivery (HELD)",
                                              draft-ietf-geopriv-http-
                                              location-delivery-11 (work
                                              in progress),
                                              December 2008.

   [RFC2119]                                  Bradner, S., "Key words
                                              for use in RFCs to
                                              Indicate Requirement
                                              Levels", BCP 14, RFC 2119,
                                              March 1997.

7.2.  Informative References

   [RFC2616]                                  Fielding, R., Gettys, J.,
                                              Mogul, J., Frystyk, H.,
                                              Masinter, L., Leach, P.,
                                              and T. Berners-Lee,
                                              "Hypertext Transfer
                                              Protocol -- HTTP/1.1",
                                              RFC 2616, June 1999.

   [RFC3688]                                  Mealling, M., "The IETF
                                              XML Registry", BCP 81,
                                              RFC 3688, January 2004.

   [I-D.thomson-beep-async]                   Thomson, M., "Asynchronous
                                              Channels for the Blocks
                                              Extensible Exchange
                                              Protocol (BEEP)", draft-
                                              thomson-beep-async-01
                                              (work in progress),
                                              November 2008.

   [I-D.winterbottom-geopriv-deref-protocol]  Winterbottom, J.,
                                              Tschofenig, H.,
                                              Schulzrinne, H., Thomson,
                                              M., and M. Dawson, "An
                                              HTTPS Location
                                              Dereferencing Protocol



Thomson & Winterbottom    Expires July 17, 2009                 [Page 9]

Internet-Draft               HELD over BEEP                 January 2009


                                              Using HELD", draft-
                                              winterbottom-geopriv-
                                              deref-protocol-02 (work in
                                              progress), July 2008.

   [I-D.ietf-geopriv-lbyr-requirements]       Marshall, R.,
                                              "Requirements for a
                                              Location-by-Reference
                                              Mechanism", draft-ietf-
                                              geopriv-lbyr-requirements-
                                              05 (work in progress),
                                              November 2008.

Authors' Addresses

   Martin Thomson
   Andrew
   PO Box U40
   Wollongong University Campus, NSW  2500
   AU

   Phone: +61 2 4221 2915
   EMail: martin.thomson@andrew.com
   URI:   http://www.andrew.com/


   James Winterbottom
   Andrew
   PO Box U40
   Wollongong University Campus, NSW  2500
   AU

   Phone: +61 2 4221 2938
   EMail: james.winterbottom@andrew.com
   URI:   http://www.andrew.com/
















Thomson & Winterbottom    Expires July 17, 2009                [Page 10]


