


Network Working Group                                              Q. Wu
Internet-Draft                                                    F. Xia
Intended status: Standards Track                                 R. Even
Expires: November 13, 2011                                        Huawei
                                                            May 12, 2011


               RTCP Extension for Third-party Loss Report
             draft-ietf-avtcore-feedback-supression-rtp-03

Abstract

   In a large RTP session using the RTCP feedback mechanism defined in
   RFC 4585, a feedback target may experience transient overload if some
   event causes a large number of receivers to send feedback at once.
   This overload is usually avoided by ensuring that feedback reports
   are forwarded to all receivers, allowing them to avoid sending
   duplicate feedback reports.  However, there are certain cases where
   it is not possible to forward feedback reports, and this may allow
   feedback implosion.  This memo defines a new RTCP third-party loss
   report that can be used to inform receivers that a feedback target is
   aware of some loss event, allowing them to suppress feedback.
   Associated SDP signalling is also defined.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on November 13, 2011.

Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Wu, et al.              Expires November 13, 2011               [Page 1]

Internet-Draft           Third Party Loss Report                May 2011


   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.
































Wu, et al.              Expires November 13, 2011               [Page 2]

Internet-Draft           Third Party Loss Report                May 2011


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  5
   3.  Protocol Overview  . . . . . . . . . . . . . . . . . . . . . .  5
   4.  Format of RTCP Feedback Messages . . . . . . . . . . . . . . .  7
     4.1.  Transport Layer Feedback:  Third-party Loss Report . . . .  7
     4.2.  Payload Specific Feedback: Third-party Loss Report . . . .  8
   5.  SDP Signaling  . . . . . . . . . . . . . . . . . . . . . . . .  9
   6.  Example Use Cases  . . . . . . . . . . . . . . . . . . . . . .  9
     6.1.  Source Specific Multicast (SSM) use case . . . . . . . . .  9
       6.1.1.  Distribution Source Feedback Summary Model . . . . . . 11
     6.2.  Unicast based Rapid Acquisition of Multicast Stream
           (RAMS) use case  . . . . . . . . . . . . . . . . . . . . . 11
     6.3.  RTP transport translator use case  . . . . . . . . . . . . 12
     6.4.  Multipoint Control Unit (MCU) use case . . . . . . . . . . 13
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . 13
   8.  IANA Consideration . . . . . . . . . . . . . . . . . . . . . . 14
   9.  Acknowledgement  . . . . . . . . . . . . . . . . . . . . . . . 15
   10. References . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     10.1. Normative References . . . . . . . . . . . . . . . . . . . 15
     10.2. Informative References . . . . . . . . . . . . . . . . . . 16
   Appendix A.  Change Log  . . . . . . . . . . . . . . . . . . . . . 16
     A.1.  draft-ietf-avtcore-feedback-suppression-rtp-01 . . . . . . 16
     A.2.  draft-ietf-avtcore-feedback-suppression-rtp-02 . . . . . . 17
     A.3.  draft-ietf-avtcore-feedback-suppression-rtp-03 . . . . . . 17
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 17
























Wu, et al.              Expires November 13, 2011               [Page 3]

Internet-Draft           Third Party Loss Report                May 2011


1.  Introduction

   RTCP feedback messages [RFC4585] allow the receivers in an RTP
   session to report events and ask for action from the media source (or
   a delegated feedback target defined in SSM [RFC5760]).  There are
   cases where multiple receivers may initiate the same, or an
   equivalent message towards the same media source.  When the receiver
   count is large, this behavior may cause transient overload of the
   media source, the network or both.  This is known as a "feedback
   storm" or a "NACK storm".  One common cause of such a feedback storm
   is receivers utilizing RTP retransmission [RFC4588] as a packet loss
   recovery technique based, sending feedback using RTCP NACK messages
   [RFC4585] without proper dithering of the retransmission requests.

   Another use case involves video Fast Update requests.  A storm of
   these feedback messages can occur in conversational multimedia
   scenarios like Topo-Video-switch-MCU [RFC5117].  In this scenario,
   packet loss may happen on an upstream link of an intermediate network
   element such as a Multipoint Control Unit(MCU).  Poorly designed
   receivers that blindly issue fast update requests (i.e., Full Intra
   Request (FIR) described in [RFC5104]), can cause an implosion of FIR
   requests from receivers to the same media source.

   RTCP feedback storms may cause short term overload, and in extreme
   cases to pose a possible risk of increasing network congestion on the
   control channel (e.g.  RTCP feedback), the data channel, or both.  It
   is therefore desirable to provide a way of suppressing unneeded
   feedback.

   One approach to this, suggested in [DVB-IPTV], involves sending a
   NACK message to the other clients (or receiver) in the same group as
   the sender of NACK.  However sending multicast NACK to the group can
   not prevent large amount of unicast NACK addressed to the same media
   source or middlebox, for example when the NACK is used as a
   retransmission request [RFC4588].  Also NACK is defined as a receiver
   report sent from a receiver observing a packet loss, therefore it
   only inform others that sender of NACK detected loss while the case
   the sender of the feedback has received reports that the indicated
   packets were lost is not covered.  This document specifies a new
   message for this function.  It further is more precise in the
   intended uses and less likely to be confusing to receivers.  It tells
   receivers explicitly that feedback for a particular packet or frame
   loss is not needed for a period of time and can provide an early
   indication before the receiver reacts to the loss and invokes its
   packet loss repair machinery.






Wu, et al.              Expires November 13, 2011               [Page 4]

Internet-Draft           Third Party Loss Report                May 2011


2.  Terminology

   The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].


3.  Protocol Overview

   This document extends the RTCP feedback messages defined in the
   Audio-Visual Profile with Feedback (AVPF) and define the Third Party
   Loss Report message.  The Third Party Loss Report message informs the
   receiver in the downstream path of the middlebox that the sender of
   the Third Party Loss Report has received reports that the indicated
   packets were lost and asks a receiver to not send feedback messages
   for particular packets (indicated by their RTP sequence numbers)
   independent of whether the receiver detected the packet loss or
   detected a need for a decoder refresh point.

   In order to observe packet loss before the receivers perceive it, one
   or more intermediate nodes may be placed between the media source and
   the receivers.  These intermediates are variously referred to as
   Distribution servers, MCUs, RTP translator, or RTP mixers, depending
   on the precise use case.  These intermediaries monitor for packet
   loss upstream of themselves by checking RTP sequence numbers, just as
   receivers do.  Upon observing (or suspecting) an upstream loss, the
   intermediary Should send NACK both downstream towards the receivers
   and upstream towards the media source, to indicate that it has
   noticed the loss, and to suppress feedback from other downstream
   receivers.  However, in some cases where packet loss occurs in the
   downstream of these intermediates, it is not possible for them to
   distribute the NACKs to all receivers since they are unable to
   observe downstream loss.  In such cases, downstream loss needs to be
   firstly reported to the intermediary.  When downstream loss is
   reported to the intermediary, the intermediary SHOULD create and send
   the Third Party Loss report to the other downstream receivers which
   are not aware of the loss reports, to inform those receivers of the
   loss and suppress their feedback.  Therefore the intermediate node
   can be reasonably certain that it will help the situation by sending
   a Third Party Loss Report message to all the relevant receivers,
   thereby indicating to the receivers that they should not transmit
   feedback messages for a period of time.  The intermediate node needs
   to take into account such factors as the tolerable application delay,
   packet loss recovery techniques, the network dynamics, and the media
   type.  Loss-repair methods such as retransmission and Forward Error
   Correction may be used to recover the missing packet.

   Alternatively, the media source may directly monitor the amount of



Wu, et al.              Expires November 13, 2011               [Page 5]

Internet-Draft           Third Party Loss Report                May 2011


   feedback reports it receives from downstream.  Upon receiving
   downstream loss report in the form of such feedback report which is
   only destined for media source, the media source SHOULD create and
   send the Third Party Loss Report messages to the other downstream
   receivers which are not aware of the loss reports, to inform those
   receivers of the loss and suppress their feedback.

   When a receiver gets such a Third Party Loss Report message, it
   should refrain from sending a feedback request (e.g., NACK or FIR)
   for the missing packets reported in the message for a period of time.
   A receiver may still have sent a Feedback message according to the
   AVPF scheduling algorithm of [RFC4585]before receiving a Third Party
   Loss Report message, but further feedback messages for those sequence
   numbers will be suppressed by this technique for a period of time.
   Nodes that do not understand the Third Party Loss Report message will
   ignore it, and might therefore still send feedback according to the
   AVPF scheduling algorithm of [RFC4585].  The media source or
   intermediate nodes cannot assume that the use of a Third Party Loss
   Report message actually reduces the amount of feedback it receives.

   RTCP Third Party Loss Report follows the similar format of message
   type as RTCP NACK.  But unlike RTCP NACK, the third party loss report
   is defined as an indication that the sender of the feedback has
   received reports that the indicated packets were lost and conveys the
   packet receipt/loss events at the sequence number level from the
   middlebox to the receivers in the downstream path of middlebox while
   NACK [RFC4585] just indicates that the sender of the NACK observed
   that these packets were lost.  The Third Party Loss Report message is
   generated by RTP middlebox that has not seen the actual packet loss
   and sent to the corresponding receivers.  Intermediaries downstream
   of an intermediary receiving the upstream report obviously SHOULD NOT
   initiate their own additional Third Party Loss Report messages for
   the same packet sequence numbers.  They may either simply forward the
   Third Party Loss Report message received from upstream, or send its
   own Third Party Loss Report message that reflects the loss they have
   been told.  The Third Party Loss Report does not have the
   retransmission request [RFC4588] semantics.

   Since Third Party Loss Report interacts strongly with repair timing,
   it has to work together with feedback to not adversely impact the
   repair of lost source packets.  One example is the middle box gets
   the retransmitted packet by sending a NACK upstream and sent it
   downstream.  This retransmitted packet was lost on the downstream
   link.  In order to deal with this, the downstream receiver can start
   a timeout in which it expected to get a retransmission packet.  When
   this timeout expires and there is no retransmitted packet or a new
   third party loss report message, it can take its normal behavior as
   if there is no current retransmission suppression.  In some cases



Wu, et al.              Expires November 13, 2011               [Page 6]

Internet-Draft           Third Party Loss Report                May 2011


   where the loss was detected and repair initiated much closer to the
   source, the delay for the receiver to recover from packet loss can be
   reduced through the combination of intermediary feedback to the
   source and Third Party Loss Report downstream.  In all (properly
   operating) cases, the risk of increasing network congestion is
   decreased.


4.  Format of RTCP Feedback Messages

   This document registers two new RTCP Feedback messages for Third
   Party Loss Report.  Applications that are employing one or more loss-
   repair methods MAY use Third Party Loss Report together with their
   existing loss-repair methods either for every packet they expect to
   receive, or for an application-specific subset of the RTP packets in
   a session.  In other words, receivers MAY ignore Third Party Loss
   Report messages, but SHOULD react to them unless they have good
   reason to still send feedback messages despite having been requested
   to suppress them.

4.1.  Transport Layer Feedback:  Third-party Loss Report

   This Third Party Loss Report message is an extension to the RTCP
   Transport Layer Feedback Report and identified by RTCP packet type
   value PT=RTPFB and FMT=TBD.

   The FCI field MUST contain one or more entries of transport layer
   third party loss Early Indication (TLLEI).  Each entry applies to a
   different media source, identified by its SSRC.

   The Feedback Control Information (FCI) for TLLEI uses the similar
   format of message Types defined in the section 6.2.1 of [RFC4585].
   The format is shown in Figure 1.

         0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |            PID                |             BLP               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Figure 1: Message Format for the Third Party Loss Report

   Packet ID (PID): 16 bits

      The PID field is used to specify a lost packet.  The PID field
      refers to the RTP sequence number of the lost packet.





Wu, et al.              Expires November 13, 2011               [Page 7]

Internet-Draft           Third Party Loss Report                May 2011


   bitmask of proceeding lost packets (BLP): 16 bits

      The BLP allows for reporting losses of any of the 16 RTP packets
      immediately following the RTP packet indicated by the PID.  The
      BLP's definition is identical to that given in [RFC4585].


4.2.  Payload Specific Feedback: Third-party Loss Report

   This message is an extension to the RTCP Payload Specific Feedback
   report and identified by RTCP packet type value PT=PSFB and FMT=TBD.

   The FCI field MUST contain a Payload Specific Third Party Loss Early
   Indication (PSLEI) entry.  Each entry applies to a different media
   source, identified by its SSRC.

   The Feedback Control Information (FCI) for PSLEI uses the similar
   format of message Types defined in the section 4.3.1.1 of [RFC5104].
   The format is shown in Figure 2.

         0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                              SSRC                             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |     Seq nr.   |                   Reserved                    |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Figure 2: Message Format for the Third Party Loss Report

   SSRC (32 bits):

      The SSRC value of the media source that is requested to send a
      decoder refresh point.

   Seq nr:8bits  Command sequence number.  The sequence number space is
      unique for each pairing of the SSRC of command source and the SSRC
      of the command target.  The sequence number SHALL be increased by
      1 modulo 256 for each new request.

   Reserved: 24 bits

      All bits SHALL be set to 0 by the media source and SHALL be
      ignored on reception.







Wu, et al.              Expires November 13, 2011               [Page 8]

Internet-Draft           Third Party Loss Report                May 2011


5.  SDP Signaling

   A new feedback value "tplr" needs to be defined for the Third Party
   Loss Report message to be used with Session Description Protocol
   (SDP) [RFC4566] using the Augmented Backus-Naur Form (ABNF)
   [RFC4585].

   The "tplr" feedback value SHOULD be used with parameters that
   indicate the third party loss supported.  In this document, we define
   two such parameter, namely:

   o  "tllei" denotes support of transport layer third party loss early
      indication (fsei).

   o  "pslei" denotes support of payload specific third party loss early
      indication.

   In the ABNF for rtcp-fb-val defined in [RFC4585], there is a
   placeholder called rtcp-fb-id to define new feedback types. "tplr" is
   defined as a new feedback type in this document, and the ABNF for the
   parameters for tplr is defined here (please refer to section 4.2 of
   [RFC4585] for complete ABNF syntax).

         rtcp-fb-val        =/ "tplr" rtcp-fb-tplr-param
         rtcp-fb-tplr-param  = SP "tllei";transport layer third party loss early indication
                             / SP "pslei";payload specific third party loss early indication
                             / SP token [SP byte-string]
                                       ; for future commands/indications
      byte-string = <as defined in section 4.2 of [RFC4585] >

   Refer to Section 4.2 of [RFC4585] for a detailed description and the
   full syntax of the "rtcp-fb" attribute.


6.  Example Use Cases

   The operation of feedback suppression is similar for all types of RTP
   sessions and topologies [RFC5117], however the exact messages used
   and the scenarios in which suppression is employed differ for various
   use cases.  The following sections outline the intended use cases of
   using Third Party Loss Report for feedback suppression and give an
   overview of the particular mechanisms.

6.1.  Source Specific Multicast (SSM) use case

   In SSM RTP sessions as described in [RFC5760], one or more Media
   Sources send RTP packets to a Distribution Source.  The Distribution
   Source relays the RTP packets to the receivers using a source-



Wu, et al.              Expires November 13, 2011               [Page 9]

Internet-Draft           Third Party Loss Report                May 2011


   specific multicast group.

   As outlined in the [RFC5760], there are two Unicast Feedback models
   that may be used for reporting, - the Simple Feedback model and the
   Distribution Source Feedback Summary Model.  In the simple Feedback
   Model, NACKs are reflected by the distribution source to the other
   receivers, and there's no need for distribution source to create the
   third-party loss report.  The third-party loss report is only
   generated at the distribution source when downstream loss report is
   received in Distribution Source Feedback Summary model.  Therefore
   the RTCP extension for Third Party Loss Report specified in the
   Section 4 of this document only works in Distribution Source Feedback
   models.  Details of operation are specified in Section 6.1.1.

   In order to avoid the forms of Feedback implosion described in
   section 1,the distribution source should be told that the indicated
   packets were lost.  When one downstream receiver reports loss, the
   distribution source creates a Third Party Loss Report and sent it to
   all the other RTP receivers which are not aware of feedback report,
   over the multicast channel.  Another possibility is when there may be
   multiple distribution sources placed between the media source and the
   receivers, each distribution source may send its own Third Party Loss
   report to downstream receivers respectively when downstream loss is
   reported to each distribution source.  And also the upstream
   distribution source may inform downstream distribution sources in the
   path of the detected packet loss using the Third Party Loss Report
   messages.  In response, if the upstream Third Party Loss Report
   reports the different event, the downstream distribution sources
   forward Third Party Loss Report received from upstream to all the RTP
   receivers, over the multicast channel.  If the same event is reported
   both from upstream distribution source and from the downstream
   receiver, the downstream distribution source may suppress creating
   and sending its own report to the relevant RTP receivers.  This Third
   Party Loss Report message tells the receivers that the sender of the
   third party loss report has received reports that the indicated
   packets were lost.  The distribution source then can (optionally) ask
   for the lost packets from the media source or itself on behalf of all
   the RTP receivers.  The lost packets will either be forthcoming from
   distribution source, or it irretrievably lost such that there is
   nothing to be gained by the receiver sending a NACK to the media
   source.

   The distribution source must be able to communicate with all group
   members in order for either mechanism to be effective at suppressing
   feedback.  If the media source(s) are part of the SSM group for RTCP
   packet, the Distribution Source must filter this packet out.  If the
   media source(s) are not part of the SSM group for RTCP packets, the
   Distribution Source must not forward this RTCP Third Party Loss



Wu, et al.              Expires November 13, 2011              [Page 10]

Internet-Draft           Third Party Loss Report                May 2011


   Report message to the media source(s).

6.1.1.  Distribution Source Feedback Summary Model

   In the distribution source feedback summary model, we assume there
   are two distribution sources between media source and receivers:
   distribution source A and distribution source B. The distribution
   source A is at the upstream of distribution source B.

   The distribution source A must listen on the RTP channel for data.
   When the distribution source A observes RTP packets from a media
   source are not consecutive by checking the sequence number of
   packets, the distribution source A generates the NACK message, and
   then send it to receivers in the downstream path via the multicast
   channel.

   The Distribution Source B must also listen for RTCP data sent to the
   RTCP port.  Upon receiving the RTCP Third Party Loss Report from the
   Distribution Source A, the Distribution Source B needs to check
   whether it sees the same event reported both from upstream
   distribution source A and downstream receiver.  If the upstream Third
   Party Loss Report reports the different event, the distribution
   source B passes through any Third Party Loss Report message it
   receives from the upstream direction.  If the same event is reported
   from both distribution source A and downstream receiver of
   distribution source B, the distribution source B may suppress
   creating and sending its own report with the same event to the
   downstream RTP receiver.

   Also the Distribution Source B may create and send its own Third
   Party Loss Report described in the Section 4 to the group over the
   multicast RTCP channel in response to NACKs received from downstream.
   if downstream loss is reported using NACK to the distribution source
   B.

6.2.  Unicast based Rapid Acquisition of Multicast Stream (RAMS) use
      case

   The typical RAMS architecture
   [I-D.ietf-avt-rapid-acquisition-for-rtp] may have several Burst/
   Retransmission Sources(BRS) behind the multicast source (MS) These
   BRSes will receive the multicast SSM stream from the media source.
   If one of the BRSes receives downstream loss report (i.e., First loss
   in Figure 3) on its downstream link, but the others BRSes have not,
   as the packet loss took place on the SSM tree branch that does not
   impact the other BRSes.  In such case, the BRSes not being impacted
   are not aware of downstream loss at their downstream link, therefore
   these BRSes will not create new Third Party Loss Report message and



Wu, et al.              Expires November 13, 2011              [Page 11]

Internet-Draft           Third Party Loss Report                May 2011


   send it to receivers in their downstream path.  If the BRS impacted
   by packet loss has been told the actual packet loss, the BRS MAY
   choose to create new Third Party Loss Report message and send it to
   the receivers in the downstream link.  Note that BRS must use its own
   SSRC as packet sender SSRC for transmitting the feedback suppress
   message.

   The BRS may also send a NACK upstream to request the retransmitted
   packet.  Upon receiving the retransmitted packet, the BRS sent it
   downstream.  Note that this retransmitted packet may get lost (i.e.,
   second loss in the Figure 3) on the downstream link.  In order to
   deal with this issue, the downstream receiver can start a timeout
   clock in which it expected to get a retransmission packet.  When this
   timeout expires and there is no retransmitted packet or a new Third
   Party Loss Report message, it can take its normal behavior as if
   there is no current retransmission suppression in place.

                                     +------------+ First Loss +----------+
                                     |Burst and   |Second Loss |          |
                         +-----------| Retrans.   |----X--X--->|          |
                         | Upstream  |Source1(BRS)| Downstream |          |
           Link close    | link 1    +------------+ link 1     |          |
           to multicast  |                                     |          |
           source        |                                     |          |
                |        |                                     |          |
                |        |           +------------+            |   RTP    |
   +---------+  |  +-----++          |Burst and   |            | Receiver |
   |Multicast|  V| |      +----------| Retrans.   |----------->|          |
   | Source  +-----|Router|Upstream  |Source2(BRS)| Downstream |  RTP_Rx  |
   +---------+     |      |link 2    +------------+ link 2     |          |
                   +-----++                                    |          |
                         |                                     |          |
                         |                                     |          |
                         |                                     |          |
                         |           +------------+            |          |
                         |           |Burst and   |            |          |
                         +-----------+ Retrans.   |----------->|          |
                           Upstream  |Source k(BRS| Downstream |          |
                           link k    +------------+ link k     +----------+

                          Figure 3: RAMS Use Case

6.3.  RTP transport translator use case

   A Transport Translator (Topo-Trn-Translator), as defined in [RFC5117]
   is typically forwarding the RTP and RTCP traffic between RTP clients,
   for example converting between multicast and unicast for domains that
   do not support multicast.  The translator can identify packet loss



Wu, et al.              Expires November 13, 2011              [Page 12]

Internet-Draft           Third Party Loss Report                May 2011


   from the upstream and send the Third Party Loss Report message to the
   unicast receivers.  Note that the translator must be a participant in
   the session and can then use it's own SSRC as packet sender SSRC for
   transmitting the Third Party Loss Report message

6.4.  Multipoint Control Unit (MCU) use case

   In point to multipoint topologies using video switching MCU (Topo-
   Video-switch-MCU) [RFC5117], the MCU typically forwards a single
   media stream to each participant, selected from the available input
   streams.  The selection of the input stream is often based on voice
   activity in the audio-visual conference, but other conference
   management mechanisms (like presentation mode or explicit floor
   control) exist as well.

   In this case the MCU may detect packet loss from the sender or may
   decide to switch to a new source.  In both cases the receiver may
   lose synchronization with the video stream and may send a FIR
   request.  If the MCU itself can detect the mis-synchronization of the
   video, the MCU can send the FIR suppression message to the receivers
   and send a FIR request to the video source.  As suggested in RFC
   5117, this topology is better implemented as an Topo-mixer, in which
   case the mixer's SSRC is used as packet sender SSRC for transmitting
   Third Party Loss Report message.


7.  Security Considerations

   The defined messages have certain properties that have security
   implications.  These must be addressed and taken into account by
   users of this protocol.

   Spoofed or maliciously created feedback messages of the type defined
   in this specification can have the following implications:

   Sending Third Party Loss Report with wrong sequence number of lost
   packet that makes missing RTP packets can not be compensated.

   To prevent these attacks, there is a need to apply authentication and
   integrity protection of the feedback messages.  This can be
   accomplished against threats external to the current RTP session
   using the RTP profile that combines Secure RTP [RFC3711] and AVPF
   into SAVPF [RFC5124].

   Note that middleboxes that are not visible at the RTP layer that wish
   to send Third Party Loss Reports on behalf of the media source can
   only do so if they spoof the SSRC of the media source.  This is
   difficult in case SRTP is in use.  If the middlebox is visible at the



Wu, et al.              Expires November 13, 2011              [Page 13]

Internet-Draft           Third Party Loss Report                May 2011


   RTP layer, this is not an issue, provided the middlebox is part of
   the security context for the session.

   Also note that endpoints that receive a Third Party Loss Report would
   be well-advised to ignore it, unless it is authenticated via SRTCP or
   similar.  Accepting un-authenticated Third Party Loss Report can lead
   to a denial of service attack, where the endpoint accepts poor
   quality media that could be repaired.


8.  IANA Consideration

   New feedback type and New parameters for RTCP Third Party Loss Report
   are subject to IANA registration.  For general guidelines on IANA
   considerations for RTCP feedback, refer to [RFC4585].

   This document assigns one new feedback type value x in the RTCP
   feedback report registry to "Third Party Loss Report" with the
   following registrations format:

                    Name:            TPLR
                    Long Name:       Third Party Loss Report
                    Value:           TBD
                    Reference:       This document.

   This document also assigns the parameter value y in the RTCP TPLR
   feedback report Registry to " Transport Layer Third Party Loss Early
   Indication ", with the following registrations format:

        Name:           TLLEI
        Long name:      Transport Layer Third Party Loss Early Indication
        Value:          TBD
        Reference:      this document.

   This document also assigns the parameter value z in the RTCP TPLR
   feedback report Registry to "Payload Specific Third Party Loss Early
   Indication ", with the following registrations format:

        Name:           PSLEI
        Long name:      Payload Specific Third Party Loss Early Indication
        Value:          TBD
        Reference:      this document.

   The contact information for the registrations is:

     Qin Wu
     sunseawq@huawei.com
     101 Software Avenue, Yuhua District



Wu, et al.              Expires November 13, 2011              [Page 14]

Internet-Draft           Third Party Loss Report                May 2011


     Nanjing, Jiangsu  210012, China


9.  Acknowledgement

   The authors would like to thank David R Oran, Ali C. Begen, Colin
   Perkins,Tom VAN CAENEGEM, Ingemar Johansson S, Bill Ver Steeg,
   Jonathan Lennox, WeeSan Lee for their valuable comments and
   suggestions on this document.


10.  References

10.1.  Normative References

   [RFC5760]  Ott, J., Chesterfield, J., and E. Schooler, "RTP Control
              Protocol (RTCP) Extensions for Single-Source Multicast
              Sessions with Unicast Feedback", RFC 5760, February 2010.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC4585]  Ott, J., Wenger, S., Sato, N., Burmeister, C., and J. Rey,
              "Extended RTP Profile for Real-time Transport Control
              Protocol (RTCP)-Based Feedback (RTP/AVPF)", RFC 4585,
              July 2006.

   [RFC3550]  Schulzrinne, H., Casner, S., Frederick, R., and V.
              Jacobson, "RTP: A Transport Protocol for Real-Time
              Applications", STD 64, RFC 3550, July 2003.

   [RFC5117]  Westerlund, M. and S. Wenger, "RTP Topologies", RFC 5117,
              January 2008.

   [RFC4588]  Rey, J., Leon, D., Miyazaki, A., Varsa, V., and R.
              Hakenberg, "RTP Retransmission Payload Format", RFC 4588,
              July 2006.

   [RFC4566]  Handley, M., Jacobson, V., and C. Perkins, "SDP: Session
              Description Protocol", RFC 4566, July 2006.

   [RFC5234]  Crocker, D. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, RFC 5234, January 2008.

   [RFC5104]  Wenger, S., Chandra, U., Westerlund, M., and B. Burman,
              "Codec Control Messages in the RTP Audio-Visual Profile
              with Feedback (AVPF)", RFC 5104, February 2008.




Wu, et al.              Expires November 13, 2011              [Page 15]

Internet-Draft           Third Party Loss Report                May 2011


   [RFC3711]  Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K.
              Norrman, "The Secure Real-time Transport Protocol (SRTP)",
              RFC 3711, March 2004.

   [RFC5124]  Ott, J. and E. Carrara, "Extended Secure RTP Profile for
              Real-time Transport Control Protocol (RTCP)-Based Feedback
              (RTP/SAVPF)", RFC 5124, February 2008.

10.2.  Informative References

   [RFC5740]  Adamson, B., Bormann, C., Handley, M., and J. Macker,
              "NACK-Oriented Reliable Multicast (NORM) Transport
              Protocol", November 2009.

   [DVB-IPTV]
              ETSI Standard, "Digital Video Broadcasting(DVB); Transport
              of MPEG-2 TS Based DVB Services over IP Based Networks",
              ETSI TS 102 034, V1.4.1 , August 2009.

   [I-D.ietf-avt-rapid-acquisition-for-rtp]
              Steeg, B., Begen, A., Caenegem, T., and Z. Vax, "Unicast-
              Based Rapid Acquisition of Multicast RTP Sessions",
              November 2010.

   [I-D.hunt-avt-monarch-01]
              Hunt, G. and P. Arden, "Monitoring Architectures for RTP",
              August 2008.

   [I-D.ietf-pmol-metrics-framework-02]
              Clark, A., "Framework for Performance Metric Development".


Appendix A.  Change Log

   Note to the RFC-Editor: please remove this section prior to
   publication as an RFC.

A.1.  draft-ietf-avtcore-feedback-suppression-rtp-01

   The following are the major changes compared to previous version:

   o  Remove the merge report from SSM use case and addional text to
      address report merging issue.

   o  Revise section 3 and section 6 to address FEC packet dealing issue
      and Leave how to repair packet loss beyond the scope.





Wu, et al.              Expires November 13, 2011              [Page 16]

Internet-Draft           Third Party Loss Report                May 2011


   o  Modify the SSM use case and RAMS use case to focus on uses.

   o  Other Editorial changes.

A.2.  draft-ietf-avtcore-feedback-suppression-rtp-02

   The following are the major changes compared to previous version:

   o  In Section 4.1, fix typo: Section 4.3.1.1 of section [RFC5104]->
      section 6.2.1 of [RFC4585].

   o  In Section 3: Clarify how to deal with downstream loss using Third
      party loss report and upstream loss using NACK.

   o  Update title and abstract to focus on third party loss report.

   o  In Section 6.1: Update this section to explain how third party
      loss report is used to deal with downstream loss.

   o  In section 6.1.2: Update this section to explain how third party
      loss report is used to deal with downstream loss.

   o  In section 6.2: Rephrase the text to discuss how BRS deal with the
      third party loss report.

A.3.  draft-ietf-avtcore-feedback-suppression-rtp-03

   The following are the major changes compared to previous version:

   o  In Appendix A, fix typo: Appendix A.  Appendix A.  -> Appdendix A.

   o  Update abstract to clarify when third-party loss reports should be
      sent instead of NACKs.

   o  Update section 3 Paragraph 2 to differentiate when a third-party
      loss report should be used compared to a NACK.

   o  Update section 3 Paragraph 3 to explain when media source to send
      a third-party loss.

   o  Move specific rules for section 6.1.1 and section 6.1.2 to section
      6.1 as generic rules and delete section 6.1.1.









Wu, et al.              Expires November 13, 2011              [Page 17]

Internet-Draft           Third Party Loss Report                May 2011


Authors' Addresses

   Qin Wu
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: sunseawq@huawei.com


   Frank Xia
   Huawei
   1700 Alma Dr. Suite 500
   Plano, TX 75075
   USA

   Phone: +1 972-509-5599
   Email: xiayangsong@huawei.com


   Roni Even
   Huawei
   14 David Hamelech
   Tel Aviv 64953
   Israel

   Email: even.roni@huawei.com























Wu, et al.              Expires November 13, 2011              [Page 18]

