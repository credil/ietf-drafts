


Network Working Group                                          M. Tuexen
Internet-Draft                        Muenster Univ. of Applied Sciences
Intended status: Experimental                               T. Dreibholz
Expires: September 11, 2008                 University of Duisburg-Essen
                                                          March 10, 2008


                    Reliable Server Pooling Policies
                  draft-ietf-rserpool-policies-08.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 11, 2008.

Abstract

   This document describes server pool policies for Reliable Server
   Pooling including considerations for implementing them at ENRP
   servers and pool users.











Tuexen & Dreibholz     Expires September 11, 2008               [Page 1]

Internet-Draft              RSerPool Policies                 March 2008


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   2.  Conventions  . . . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  Terminology and Definitions  . . . . . . . . . . . . . . . . .  4
     3.1.  Load . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
     3.2.  Weight . . . . . . . . . . . . . . . . . . . . . . . . . .  4
   4.  Non-Adaptive Policies  . . . . . . . . . . . . . . . . . . . .  5
     4.1.  Round Robin Policy . . . . . . . . . . . . . . . . . . . .  5
       4.1.1.  Description  . . . . . . . . . . . . . . . . . . . . .  5
       4.1.2.  ENRP Server Considerations . . . . . . . . . . . . . .  5
       4.1.3.  Pool User Considerations . . . . . . . . . . . . . . .  5
       4.1.4.  Pool Member Selection Policy Parameter . . . . . . . .  5
     4.2.  Weighted Round Robin Policy  . . . . . . . . . . . . . . .  6
       4.2.1.  Description  . . . . . . . . . . . . . . . . . . . . .  6
       4.2.2.  ENRP Server Considerations . . . . . . . . . . . . . .  6
       4.2.3.  Pool User Considerations . . . . . . . . . . . . . . .  6
       4.2.4.  Pool Member Selection Policy Parameter . . . . . . . .  6
     4.3.  Random Policy  . . . . . . . . . . . . . . . . . . . . . .  7
       4.3.1.  Description  . . . . . . . . . . . . . . . . . . . . .  7
       4.3.2.  ENRP Server Considerations . . . . . . . . . . . . . .  7
       4.3.3.  Pool User Considerations . . . . . . . . . . . . . . .  7
       4.3.4.  Pool Member Selection Policy Parameter . . . . . . . .  7
     4.4.  Weighted Random Policy . . . . . . . . . . . . . . . . . .  7
       4.4.1.  Description  . . . . . . . . . . . . . . . . . . . . .  7
       4.4.2.  ENRP Server Considerations . . . . . . . . . . . . . .  7
       4.4.3.  Pool User Considerations . . . . . . . . . . . . . . .  8
       4.4.4.  Pool Member Selection Policy Parameter . . . . . . . .  8
     4.5.  Priority Policy  . . . . . . . . . . . . . . . . . . . . .  8
       4.5.1.  Description  . . . . . . . . . . . . . . . . . . . . .  8
       4.5.2.  ENRP Server Considerations . . . . . . . . . . . . . .  8
       4.5.3.  Pool Element Considerations  . . . . . . . . . . . . .  8
       4.5.4.  Pool Member Selection Policy Parameter . . . . . . . .  8
   5.  Adaptive Policies  . . . . . . . . . . . . . . . . . . . . . .  9
     5.1.  Least Used Policy  . . . . . . . . . . . . . . . . . . . .  9
       5.1.1.  Description  . . . . . . . . . . . . . . . . . . . . .  9
       5.1.2.  ENRP Server Considerations . . . . . . . . . . . . . .  9
       5.1.3.  Pool User Considerations . . . . . . . . . . . . . . .  9
       5.1.4.  Pool Member Selection Policy Parameter . . . . . . . .  9
     5.2.  Least Used with Degradation Policy . . . . . . . . . . . . 10
       5.2.1.  Description  . . . . . . . . . . . . . . . . . . . . . 10
       5.2.2.  ENRP Server Considerations . . . . . . . . . . . . . . 10
       5.2.3.  Pool User Considerations . . . . . . . . . . . . . . . 10
       5.2.4.  Pool Member Selection Policy Parameter . . . . . . . . 10
     5.3.  Priority Least Used Policy . . . . . . . . . . . . . . . . 11
       5.3.1.  Description  . . . . . . . . . . . . . . . . . . . . . 11
       5.3.2.  ENRP Server Considerations . . . . . . . . . . . . . . 11
       5.3.3.  Pool User Considerations . . . . . . . . . . . . . . . 11



Tuexen & Dreibholz     Expires September 11, 2008               [Page 2]

Internet-Draft              RSerPool Policies                 March 2008


       5.3.4.  Pool Member Selection Policy Parameter . . . . . . . . 11
     5.4.  Randomized Least Used Policy . . . . . . . . . . . . . . . 12
       5.4.1.  Description  . . . . . . . . . . . . . . . . . . . . . 12
       5.4.2.  ENRP Server Considerations . . . . . . . . . . . . . . 12
       5.4.3.  Pool User Considerations . . . . . . . . . . . . . . . 12
       5.4.4.  Pool Member Selection Policy Parameter . . . . . . . . 12
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . . 13
   7.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 13
     7.1.  A New Table for RSerPool Policy Types  . . . . . . . . . . 13
   8.  Reference Implementation . . . . . . . . . . . . . . . . . . . 14
   9.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 14
     9.1.  Normative References . . . . . . . . . . . . . . . . . . . 14
     9.2.  Informative References . . . . . . . . . . . . . . . . . . 15
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 16
   Intellectual Property and Copyright Statements . . . . . . . . . . 17




































Tuexen & Dreibholz     Expires September 11, 2008               [Page 3]

Internet-Draft              RSerPool Policies                 March 2008


1.  Introduction

   The protocols defined in ENRP [I-D.ietf-rserpool-enrp], ASAP
   [I-D.ietf-rserpool-asap] and Parameters
   [I-D.ietf-rserpool-common-param] support a variety of server
   policies.  Some of the policies use dynamic load information of the
   pool elements and others do not.  Therefore, we classify them as
   adaptive and non-adaptive.  The selection of the pool user is
   performed by two different entities.  Some of the consequences for
   policies which are not stateless are described in Performance
   [ICN2005].

   Therefore this document describes not only packet formats but also
   gives a detailed description of the procedures to be followed at the
   ENRP servers and the pool users to implement each server policy.


2.  Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119 [RFC2119].


3.  Terminology and Definitions

3.1.  Load

   The term load is a value specifying how much a pool element's
   resources are currently utilized. 0x00000000 states, that the pool
   element is not utilized (0%), 0xffffffff states that it is fully
   utilized (100%).  Defining what utilization means is application-
   dependent and out of the scope of RSerPool.  However, it is required
   that all pool elements of the same pool using load information have
   the same definition of load.

   For example, load may define the current amount of users out of a
   maximum on a FTP server, the CPU usage of a database server or the
   memory utilization of a compute service.

3.2.  Weight

   Weight defines a pool element's service capacity relatively to other
   pool elements of the same pool.  Theoretically, there is no upper
   limit for weight values (although limited by datatype size).
   Defining what value weights compare is application-dependent and out
   of the scope of RSerPool.  However, it is required that all pool
   elements of the same pool using weight information have the same



Tuexen & Dreibholz     Expires September 11, 2008               [Page 4]

Internet-Draft              RSerPool Policies                 March 2008


   definition of weight.

   A weight of 0 denotes that the pool element is not capable of
   providing any service, a weight of 2*n denotes that the pool element
   is capable of providing a two times better service than a pool
   element having weight n.

   For example, weight may define a compute service's computation
   capacity.  That is, a pool element of weight 100 will complete a work
   package in half of the time compared to a pool element of weight 50.


4.  Non-Adaptive Policies

4.1.  Round Robin Policy

4.1.1.  Description

   The Round Robin (RR) policy is a very simple and efficient policy
   which requires state.  This policy is denoted as the default policy
   and MUST be supported by all RSerPool components.

4.1.2.  ENRP Server Considerations

   The ENRP server SHOULD hold the pool elements of each server pool in
   a circular list and SHOULD store a pointer to one of the elements,
   called the head.  On reception of a handle resolution request the
   ENRP server SHOULD return the pool elements from the circular list
   starting with head.  Then head SHOULD be advanced by one element.

   Using this algorithm it is made sure that not all lists presented to
   the pool users start with the same element.

4.1.3.  Pool User Considerations

   A pool user SHOULD use the list of pool elements returned by the ENRP
   server in a round robin fashion, starting with the first.  If all
   elements of the list have been used it should start from the
   beginning again until the information is out of date.

4.1.4.  Pool Member Selection Policy Parameter










Tuexen & Dreibholz     Expires September 11, 2008               [Page 5]

Internet-Draft              RSerPool Policies                 March 2008


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0x8          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x00000001                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

4.2.  Weighted Round Robin Policy

4.2.1.  Description

   The Weighted Round Robin (WRR) policy is a generalization of the RR
   policy.  If all weights are 1 then WRR is just RR.

4.2.2.  ENRP Server Considerations

   The ENRP server SHOULD follow the same rules as for RR but initialize
   and modify the circular list differently.  The ENRP server puts each
   pool element possibly multiple times into the list such that:
   o  The ratio of the number of occurrences of a pool element to the
      list length is the same as the ratio of the weight of that pool
      element to the sum of weights.
   o  Each pool element is inserted as distributed as possible in the
      circular list.

4.2.3.  Pool User Considerations

   The pool user SHOULD follow the same rules as for RR.

4.2.4.  Pool Member Selection Policy Parameter


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0xc          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x00000002                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                              Weight                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Weight: Weight constant for the WRR process.







Tuexen & Dreibholz     Expires September 11, 2008               [Page 6]

Internet-Draft              RSerPool Policies                 March 2008


4.3.  Random Policy

4.3.1.  Description

   The Random (RAND) policy is a very simple stateless policy.

4.3.2.  ENRP Server Considerations

   The ENRP server selects at most the requested number of pool elements
   from the list of pool elements.  Each element MUST NOT be reported
   more than once to the pool user.

4.3.3.  Pool User Considerations

   Each time the pool user must select one pool element it does this by
   randomly selecting one element from the list of pool elements
   received from the ENRP server.

4.3.4.  Pool Member Selection Policy Parameter


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0x8          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x00000003                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

4.4.  Weighted Random Policy

4.4.1.  Description

   The Weighted Random (WRAND) policy is a generalization of the RAND
   policy, adding a weight for each pool element entry.  RAND is equal
   to WRAND having all weights set to 1.

4.4.2.  ENRP Server Considerations

   The ENRP server SHOULD select at most the requested number of pool
   elements randomly from the list of pool elements.  Each element MUST
   NOT be reported more than once to the pool user.  The probability of
   selecting a pool element should be the ratio of the weight of that
   pool element to the sum of weights.







Tuexen & Dreibholz     Expires September 11, 2008               [Page 7]

Internet-Draft              RSerPool Policies                 March 2008


4.4.3.  Pool User Considerations

   Each time the pool user must select one pool element it does this by
   randomly selecting one element from the list of pool elements
   received from the ENRP server.

4.4.4.  Pool Member Selection Policy Parameter


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0xc          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x00000004                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                              Weight                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Weight: Weight constant for the WRAND process.

4.5.  Priority Policy

4.5.1.  Description

   The Priority (PRIO) policy can be used to select always a pool
   element with the highest priority.

4.5.2.  ENRP Server Considerations

   The ENRP server MUST select the pool elements with the highest
   priorities.  They MUST be reported in decreasing order.  If multiple
   pool elements have the same priority, they may be listed in any
   order.

4.5.3.  Pool Element Considerations

   The pool user MUST select the active pool element with the highest
   priority.

4.5.4.  Pool Member Selection Policy Parameter










Tuexen & Dreibholz     Expires September 11, 2008               [Page 8]

Internet-Draft              RSerPool Policies                 March 2008


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0xc          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x00000005                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            Priority                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Priority: 32 bits, unsigned int.  Larger numbers mean higher
      priorities.


5.  Adaptive Policies

5.1.  Least Used Policy

5.1.1.  Description

   The Least Used (LU) policy uses load information provided by the pool
   elements to select the lowest-loaded pool elements within the pool.

5.1.2.  ENRP Server Considerations

   The ENRP server SHOULD select at most the requested number of pool
   elements.  Their load values SHOULD be the lowest possible ones
   within the pool.  Each element MUST NOT be reported more than once to
   the pool user.  If there is a choice of equal-loaded pool elements,
   round robin selection SHOULD be made among these elements.  The
   returned list of pool elements MUST be sorted ascending by load
   value.

5.1.3.  Pool User Considerations

   The pool user should try to use the pool elements returned from the
   list in the order returned by the ENRP server.  A subsequent call for
   handle resolution may result in the same list.  Thereofore, it is
   RECOMMENDED for a pool user to request multiple entries in order to
   have a sufficient amount of feasible backup entries available.

5.1.4.  Pool Member Selection Policy Parameter









Tuexen & Dreibholz     Expires September 11, 2008               [Page 9]

Internet-Draft              RSerPool Policies                 March 2008


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0xc          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x40000001                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                              Load                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Load: Current load of the pool element.

5.2.  Least Used with Degradation Policy

5.2.1.  Description

   The Least Used with Degradation (LUD) policy extends the LU policy by
   a load degradation value describing the pool element's load increment
   when a new service association is accepted.

5.2.2.  ENRP Server Considerations

   For every pool element entry, a degradation counter MUST be stored.
   When a pool element entry is added or updated by registration or
   reregistration, this counter MUST be set to 0.  When an entry is
   selected for being returned to a pool user, the internal degradation
   counter MUST be incremented by 1.  The selection of pool element
   entries is handled like for LU, except that the selected pool element
   entries SHOULD have the lowest possible sum of load value +
   degradation counter * load degradation value.

5.2.3.  Pool User Considerations

   See LU policy.

5.2.4.  Pool Member Selection Policy Parameter


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0x10         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x40000002                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                              Load                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                        Load Degradation                       |



Tuexen & Dreibholz     Expires September 11, 2008              [Page 10]

Internet-Draft              RSerPool Policies                 March 2008


      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Load: Current load of the pool element.
   o  Load Degradation: Load Degradation constant of the pool element.

5.3.  Priority Least Used Policy

5.3.1.  Description

   The Priority Least Used (PLU) policy uses load information provided
   by the pool elements to select the lowest-loaded pool elements within
   the pool under the assumption that a new application request is
   accepted by the pool elements.  Therefore, the pool elements also
   have to specify load degradation information.

   Example: Pool elements A and B are loaded by 50%, but the load of A
   will increase due to a new application request only by 10% while B
   will be fully loaded.  PLU allows to specify this load degradation in
   the policy information, the selection is made on the lowest sum of
   load and degradation value.  That is, A will be selected (50+10=60)
   instead of B (50+50=100).

5.3.2.  ENRP Server Considerations

   The ENRP server SHOULD select at most the requested number of pool
   elements.  Their sums of load + degradation SHOULD be the lowest
   possible ones within the pool.  Each element MUST NOT be reported
   more than once to the pool user.  If there is a choice of equal-
   valued pool element entries, round robin SHOULD be made among these
   elements.  The returned list of pool elements MUST be sorted
   ascending by the sum of load and degradation value.

5.3.3.  Pool User Considerations

   The pool user should try to use the pool elements returned from the
   list in the order returned by the ENRP server.  A subsequent call for
   handle resolution may result in the same list.  Therefore, it is
   RECOMMENDED for a pool user to request multiple entries in order to
   have a sufficient amount of feasible backup entries available.

5.3.4.  Pool Member Selection Policy Parameter










Tuexen & Dreibholz     Expires September 11, 2008              [Page 11]

Internet-Draft              RSerPool Policies                 March 2008


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0x10         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x40000003                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                              Load                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                        Load Degradation                       |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Load: Current load of the pool element.
   o  Load Degradation: Load Degradation constant of the pool element.

5.4.  Randomized Least Used Policy

5.4.1.  Description

   The Randomized Least Used (RLU) policy combines LU and WRAND.  That
   is, the pool element entries are selected randomly.  The probability
   for a pool element entry A, utilized with load_A, to be selected is
   (0xFFFFFFFF - load_A) / (sum(0xFFFFFFFF-load_x)), i.e. this PE's
   unload part related to the whole pool unload rate.

5.4.2.  ENRP Server Considerations

   The ENRP server SHOULD behave like WRAND, having every PE's weight
   set to (0xffffffff - Load value provided by the pool element).

5.4.3.  Pool User Considerations

   See WRAND policy.

5.4.4.  Pool Member Selection Policy Parameter


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Param Type = 0x8           |         Length = 0xc          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   Policy Type = 0x40000004                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                              Load                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+





Tuexen & Dreibholz     Expires September 11, 2008              [Page 12]

Internet-Draft              RSerPool Policies                 March 2008


   o  Load: Current load of the pool element.


6.  Security Considerations

   The security threats regarding RSerPool have been analyzed in
   RSerPool threats [I-D.ietf-rserpool-threats].  The server policy
   descriptions in this document do not add any other threats.


7.  IANA Considerations

   [NOTE to RFC-Editor:
      "RFCXXXX" is to be replaced by the RFC number you assign this
      document.
   ]

   This document (RFCXXX) is the reference for all registrations
   described in this section.  All registrations need to be listed on an
   RSerPool specific page.

7.1.  A New Table for RSerPool Policy Types

   RSerPool Policy Types which are 4 byte values have to be maintained
   by IANA.  The format of the policy type value is defined as follows:

          0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |X|A|                   Policy Number                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  X: If set to 1, the policy is user-defined and not standardized.
      All standards policies reserved by the IETF use X=0.
   o  A: If set to 1, the policy is adaptive.  Otherwise, it is non-
      adaptive.
   o  Policy Number: The actual number of the policy.

   Nine initial Policy Types should be assigned and maintained in a new
   table "RSerPool Policy Types":











Tuexen & Dreibholz     Expires September 11, 2008              [Page 13]

Internet-Draft              RSerPool Policies                 March 2008


     Value           Policy                                  Reference
     -----           ---------                               ---------
     0x00000000      (reserved by IETF)                      RFCXXXX
     0x00000001      Round Robin                             RFCXXXX
     0x00000002      Weighted Round Robin                    RFCXXXX
     0x00000003      Random                                  RFCXXXX
     0x00000004      Weighted Random                         RFCXXXX
     0x00000005      Priority                                RFCXXXX
     0x00000006      (reserved by IETF)                      RFCXXXX
     ...
     0x3fffffff      (reserved by IETF)                      RFCXXXX

     0x40000000      (reserved by IETF)                      RFCXXXX
     0x40000001      Least Used                              RFCXXXX
     0x40000002      Least Used with Degradation             RFCXXXX
     0x40000003      Priority Least Used                     RFCXXXX
     0x40000004      Randomized Least Used                   RFCXXXX
     0x40000005      (reserved by IETF)                      RFCXXXX
     ...
     0x7fffffff      (reserved by IETF)                      RFCXXXX

     0x80000000      (private use, non-standard policy)      RFCXXXX
     ...
     0xffffffff      (private use, non-standard policy)      RFCXXXX

   For registering at IANA an RSerPool Policy Type in this table a
   request has to be made to assign such a number.  This number must be
   unique and use the appropiate upper bits.  The "Specification
   Required" policy of RFC2434 [RFC2434] MUST be applied.

   The Policy Type space from 0x80000000 to 0xffffffff is designated for
   private use.


8.  Reference Implementation

   The reference implementation of RSerPool and the policies described
   in this document is available at [RSerPoolPage].


9.  References

9.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2434]  Narten, T. and H. Alvestrand, "Guidelines for Writing an



Tuexen & Dreibholz     Expires September 11, 2008              [Page 14]

Internet-Draft              RSerPool Policies                 March 2008


              IANA Considerations Section in RFCs", BCP 26, RFC 2434,
              October 1998.

   [I-D.ietf-rserpool-common-param]
              Stewart, R., Xie, Q., Stillman, M., and M. Tuexen,
              "Aggregate Server Access Protocol (ASAP) and Endpoint
              Handlespace Redundancy  Protocol (ENRP) Parameters",
              draft-ietf-rserpool-common-param-15 (work in progress),
              December 2007.

   [I-D.ietf-rserpool-asap]
              Stewart, R., Xie, Q., Stillman, M., and M. Tuexen,
              "Aggregate Server Access Protocol (ASAP)",
              draft-ietf-rserpool-asap-18 (work in progress),
              November 2007.

   [I-D.ietf-rserpool-enrp]
              Xie, Q., Stewart, R., Stillman, M., Tuexen, M., and A.
              Silverton, "Endpoint Handlespace Redundancy Protocol
              (ENRP)", draft-ietf-rserpool-enrp-18 (work in progress),
              November 2007.

   [I-D.ietf-rserpool-threats]
              Stillman, M., Gopal, R., Guttman, E., Holdrege, M., and S.
              Sengodan, "Threats Introduced by RSerPool and Requirements
              for Security in Response to  Threats",
              draft-ietf-rserpool-threats-09 (work in progress),
              October 2007.

9.2.  Informative References

   [RSerPoolPage]
              Dreibholz, T., "Thomas Dreibholz's RSerPool Page", URL:
               http://tdrwww.exp-math.uni-essen.de/dreibholz/rserpool/.

   [Dre2006]  Dreibholz, T., "Reliable Server Pooling -- Evaluation,
              Optimization and Extension of a Novel IETF Architecture",
              Ph.D. Thesis University of Duisburg-Essen, Faculty of
              Economics, Institute for Computer Science and Business
              Information Systems, URL: http://
              duepublico.uni-duisburg-essen.de/servlets/DerivateServlet/
              Derivate-16326/Dre2006-final.pdf, March 2007.

   [LCN2005]  Dreibholz, T. and E. Rathgeb, "On the Performance of
              Reliable Server Pooling Systems", Proceedings of the 30th
              IEEE Local Computer Networks Conference, November 2005.

   [ICN2005]  Dreibholz, T., Rathgeb, E., and M. Tuexen, "Load



Tuexen & Dreibholz     Expires September 11, 2008              [Page 15]

Internet-Draft              RSerPool Policies                 March 2008


              Distribution Performance of the Reliable Server Pooling
              Framework", Proceedings of the 4th IEEE International
              Conference on Networking, April 2005.


Authors' Addresses

   Michael Tuexen
   Muenster University of Applied Sciences
   Stegerwaldstrasse 39
   48565 Steinfurt
   Germany

   Email: tuexen@fh-muenster.de


   Thomas Dreibholz
   University of Duisburg-Essen, Institute for Experimental Mathematics
   Ellernstrasse 29
   45326 Essen, Nordrhein-Westfalen
   Germany

   Phone: +49 201 183-7637
   Fax:   +49 201 183-7673
   Email: dreibh@exp-math.uni-essen.de
   URI:   http://www.exp-math.uni-essen.de/~dreibh/

























Tuexen & Dreibholz     Expires September 11, 2008              [Page 16]

Internet-Draft              RSerPool Policies                 March 2008


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.











Tuexen & Dreibholz     Expires September 11, 2008              [Page 17]


