<?xml version="1.0"?>
<?xml-stylesheet type='text/xsl' href='http://greenbytes.de/tech/webdav/rfc2629.xslt' ?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc strict="yes"?>
<?rfc sortrefs="yes"?>
<rfc ipr="full3978" docName="&lt;draft-reid-dnsext-nkey-00.txt&gt;">


<front>
<title abbrev="The NKEY DNS Resource Record">The NKEY DNS Resource Record</title>

<!-- $Id: draft-nkey.xml,v 1.3 2007/11/12 12:44:27 jim Exp $ -->
<!-- ************** Jim Reid ***************-->
<author initials="J." surname="Reid" fullname="Jim Reid">
<organization abbrev="Telnic Ltd">Telnic Ltd</organization>
<address>
    <postal>
        <street>6 Langside Court</street>
        <city>Bothwell</city>
        <region>SCOTLAND</region>
        <country>United Kingdom</country>
    </postal>
    <phone>+44 20 7282 0000</phone>
    <email>jim@telnic.org</email>
</address>
</author>
<author initials="J." surname="Schlyter" fullname="Jakob Schlyter">
<organization abbrev="Kirei AB">Kirei AB</organization>
<address>
    <postal>
        <street>PO Box 53204</street>
        <city>Goteborg</city>
        <region>SE 40016</region>
        <country>Sweden</country>
    </postal>
    <phone>+46 31 787 8007</phone>
    <email>jakob@kirei.se</email>
</address>
</author>
<author initials="B." surname="Timms" fullname="Ben Timms">
<organization abbrev="Telnic Ltd">Telnic Ltd</organization>
<address>
    <postal>
        <street>8 Wilfred Street</street>
        <city>London</city>
        <region>SW1T 6PL</region>
        <country>United Kingdom</country>
    </postal>
    <phone>+44 20 7282 0000</phone>
    <email>btimms@telnic.org</email>
</address>
</author>

<date month="November" year="2007" />
<area>Internet</area>
<workgroup>DNSEXT</workgroup>
<keyword>DNS</keyword>
<keyword>ENUM</keyword>
<keyword>NAPTR</keyword>
<keyword>Internet-Draft</keyword>

<abstract>
<t>
A DNS Resource record which can be used to encrypt NAPTR records is
described in this document.
</t>

</abstract>

</front>


<middle>

<section anchor="Terminology" title="Terminology">

<t>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in BCP
14, <xref target="refs.RFC2119">RFC2119</xref>.
</t> 
</section>

<section anchor="intro" title="Introduction">

<t>
The DNS protocol is defined in
RFC1034<xref target="refs.RFC1034"></xref>,
RFC1035<xref target="refs.RFC1035"></xref> and clarified in
RFC2181<xref target="refs.RFC2181"></xref>.
The scope for using DNS KEY Resource Records was limited in
RFC3445<xref target="refs.RFC3445"></xref> to keys used by
the Domain Name System Security Extensions (DNSSEC) which is defined
in RFC4033<xref target="refs.RFC4033"></xref>,
RFC4034<xref target="refs.RFC4034"></xref> And 
RFC4035<xref target="refs.RFC4035"></xref>.
The original KEY RR used sub-typing to store both DNSSEC
keys and arbitrary application keys.
Storing both DNSSEC and application keys with the same record type is
a mistake so RFC3445 removed application keys from the KEY record by
redefining the Protocol Octet field in the KEY RR Data.
This means that any other uses of keying material in the DNS need to
define a new RRtype and mnemonic.
</t>

<t>
This document advocates the introduction of a new
resource record specifically to provide this type of information for
keys that encrypt NAPTR records <xref target="refs.RFC3403"></xref>.
A scheme for encrypting NAPTR records is outlined in draft-timms-encrypt-naptr
<xref target='I-D.timms-enum-encrypt'></xref>.
</t>

</section>

<section anchor="NKEYResourceRecord" title="Definition of NKEY Resource Record">

<t>
The NKEY RR uses an IANA-assigned type code and is used as resource
record for storing keys which encrypt NAPTR records.
The RDATA for a NKEY RR consists of flags, a protocol
octet, the algorithm number octet, and the public key itself. 
The format is as follows:
</t>

<figure>
<preamble>
NKEY RDATA format
</preamble>
<artwork>

                1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              flags            |   protocol    |   algorithm   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               /
/                        public key                             /
/                                                               /
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</artwork>

<postamble>
</postamble>
</figure>

<t>
All bits of the flags field are reserved and MUST be zero.
The protocol field MUST be set to 1.
The algorithm and public key fields are identical to the definitions
used in RFC4034 <xref target="refs.RFC4034"></xref>.
</t>

</section>

<section anchor="Sec-Cons" title="Security Considerations">

<t>
The format and correct usage of DNSSEC keys is not changed by this
document and no new security considerations are introduced.
</t>
</section>

<section anchor="IANACons" title="IANA Considerations">

<t>
IANA is requested to issue a new type code and mnemonic for the
proposed resource record.
No other IANA services are required by this document.
</t>

</section>

<section anchor="Acknowledgements" title="Acknowledgements">

<t>
The authors would like to thank Klaus Malorny, Lawrence Conroy and Roy
Arends for their constructive suggestions to this
document and for helping to identify potential uses for the proposed
record type.
</t>

</section>

</middle>

<back>

<references title='Normative References'>

<reference anchor="refs.RFC1034">
<front>
<title> DOMAIN NAMES - CONCEPTS AND FACILITIES </title>
<author initials="P." surname="Mockapetris" fullname="">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date year="1987" month="November"/>
</front>
<seriesInfo name="RFC" value="1034" />
<format type='TXT' target='http://www.ietf.org/rfc/rfc1034.txt' />
</reference>

<reference anchor='refs.RFC1035'>
<front>
<title abbrev='Domain Implementation and Specification'>Domain names - implementation and specification</title>
<author initials='P.' surname='Mockapetris' fullname='P. Mockapetris'>
<organization>USC/ISI</organization>
<address>
<postal>
<street>4676 Admiralty Way</street>
<city>Marina del Rey</city>
<region>CA</region>
<code>90291</code>
<country>US</country></postal>
<phone>+1 213 822 1511</phone></address></author>
<date year='1987' day='1' month='November' />
</front>
<seriesInfo name='STD' value='13' />
<seriesInfo name='RFC' value='1035' />
<format type='TXT' target='http://www.ietf.org/rfc/rfc1035.txt' />
</reference>

<reference anchor='refs.RFC1123'>
<front>
<title abbrev='Internet Host Requirements'>Requirements for Internet Hosts -- Application and Support</title>
<author initials='R.' surname='Braden' fullname='Robert Braden'>
<organization />
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date year='1989' month='October' />
</front>
<seriesInfo name='RFC' value='1123' />
<format type='TXT' target='http://www.ietf.org/rfc/rfc1123.txt' />
</reference>

<reference anchor='refs.RFC2181'>
<front>
<title abbrev='DNS Clarifications'>Clarifications to the DNS Specification</title>
<author initials='R.' surname='Elz' fullname='Robert Elz'>
<organization />
<address><postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials='R.' surname='Bush' fullname='Randy Bush'>
<organization />
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date year='1997' month='July' />
</front>
<seriesInfo name='RFC' value='2181' />
<format type='TXT' target='http://www.ietf.org/rfc/rfc2181.txt' />
</reference>

<reference anchor="refs.RFC4033">
<front>
<title>DNS Security Introduction and Requirements</title>
<author initials="R." surname="Arends" fullname="Roy Arends">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="R." surname="Austein" fullname="Rob Austein">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="M." surname="Larson" fullname="Matt Larson">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="D." surname="Massey" fullname="Dan Massey">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="S." surname="Rose" fullname="Scott Rose">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date month="March" year="2005" />
</front>
<seriesInfo name="RFC" value="4033" />
</reference>

<reference anchor="refs.RFC4034">
<front>
<title>Resource Records for the DNS Security Extensions</title>
<author initials="R." surname="Arends" fullname="Roy Arends">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="R." surname="Austein" fullname="Rob Austein">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="M." surname="Larson" fullname="Matt Larson">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="D." surname="Massey" fullname="Dan Massey">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="S." surname="Rose" fullname="Scott Rose">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date month="March" year="2005" />
</front>
<seriesInfo name="RFC" value="4034" />
</reference>

<reference anchor="refs.RFC4035">
<front>
<title>Protocol Modifications for the DNS Security Extensions</title>
<author initials="R." surname="Arends" fullname="Roy Arends">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="R." surname="Austein" fullname="Rob Austein">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="M." surname="Larson" fullname="Matt Larson">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="D." surname="Massey" fullname="Dan Massey">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="S." surname="Rose" fullname="Scott Rose">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date month="March" year="2005" />
</front>
<seriesInfo name="RFC" value="4035" />
</reference>

<reference anchor="refs.RFC3403">
<front>
<title>Dynamic Delegation Discovery System (DDDS)
Part Three: The Domain Name System (DNS) Database</title>
<author initials="M." surname="Mealling" fullname="Micheal Mealling">
<organization />
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author><date month="October" year="2002" />
</front>
<seriesInfo name="RFC" value="3403" />
</reference>

<reference anchor="refs.RFC3445">
<front>
<title>Limiting the Scope of the KEY Resource Record (RR)</title>
<author initials='D.' surname='Massey' fullname='D. Massey'>
<organization /></author>
<author initials='S.' surname='Rose' fullname='S. Rose'>
<organization /></author>
<date year='2002' month='December' />
</front>
<seriesInfo name='RFC' value='3445' />
</reference>

<reference anchor='I-D.timms-enum-encrypt'>
<front>
<title>IANA Registration for Encrypted ENUM</title>
<author initials='B' surname='Timms' fullname='Ben Timms'>
<organization />
</author>
<author initials='J' surname='Reid' fullname='Jim Reid'>
<organization />
</author>
<author initials='J' surname='Schlyter' fullname='Jakob Schlyter'>
<organization />
</author>
<date month='November' day='12' year='2007' />
</front>
<seriesInfo name='Internet-Draft' value='draft-timms-enum-encrypt-00' />
<format type='TXT'
 target='http://www.ietf.org/internet-drafts/draft-timms-enum-encrypt-00.txt'/>
</reference>

<reference anchor="refs.RFC3986">
<front>
<title abbrev='URI Generic Syntax'>Uniform Resource Identifier (URI): Generic Syntax</title>
<author initials='T.' surname='Berners-Lee' fullname='Tim Berners-Lee'>
<organization abbrev='W3C/MIT'>World Wide Web Consortium</organization>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials='R.' surname='Fielding' fullname='Roy T. Fielding'>
<organization abbrev='Day Software'>Day Software</organization>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials='L.' surname='Masinter' fullname='Larry Masinter'>
<organization abbrev='Adobe Systems'>Adobe Systems Incorporated</organization>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date year='2005' month='January' />
</front>
<seriesInfo name='STD' value='66' />
<seriesInfo name='RFC' value='3986' />
</reference>

</references>

<references title='Informative References'>

<reference anchor="refs.RFC3761">
<front>
<title>The E.164 to Uniform Resource Identifiers (URI) Dynamic Delegation 
Discovery System (DDDS) Application (ENUM)</title>
<author initials="P." surname="Faltstrom" fullname="Patrick Faltsrom">
<organization />
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="M." surname="Mealling" fullname="Micheal Mealling">
<organization />
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date month="April" year="2004" />
</front>
<seriesInfo name="RFC" value="3761" />
</reference>

<reference anchor="refs.RFC3833">
<front>
<title> Threat Analysis of the Domain Name System (DNS)</title>
<author initials="D." surname="Atkins" fullname="Derek Atkins">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<author initials="R." surname="Austein" fullname="Rob Austein">
<organization/>
<address>
<postal><street /><city /><region /><code /><country /></postal>
<phone /><facsimile /><email /><uri />
</address>
</author>
<date month="August" year="2004" />
</front>
<seriesInfo name="RFC" value="3833" />
</reference>

<reference anchor="refs.RFC2026">
<front>
<title>The Internet Standards Process -- Revision 3</title>
<author initials="S.O." surname="Bradner" fullname="Scott O. Bradner">
<organization>Harvard University</organization>
<address>
<postal>
<street>Holyoke Center, Room 813</street>
<street>1350 Massachusettes Avenue</street>
<city>Cambridge</city> <region>MA</region> <code>02138</code>
<country>US</country>
</postal>
<phone>+1 617 495 3864</phone>
<email>sob@harvard.edu</email>
</address>
</author>
<date month="October" year="1996" />
</front>
<seriesInfo name="RFC" value="2026" />
<seriesInfo name="BCP" value="9" />
</reference>

<reference anchor="refs.RFC2119">
<front>
<title> Key words for use in RFCs to Indicate Requirement Levels </title>
<author initials="S.O." surname="Bradner" fullname="Scott O. Bradner">
<organization>Harvard University</organization>
<address>
<postal>
<street>Holyoke Center, Room 813</street>
<street>1350 Massachusettes Avenue</street>
<city>Cambridge</city> <region>MA</region> <code>02138</code>
<country>US</country>
</postal>
<phone>+1 617 495 3864</phone>
<email>sob@harvard.edu</email>
</address>
</author>
<date month="March" year="1997" />
</front>
<seriesInfo name="RFC" value="2119" />
<seriesInfo name="BCP" value="14" />
</reference>

<reference anchor='refs.RFC3978'>
<front>
<title>IETF Rights in Contributions</title>
<author initials='S.O.' surname='Bradner' fullname='Scott O. Bradner'>
<organization /></author>
<date year='2005' month='March' /></front>
<seriesInfo name='BCP' value='78' />
<seriesInfo name='RFC' value='3978' />
</reference>

<reference anchor='refs.RFC3979'>
<front>
<title>Intellectual Property Rights in IETF Technology</title>
<author initials='S.O.' surname='Bradner' fullname='Scott O. Bradner'>
<organization /></author>
<date year='2005' month='March' /></front>
<seriesInfo name='BCP' value='79' />
<seriesInfo name='RFC' value='3979' />
</reference>

</references>
</back>
</rfc>
