


Network Working Group                                        G. Tsirtsis
Internet-Draft                                               G. Giarreta
Intended status: Standards Track                                Qualcomm
Expires: January 30, 2010                                     H. Soliman
                                                    Elevate Technologies
                                                            N. Montavont
                                                                   IT/TB
                                                           July 29, 2009


                    Binary Traffic Selectors for FB
                    draft-ietf-mext-binary-ts-00.txt

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 30, 2010.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.





Tsirtsis, et al.        Expires January 30, 2010                [Page 1]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


Abstract

   This document defines binary format for IPv4 and IPv6 traffic
   selectors to be used in conjuction with flow bindings for Mobile
   IPv6.


Table of Contents

   1.  Requirements notation  . . . . . . . . . . . . . . . . . . . .  3
   2.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  Traffic Selector Sub-Options . . . . . . . . . . . . . . . . .  5
     3.1.  IPv4 binary traffic selector . . . . . . . . . . . . . . .  5
     3.2.  IPv6 binary traffic selector . . . . . . . . . . . . . . .  7
   4.  Flow Identification Status codes . . . . . . . . . . . . . . . 11
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . . 12
   6.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 13
   7.  Aknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 14
   8.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     8.1.  Normative References . . . . . . . . . . . . . . . . . . . 15
     8.2.  Informative References . . . . . . . . . . . . . . . . . . 15
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 16





























Tsirtsis, et al.        Expires January 30, 2010                [Page 2]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


1.  Requirements notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].














































Tsirtsis, et al.        Expires January 30, 2010                [Page 3]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


2.  Introduction

   This document defines binary formats for IPv4 and IPv6 Traffic
   Selector sub-options as defined in [I-D.ietf-mext-flow-binding].

   The binary traffic selector sub-options defined here, allow efficient
   identification of flow(s) based on well known fields in IPv4, IPv6,
   and transport layer headers.











































Tsirtsis, et al.        Expires January 30, 2010                [Page 4]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


3.  Traffic Selector Sub-Options

   [I-D.ietf-mext-flow-binding] defines the format for the traffic
   selector sub-option.

   The following values of the sub-option Type field, are reserved in
   this specification for binary traffic selectors

      TBD IPv4 binary traffic selector

      TBD IPv6 binary traffic selector

3.1.  IPv4 binary traffic selector

   If the Type field of the traffic selector sub-option indicates "IPv4
   binary traffic selector", then the traffic selector is formatted as
   follows:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |A|B|C|D|E|F|G|H|I|K|L|  Resvd  |     (A)DS     | (B)Protocol   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                    (C)Source Address                          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                 (D)Destination Address                        |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |(E)S. PrefLeng |(F)D. PrefLeng |   (G)Source port - Low        |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   (H)Source port - High       |      (I)Dst port - Low        |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   (K)Dst port - High          |          (L)SPI               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |          (L)SPI               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                  Figure 1: IPv4 binary traffic selector

   Flags (A-L)

      Each flag indicates whether the corresponding field is present in
      the message

   (A)DS - Differential Services

      The Differential Services (DS) field in the data packet as seen by
      the home agent.  Note that this is called Type of Service field in
      [RFC0791].  [RFC3260] then clarified that the field has been



Tsirtsis, et al.        Expires January 30, 2010                [Page 5]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


      redefined as 6 bits DS field and 2 bits reserved, later claimed by
      Explicit Congestion Notification (ECN) [RFC3168].  For the purpose
      of this specification the DS field is 8bit long, were the 6 most
      significant bits indicating the DS field to be matched and the 2
      list significant bits MUST be set to 0 by the sender and ignored
      by the receiver.

   (B)Protocol

      An 8-bit unsigned integer representing the value of the transport
      protocol number associated with the port numbers in data packets.

   (C)Source Address

      This field identifies the source address of data packets as seen
      by the home agent that is, the 32-bit IPv4 address of the
      correspondent node.

   (D)Destination Address

      This field identifies the destination address of data packets as
      seen by the home agent.  When included this field must one of the
      registered home addresses of the mobile node.  It is a 32-bit IPv4
      address.

   (E)Source Prefix Length

      This field includes the prefix length for the source address.
      This field can only be included if the Source Address field is
      included.  When this field is included the receiver will match all
      of the addresses in the subnet identified by this field.

   (F)Destination Prefix Length

      This field includes the prefix length for the destination address.
      If The Destination Address field is included then it refers to
      that field.  When this field is included the receiver will match
      all of the addresses in the subnet identified by this field.

   (G)Source Port - Low

      This field identifies the lowest source port number within a range
      of port numbers that will be used in data packets, as seen by the
      home agent.

   (H)Source Port - High





Tsirtsis, et al.        Expires January 30, 2010                [Page 6]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


      This field identifies the highest source port number within a
      range of port numbers that will be used in data packets, as seen
      by the home agent.  This field MUST NOT be included if the Source
      Port - Low field is not includede.  If a single port is indicated
      then this field MUST NOT be included.  When it is included it MUST
      be set to the value larger than that of Source Port - Low field.

   (I)Destination Port - Low

      This field identifies the lowest destination port number within a
      range of port numbers that will be used in data packets as seen by
      the home agent.

   (K)Destination Port - High

      This field identifies the highest destination port number within a
      range of port numbers that will be used in data packets, as seen
      by the home agent.  This field MUST NOT be included if the
      Destination Port - Low field is not includede.  If a single port
      is indicated then this field MUST NOT be included.  When it is
      included it MUST be set to the value larger than that of
      Destination Port - Low field.

   (L)SPI - Security Parameter Index

      The SPI field in the data packet as seen by the home agent.

   Resved

      Reserved for future use.  These bits MUST be set to zero by the
      sender and ignored by the receiver.

3.2.  IPv6 binary traffic selector

   If the Type field of the traffic selector sub-option indicates "IPv6
   binary traffic selector", then the traffic selector is formatted as
   follows:














Tsirtsis, et al.        Expires January 30, 2010                [Page 7]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |A|B|C|D|E|F|G|H|I|K|L|M| Resvd |     (A)DS     | (B)Protocol   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     +                                                               +
     |                                                               |
     +                    (C)Source Address                          +
     |                                                               |
     +                                                               +
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     +                                                               +
     |                                                               |
     +                 (D)Destination Address                        +
     |                                                               |
     +                                                               +
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |(E)S. PrefLeng |(F)D. PrefLeng |   (G)Source port - Low        |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   (H)Source port - High       |      (I)Dst port - Low        |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   (K)Dst port - High          |          (L)SPI               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |          (L)SPI               |     (M)Flow Label             |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     | (M)Flow Label |
     +-+-+-+-+-+-+-+-+

                  Figure 2: IPv6 binary traffic selector

   Flags (A-M)

      Each flag indicates whether the corresponding field is present in
      the message

   (A) DS - Differential Services

      The Differential Services (DS) field in the data packet as seen by
      the home agent.  Note that this is called Traffic Class field in
      [RFC2460].  [RFC3260] then clarified that the field has been
      redefined as 6 bits DS field and 2 bits reserved, later claimed by
      Explicit Congestion Notification (ECN) in [RFC3168].  For the
      purpose of this specification the DS field is 8bit long, were the
      6 most significant bits indicating the DS field to be matched and



Tsirtsis, et al.        Expires January 30, 2010                [Page 8]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


      the 2 list significant bits MUST be set to 0 by the sender and
      ignored by the receiver.

   (B)Protocol

      An 8-bit unsigned integer representing value of the transport
      protocol number associated with the port numbers in data packets.

   (C)Source Address

      This field identifies the source address of data packets as seen
      by the home agent.  That is, the address of the correspondent node
      and it is a 128-bit IPv6 address.

   (D)Destination Address

      This field identifies the destination address of the data packet
      as seen by the home agent.  When included this field must be set
      to either one of the registered home addresses of the mobile node
      or to an address that falls under one of the mobile's home network
      prefixes.  The value of this fild is 128-bit IPv6 address.

   (E)Source Prefix Length

      This field includes the prefix for the source address.  This field
      MUST NOT be included if the Source Address field is not included.
      When this field is included the receiver will match all of the
      addresses in the subnet identified by this field.

   (F)Destination Prefix Length

      This field includes the prefix for the destination address.  This
      field MUST NOT be included if the Source Address field is not
      included.  When this field is included the receiver will match all
      of the addresses in the subnet identified by this field.

   (G)Source Port - Low

      This field identifies the lowest source port number within a range
      of port numbers that will be used in data packets, as seen by the
      home agent.

   (H)Source Port - High

      This field identifies the highest source port number within a
      range of port numbers that will be used in data packets, as seen
      by the home agent.  This field MUST NOT be included if the Source
      Port - Low field is not includede.  If a single port is indicated



Tsirtsis, et al.        Expires January 30, 2010                [Page 9]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


      then this field MUST NOT be included.  When it is included it MUST
      be set to the value larger than that of Source Port - Low field.

   (I)Destination Port - Low

      This field identifies the lowest destination port number within a
      range of port numbers that will be used in data packets as seen by
      the home agent.

   (K)Destination Port - High

      This field identifies the highest destination port number within a
      range of port numbers that will be used in data packets, as seen
      by the home agent.  This field MUST NOT be included if the
      Destination Port - Low field is not includede.  If a single port
      is indicated then this field MUST NOT be included.  When it is
      included it MUST be set to the value larger than that of
      Destination Port - Low field.

   (L)SPI - Security Parameter Index

      The SPI field in the data packet as seen by the home agent.

   (M)Flow Label

      The Flow Label field in the data packet as seen by the home agent.

   Resved

      Reserved for future use.





















Tsirtsis, et al.        Expires January 30, 2010               [Page 10]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


4.  Flow Identification Status codes

   TBD
















































Tsirtsis, et al.        Expires January 30, 2010               [Page 11]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


5.  Security Considerations

   This draft defines the format of traffic selector sub-options defined
   in the flow bindings [I-D.ietf-mext-flow-binding].  The authors have
   not identified any security concenrs pertaining to this draft beyond
   what is already identified in [I-D.ietf-mext-flow-binding].













































Tsirtsis, et al.        Expires January 30, 2010               [Page 12]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


6.  IANA Considerations

   TBD
















































Tsirtsis, et al.        Expires January 30, 2010               [Page 13]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


7.  Aknowledgements

   TBD
















































Tsirtsis, et al.        Expires January 30, 2010               [Page 14]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


8.  References

8.1.  Normative References

   [I-D.ietf-mext-flow-binding]
              Soliman, H., Montavont, N., and K. Kuladinithi, "Flow
              Bindings in Mobile IPv6 and NEMO Basic Support",
              draft-ietf-mext-flow-binding-03 (work in progress),
              July 2009.

   [RFC0791]  Postel, J., "Internet Protocol", STD 5, RFC 791,
              September 1981.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2460]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", RFC 2460, December 1998.

   [RFC3168]  Ramakrishnan, K., Floyd, S., and D. Black, "The Addition
              of Explicit Congestion Notification (ECN) to IP",
              RFC 3168, September 2001.

8.2.  Informative References

   [RFC3260]  Grossman, D., "New Terminology and Clarifications for
              Diffserv", RFC 3260, April 2002.
























Tsirtsis, et al.        Expires January 30, 2010               [Page 15]

Internet-Draft       Binary Traffic Selectors for FB           July 2009


Authors' Addresses

   George Tsirtsis
   Qualcomm

   Email: tsirtsis@gmail.com


   Gerardo Giarreta
   Qualcomm

   Email: gerardog@qualcomm.com


   Hesham Soliman
   Elevate Technologies

   Email: hesham@elevatemobile.com


   Nicolas Montavont
   Institut Telecom / Telecom Bretagne
   2, rue de la chataigneraie
   Cesson Sevigne  35576
   France

   Phone: (+33) 2 99 12 70 23
   Email: nicolas.montavont@telecom-bretagne.eu
   URI:   http://www.rennes.enst-bretagne.fr/~nmontavo//






















Tsirtsis, et al.        Expires January 30, 2010               [Page 16]


