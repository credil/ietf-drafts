<?xml version="1.0" encoding="US-ASCII"?>
<!-- This template is for creating an Internet Draft using xml2rfc,
     which is available here: http://xml.resource.org. -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!-- One method to get references from the online citation libraries.
     There has to be one entity for each item to be referenced. 
     An alternate method (rfc include) is described in the references. -->

<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC2629 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2629.xml">
<!ENTITY RFC3552 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3552.xml">
<!ENTITY I-D.narten-iana-considerations-rfc2434bis SYSTEM "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.narten-iana-considerations-rfc2434bis.xml">
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<!-- used by XSLT processors -->
<!-- For a complete list and description of processing instructions (PIs), 
     please see http://xml.resource.org/authoring/README.html. -->
<!-- Below are generally applicable Processing Instructions (PIs) that most I-Ds might want to use.
     (Here they are set differently than their defaults in xml2rfc v1.32) -->
<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="4"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="yes"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="yes" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space 
     (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="yes" ?>
<!-- do not start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->
<rfc category="std" docName="draft-garcia-simple-poke-01" ipr="trust200811">
  <!-- category values: std, bcp, info, exp, and historic
     ipr values: full3667, noModification3667, noDerivatives3667
     you can add the attributes updates="NNNN" and obsoletes="NNNN" 
     they will automatically be output with "(if approved)" -->

  <!-- ***** FRONT MATTER ***** -->

  <front>
    <!-- The abbreviated title is used in the page header - it is only necessary if the 
         full title is longer than 39 characters -->

    <title abbrev="POKE">Attention Request (POKE) for Instant Messaging</title>

    <!-- add 'role="editor"' below for the editors if appropriate -->

    <!-- Another author who claims to be an editor -->

    <author fullname="Gustavo Garcia" initials="G. G."
            surname="Garcia">
      <organization>Telefonica I+D</organization>
      <address>
        <postal>
          <street>Emilio Vargas</street>
          <city>Madrid</city>
          <region>Madrid</region>
          <code></code>
          <country>Spain</country>
        </postal>

        <phone>+34 913129826</phone>
        <email>ggb@tid.es</email>
      </address>
    </author>
    <author fullname="Jose-Luis Martin" initials="J. M."
            surname="Martin">
      <organization>Telefonica I+D</organization>
      <address>
        <postal>
          <street>Parque Tecnologico de Boecillo</street>
          <city>Boecillo</city>
          <region>Valladolid</region>
          <code></code>
          <country>Spain</country>
        </postal>

        <phone>+34 983367902</phone>
        <email>jlmp@tid.es</email>
      </address>
    </author>

    <date />

    <!-- If the month and year are both specified and are the current ones, xml2rfc will fill 
         in the current day for you. If only the current year is specified, xml2rfc will fill 
   in the current day and month for you. If the year is not the current one, it is 
   necessary to specify at least a month (xml2rfc assumes day="1" if not specified for the 
   purpose of calculating the expiry date).  With drafts it is normally sufficient to 
   specify just the year. -->

    <!-- Meta-data Declarations -->

    <area>Real-Time Applications &amp; Infrastructure</area>

    <workgroup>SIMPLE</workgroup>

    <!-- WG name at the upperleft corner of the doc,
         IETF is fine for individual submissions.  
   If this element is not present, the default is "Network Working Group",
         which is used by the RFC Editor as a nod to the history of the IETF. -->

    <keyword>POKE Attention</keyword>

    <!-- Keywords will be incorporated into HTML output
         files in a meta tag but they have no effect on text or nroff
         output. If you submit your draft to the RFC Editor, the
         keywords will be used for the search engine. -->

    <abstract>
      <t>This document specifies a message content type and XML format to request attention from a targeted user. This feature is usually known as poke, nudge or buzz in existing messaging platforms.  Its primary use is as an additional instant messaging capability that can be sent in the middle of a instant messaging session or in a standalone message at any time.</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>Some existing messaging platforms include the capability to send a message to a user requesting his attention (e.g. XMPP <xref target="XEP-0224" />).  This feature is usually known as poke, nudge or buzz, and in desktop applications the notification is usually implemented using a combination of sound and the vibration of chat windows.</t>
      <t>This document describes the XML message format to encode this attention request.</t>
      <t>This message can be used inside an instant messaging session (for example a MSRP session) or as a standalone message (for example in a SIP MESSAGE).  In session mode, the poke message is sent as part of the messaging stream and its usage is negotiated just like any other media type in that stream, with details depending on the session mode protocol.</t>
      <t>The receiver of this message can present it to the user in different ways depending on the device capabilities and the user preferences.  The message format does not include support to specify sender preferences for the realization of the attention request.</t>

    <section title="Requirements Language">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <xref
        target="RFC2119" />.</t>
    </section>  

  </section>

  <section title="Message Content" anchor="message">
       <t>The only XML element of the message is the poke element.   This is the root element of the message and doesn't define any additional attribute.  The schema (<xref target="schema"/>) should be consulted for the normative message format.</t>
       <t> In order to include additional functionality, the XML schema can be extended in future documents.  Additional elements MUST use their own namespaces and MUST be designed such that receivers can safely ignore such extensions.  Adding elements to the namespace defined in this document is not permitted.</t>

<t> This is the example of a poke message:</t>
    <figure>
        <artwork><![CDATA[
    <?xml version="1.0" encoding="UTF-8"?>
    <poke xmlns="urn:ietf:params:xml:ns:im-poke"/>
    ]]></artwork>
        </figure>
  </section>

    <section anchor="schema" title="XML Document Format">
      <t>
      <figure>
        <artwork><![CDATA[
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
  targetNamespace="urn:ietf:params:xml:ns:im-poke"
  xmlns:tns="urn:ietf:params:xml:ns:im-poke"
  elementFormDefault="qualified"
  attributeFormDefault="unqualified">
  <xs:element name="poke">
    <xs:complexType>
      <xs:sequence>
        <xs:any namespace="##other" processContents="lax"
          minOccurs="0" maxOccurs="unbounded"/>
      </xs:sequence>
    </xs:complexType>  
  </xs:element>
</xs:schema>
        ]]></artwork>
        </figure>
      </t>
    </section>

    <section anchor="Security" title="Security Considerations">
      <t>The poke message is a specialized type of instant messaging, all the security considerations for the instant messages also applies to the poke messages.</t>
      <t>Pokes rate MUST be controlled and limited in the receiving side to minify the effect of malicious nodes sending these messages too often (the limit is an implementor decission).</t>
    </section>

    <section anchor="IANA" title="IANA Considerations">
      <section anchor="Content-TypeRegistration" title="Content-Type Registration for 'application/im-poke+xml'">
        <t><figure>
        <artwork><![CDATA[
   To: ietf-types@iana.org
   Subject: Registration of MIME media type application/
      im-poke+xml
   MIME media type name: application
   MIME subtype name: im-poke+xml
   Required parameters: (none)
   Optional parameters: charset; Indicates the character encoding of
      enclosed XML.  Default is UTF-8.
   Encoding considerations: Uses XML, which can employ 8-bit characters,
      depending on the character encoding used.  See [RFC3023],
      section 3.2.
   Security considerations: This content type is designed to carry
      information about current user activity, which may be considered
      private information.  Appropriate precautions should be adopted to
      limit disclosure of this information.
   Interoperability considerations: This content type provides a common
      format for sending attention requests.
   Published specification: RFC XXXX
   Applications which use this media type: Instant messaging systems.
   Additional information: none
   Person & email address to contact for further information: Gustavo 
      Garcia, ggb@tid.es
   Intended usage: LIMITED USE
   Author/Change controller: This specification is a work item of the
      IETF SIMPLE working group, with the mailing list address
      simple@ietf.org.
   Other information: This media type is a specialization of
      application/xml [RFC3023], and many of the considerations
      described there also apply to application/im-poke+xml.
    ]]></artwork>
        </figure>
        </t>
      </section>
      <section anchor="URNRegistration" title="URN Sub-Namespace Registration for  'urn:ietf:params:xml:ns:im-poke'">
        <t><figure>
        <artwork><![CDATA[
   URI: urn:ietf:params:xml:ns:im-poke
   Description: This is the XML namespace for XML elements defined by
      [RFC XXXX] to describe attention request by an instant messaging
      client using the application/im-poke+xml content type.
   Registrant Contact: IETF, SIMPLE working group, simple@ietf.org,
      Gustavo Garcia, ggb@tid.es
   XML:

    BEGIN
      <?xml version="1.0"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
      "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd">
      <html xmlns="http://www.w3.org/1999/xhtml">
      <head>
           <meta http-equiv="content-type"
           content="text/html;charset=iso-8859-1"/>
           <title>Attention Request (POKE) for Instant Messaging</title>
      </head>
      <body>
          <h1>Namespace for SIMPLE poke extension</h1>
          <h2>urn:ietf:params:xml:ns:im-poke</h2>
          <p>See <a href="[URL of published RFC]">[RFCXXXX]</a>.</p>
       </body>
       </html>
    END
    ]]></artwork>
        </figure>
        </t>
      </section>
      <section anchor="SchemaRegistration" title="Schema registration">
        <t>This section registers a new XML schema per the procedures in <xref target="RFC3688"/>.</t>
        <t><figure>
        <artwork><![CDATA[
   URI: urn:ietf:params:xml:schema:im-poke
   Registrant Contact: IETF, SIMPLE working group, (simple@ietf.org),
      Gustavo Garcia (ggb@tid.es).
    ]]></artwork>
        </figure>
        </t>
        <t>The XML for this schema can be found as the sole content of <xref target="schema"/>.</t>
      </section>
    </section>

  <section anchor="Acknowledgements" title="Acknowledgements">
  <t>We would like to acknowledge the valuable ideas and support given by Guido Garcia and the useful comments received from Jose Luis Urien.</t>
  </section>
  </middle>

  <back>
    <references title="Normative References">
      <?rfc include="reference.RFC.2119.xml"?>
      <?rfc include="reference.RFC.3023.xml"?>
      <?rfc include="reference.RFC.3688.xml"?>
    </references>
    <references title="Informative References">
    <reference anchor="XEP-0224">
        <front>
          <title>XEP-0224: Attention</title>
          <author initials="A." surname="Monitzer">
            <organization></organization>
          </author>
          <date month="august" year="2008" />
        </front>
      </reference>
    </references>
  </back>
</rfc>

