<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="3"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="no"?>
<?rfc sortrefs="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>
<rfc category="std" docName="draft-ietf-mpls-tp-oam-requirements-02"
     ipr="trust200902">
  <front>
    <title abbrev="OAM Requirements for MPLS-TP">Requirements for OAM in MPLS
    Transport Networks</title>

    <author fullname="Martin Vigoureux" initials="M." role="editor"
            surname="Vigoureux">
      <organization>Alcatel-Lucent</organization>

      <address>
        <postal>
          <street>Route de Villejust</street>

          <city>Nozay</city>

          <region></region>

          <code>91620</code>

          <country>France</country>
        </postal>

        <email>martin.vigoureux@alcatel-lucent.com</email>
      </address>
    </author>

    <author fullname="David Ward" initials="D." role="editor" surname="Ward">
      <organization>Cisco Systems, Inc.</organization>

      <address>
        <postal>
          <street>170 W. Tasman Dr.</street>

          <city>San Jose</city>

          <region>CA</region>

          <code>95134</code>

          <country>USA</country>
        </postal>

        <email>dward@cisco.com</email>
      </address>
    </author>

    <author fullname="Malcolm Betts" initials="M." role="editor"
            surname="Betts">
      <organization>Huawei</organization>

      <address>
        <postal>
          <street></street>

          <city></city>

          <region></region>

          <code></code>

          <country></country>
        </postal>

        <email>malcolm.betts@huawei.com</email>
      </address>
    </author>

    <date day="28" month="June" year="2009" />

    <area>Routing</area>

    <workgroup>MPLS Working Group</workgroup>

    <keyword>MPLS-TP</keyword>

    <keyword>OAM</keyword>

    <abstract>
      <t>This document lists the requirements for the Operations,
      Administration and Maintenance functionality of MPLS Transport Profile.
      These requirements apply to pseudowires, Label Switched Paths, and
      Sections. Architectural and functional requirements are covered in this
      document.</t>
    </abstract>

    <?rfc needLines="0"?>
  </front>

  <middle>
    <section title="Introduction">
      <t>In the context of MPLS Transport Profile (MPLS-TP, see <xref
      target="I-D.ietf-mpls-tp-framework"></xref> and <xref
      target="I-D.ietf-mpls-tp-requirements"></xref>), the rationales for
      Operations, Administration and Maintenance (OAM) mechanisms are twofold
      as they can serve:</t>

      <t><list style="symbols">
          <t>as a network-oriented mechanism (used by a transport network
          operator) to monitor his network infrastructure and to implement
          internal mechanisms in order to enhance the general behaviour and
          the level of performance of his network (e.g., protection mechanism
          in case of node or link failure). For example, fault localization is
          typically associated with this use case.</t>

          <t>as a service-oriented mechanism (used by a transport service
          provider) to monitor services offered to end customers in order to
          be able to react rapidly in case of a problem and to be able to
          verify some of the Service Level Agreements (SLAs) parameters (e.g.,
          using performance monitoring) negotiated with the end customers.
          Note that a transport service could be provided over several
          networks or administrative domains that may not all be owned and
          managed by the same transport service provider.</t>
        </list></t>

      <t>More generally, OAM is an important and fundamental functionality in
      transport networks as it contributes to:</t>

      <t><list style="symbols">
          <t>the reduction of operational complexity and costs, by allowing
          for efficient and automatic detection, localisation, handling, and
          diagnosis of defects, and by minimizing service interruptions and
          operational repair times.</t>

          <t>the enhancement of network availability, by ensuring that
          defects, for example resulting in misdirected customer traffic, and
          faults, are detected, diagnosed and dealt with before a customer
          reports the problem.</t>

          <t>meet service and performance objectives, as the OAM functionality
          allows for SLA verification in a multi-maintenance domain
          environment and allows for the determination of service degradation
          due, for example, to packet delay or packet loss.</t>
        </list></t>

      <t>This document lists the requirements for the OAM functionality of
      MPLS-TP. These requirements apply to pseudowires (PWs), Label Switched
      Paths (LSPs), and Sections.</t>

      <t>These requirements are derived from the set of requirements specified
      by ITU-T and published in the ITU-T Supplement Y.Sup4 <xref
      target="Y.Sup4"></xref>.</t>

      <t>By covering transport specificities, these requirements complement
      those identified in RFC 4377 <xref target="RFC4377"></xref>.</t>

      <t>Note that the OAM functionalities identified in this document may be
      used for fault management, performance monitoring and/or protection
      switching applications. For example, connectivity verification can be
      used for fault management application by detecting failure conditions,
      but may also be used for performance monitoring application through its
      contribution to the evaluation of performance metrics (e.g.,
      unavailability time). Nevertheless, it is outside the scope of this
      document to specify which functionality should be used for which
      application.</t>

      <section title="Requirements Language and Terminology">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in RFC 2119 <xref
        target="RFC2119"></xref>.</t>

        <t>In this document we refer to the inability of a function to perform
        a required action, as a fault. This does not include an inability due
        to preventive maintenance, lack of external resources, or planned
        actions. See also ITU-T G.806 <xref target="G.806"></xref>.</t>

        <t>In this document we refer to the situation in which the density of
        anomalies has reached a level where the ability to perform a required
        function has been interrupted, as a defect. See also ITU-T G.806 <xref
        target="G.806"></xref>.</t>

        <t>In this document we refer to a Label Edge Router (LER), for a given
        LSP or Section, and to a PW Terminating Provider Edge (T-PE), for a
        given PW, as an End Point. Further, we refer to a Label Switching
        Router (LSR), for a given LSP, and to a PW Switching Provider Edge
        (S-PE), for a given PW, as an Intermediate Point. This document does
        not make a distinction between End Points (e.g., source and
        destination) as it can be inferred from the context of the
        sentences.</t>

        <t>In this document we use the term "node" as a general reference to
        End Points and Intermediate Points.</t>

        <t>In this document we refer to both segment and concatenated segments
        as segments (see <xref target="I-D.ietf-mpls-tp-requirements"></xref>
        for definitions relating to the term "segment" as well as for other
        definitions relating to MPLS-TP).</t>
      </section>
    </section>

    <section title="OAM Requirements">
      <t>This section lists the requirements by which the OAM functionality of
      MPLS-TP should abide. Note that some requirements for this application
      of MPLS are similar to some of those listed in RFC 4377 <xref
      target="RFC4377"></xref>.</t>

      <t>The requirements listed below may be met by one or more OAM
      protocols; the definition or selection of these protocols is outside the
      scope of this document.</t>

      <section title="Architectural Requirements">
        <section title="Scope of OAM">
          <t>The protocol solutions developed to meet the requirements
          identified in this document MUST be applicable to point-to-point
          bidirectional PWs, point-to-point bidirectional LSPs, and
          point-to-point bidirectional Sections and SHOULD additionaly be
          applicable to unidirectional point-to-point and point-to-multipoint
          LSPs.</t>

          <t>The service emulated by a single segment or a multi-segment PW
          may span multiple domains. An LSP may also span multiple domains. It
          MUST be possible to operate OAM functions on a per domain basis.
          More generally, the protocol solutions MUST be applicable end-to-end
          and to segments.</t>

          <t>Since LSPs may be stacked, the protocol solutions MUST be
          applicable on any LSP, regardless of the label stack depth.
          Furthermore it MUST be possible to estimate OAM fault and
          performance metrics of a single PW or LSP segment or of an aggregate
          of PWs or LSPs segments.</t>
        </section>

        <section title="Independence">
          <t>The protocol solutions SHOULD be independent of the underlying
          tunnelling or point-to-point technology or transmission media.</t>

          <t>The protocol solutions SHOULD be independent of the service a PW
          may emulate.</t>

          <t>Any OAM function operated on a PW, LSP or Section SHOULD be
          independent of the OAM function(s) operated on a different PW, LSP
          or Section. In other words, only the OAM functions operated on e.g.,
          a given LSP should be used to achieve the OAM objectives for that
          LSP. Note that independence should not be understood here in terms
          of isolation as there can be interactions between OAM functions
          operated on e.g., an LSP, and on another LSP or a PW.</t>

          <t>Likewise, any OAM function applied to segment(s) of a PW or LSP
          SHOULD be independent of the OAM function(s) operated on the
          end-to-end PW or LSP. It SHOULD also be possible to distinguish an
          OAM packet running over a segment of a PW or LSP from another OAM
          packet running on the end-to-end PW or LSP. Furthermore, any OAM
          function applied to segment(s) of a PW or LSP SHOULD be independent
          of the OAM function(s) applied to other segment(s) of the same PW or
          LSP. Finally, the protocol solutions MUST support the capability to
          be concurrently and independently operated end-to-end and on
          segments.</t>

          <t>OAM functions MUST operate and be configurable even in the
          absence of a control plane. Conversely, it SHOULD be possible to
          enable/disable the capability to operate OAM functions as part of
          connectivity management and it SHOULD also be possible to
          enable/disable the capability to operate OAM functions after
          connectivity has been established. In the latter case, the customer
          MUST NOT perceive service degradation as a result of OAM
          enabling/disabling. Ideally OAM enabling/disabling should take place
          without introducing any customer impairments (e.g., no customer
          packet losses). Procedures aimed to prevent any traffic impairment
          MUST be defined for the enabling/disabling of OAM functions. Means
          for configuring OAM functions and for connectivity management are
          outside the scope of this document.</t>
        </section>

        <section anchor="ARF" title="Addressing, Routing and Forwarding">
          <t>The OAM functionality may be deployed in a variety of
          environments.<list style="symbols">
              <t>In some environments (e.g., IP/MPLS environments), IP routing
              and forwarding capabilities are inherently present in the
              forwarding plane. In this case, it MUST be possible to operate
              the OAM functions by relying on IP routing and forwarding
              capabilities.</t>

              <t>In some environments (e.g., MPLS-TP environments), IP routing
              and forwarding capabilities may not necessarily be present in
              the user plane. In this case, it MUST be possible to operate the
              OAM functions without relying on IP routing and forwarding
              capabilities.</t>
            </list></t>

          <t>In cases where OAM messages need to incorporate identification
          information (e.g., source and/or destination nodes), the protocol
          solution(s) MUST at least support an IP addressing structure and
          MUST also be extensible to support additional identification
          schemes.</t>
        </section>

        <section title="Interoperability and Interworking">
          <t>It is REQUIRED that OAM interoperability is achieved across the
          environments described in <xref target="ARF"></xref>. It is also
          REQUIRED that the two first requirements of <xref
          target="ARF"></xref> still hold and MUST still be met when
          interoperability is achieved.</t>

          <t>When MPLS-TP is run with IP routing and forwarding capabilities,
          it MUST be possible to operate any of the existing IP/MPLS and PW
          OAM protocols (e.g., LSP-Ping <xref target="RFC4379"></xref>,
          MPLS-BFD <xref target="I-D.ietf-bfd-mpls"></xref>, VCCV <xref
          target="RFC5085"></xref> and VCCV-BFD <xref
          target="I-D.ietf-pwe3-vccv-bfd"></xref>).</t>
        </section>

        <section title="Data Plane">
          <t>OAM functions operate in the data plane. OAM packets MUST run
          in-band; that is, OAM packets for a specific PW, LSP or Section MUST
          follow the exact same data path as user traffic of that PW, LSP or
          Section. This is often referred to as fate sharing.</t>

          <t>It MUST be possible to discriminate user traffic from OAM
          packets. This includes a means to differentiate OAM packets from
          user traffic as well as the capability to apply specific treatment
          to OAM packets, at the nodes targeted by these OAM packets.</t>

          <t>As part of the design of OAM protocol solution(s) for MPLS-TP, a
          mechanism, for enabling the encapsulation and differentiation of OAM
          messages on a PW, LSP or Section, MUST be provided. Such mechanism
          SHOULD also support the encapsulation and differentiation of
          existing IP/MPLS and PW OAM messages.</t>
        </section>
      </section>

      <section title="Functional Requirements">
        <t>Hereafter are listed the required functionalities composing the
        MPLS-TP OAM toolset. The list may not be exhaustive and as such the
        OAM mechanisms developed in support of the identified requirements
        SHALL be extensible and thus SHALL NOT preclude the definition of
        additional OAM functionalities, in the future.</t>

        <t>The design of OAM mechanisms for MPLS-TP, MUST allow for the
        ability to support experimental OAM functions. These functions MUST be
        disabled by default.</t>

        <t>The use of any OAM function MUST be optional and it MUST be
        possible to choose which OAM function(s) to use and on which PW, LSP
        or Section to apply it(them) to.</t>

        <t>It is RECOMMENDED that the protocol solution, meeting one or more
        functional requirement(s), be the same for PWs, LSPs and Sections.</t>

        <t>It is RECOMMENDED that the protocol solution, meeting one or more
        functional requirement(s), effectively provides a fully featured
        function; that is, a function which is applicable to all the cases
        identified for that functionality. In that context, protocol
        solution(s) MUST state their applicability.</t>

        <t>Unless otherwise stated, the OAM functionalities MUST NOT rely on
        user traffic; that is, only OAM messages MUST be used to achieve the
        objectives.</t>

        <section title="General Requirements">
          <t>If a defect or fault occurs on a PW, LSP or Section, mechanisms
          MUST be provided to detect it, diagnose it, localize it, and notify
          the appropriate nodes. Mechanisms SHOULD exist such that corrective
          actions can be taken.</t>

          <t>Furthermore, mechanisms MUST be available for a service provider
          to be informed of a fault or defect affecting the service(s) it
          provides, even if the fault or defect is located outside of his
          domain.</t>

          <t>The protocol solution(s) developed to meet these requirements may
          rely on information exchange. Information exchange between various
          nodes involved in the operation of an OAM function SHOULD be
          reliable such that, for example, defects or faults are properly
          detected or that state changes are effectively known by the
          appropriate nodes.</t>
        </section>

        <section title="Continuity Checks">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable the
          verification of the continuity of a PW, LSP or Section.</t>

          <t>This function SHOULD be performed between End Points of PWs, LSPs
          and Sections.</t>

          <t>This function SHOULD be performed pro-actively.</t>
        </section>

        <section title="Connectivity Verifications">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable the
          verification of the connectivity of a PW, LSP or Section.</t>

          <t>This function SHOULD be performed between End Points and
          Intermediate Points of PWs and LSPs, and between End Points of PWs,
          LSPs and Sections.</t>

          <t>This function SHOULD be performed on-demand. This function SHOULD
          be performed pro-actively only between End Points of PWs, LSPs and
          Sections.</t>
        </section>

        <section title="Diagnostic">
          <t>The MPLS-TP OAM toolset MAY provide functionality to enable the
          conduction of diagnostic tests on a PW, LSP or Section. An example
          of such diagnotic test would consist in looping the traffic at an
          Intermediate Point, back to the End Point it originates from.
          Another example of such diagnotic test would consist in estimating
          the bandwidth of e.g., an LSP.</t>

          <t>This function SHOULD be performed on-demand.</t>

          <t>This function SHOULD be performed between End Points and
          Intermediate Points of PWs and LSPs, and between End Points of PWs,
          LSPs and Sections.</t>
        </section>

        <section title="Route Tracing">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable an
          End Point to discover the Intermediate (if any) and End Point(s)
          along a PW, LSP or Section, and more generaly to trace the route of
          a PW, LSP or Section. The information collected MUST include
          identifiers related to the nodes and interfaces composing that
          route.</t>

          <t>This function SHOULD be performed on-demand.</t>

          <t>This function SHOULD be performed between End Points and
          Intermediate Points of PWs and LSPs, and between End Points of PWs,
          LSPs and Sections.</t>
        </section>

        <section title="Lock Instruct">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable an
          End Point of a PW, LSP or Section to instruct its associated End
          Point(s) to lock the PW, LSP or Section. Note that lock corresponds
          to an administrative status in which forwarding traffic on and from
          the PW, LSP or Section is disabled.</t>

          <t>This function SHOULD be performed on-demand.</t>

          <t>This function SHOULD be performed between End Points of PWs, LSPs
          and Sections.</t>
        </section>

        <section title="Lock Reporting">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable an
          Intermediate Point of a PW or LSP to report, to an End Point of that
          same PW or LSP, an external lock condition affecting that PW or
          LSP.</t>

          <t>This function SHOULD be performed pro-actively.</t>

          <t>This function SHOULD be performed between Intermediate Points and
          End Points of PWs and LSPs.</t>
        </section>

        <section title="Alarm Reporting">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable an
          Intermediate Point of a PW or LSP to report, to an End Point of that
          same PW or LSP, a fault or defect condition affecting that PW or
          LSP.</t>

          <t>This function SHOULD be performed pro-actively.</t>

          <t>This function SHOULD be performed between Intermediate Points and
          End Points of PWs and LSPs.</t>
        </section>

        <section title="Remote Defect Indication">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable an
          End Point to report, to its associated End Point, a fault or defect
          condition that it detects on a PW, LSP or Section for which they are
          the End Points.</t>

          <t>This function SHOULD be performed pro-actively.</t>

          <t>This function SHOULD be performed between End Points of PWs, LSPs
          and Sections.</t>
        </section>

        <section title="Client Failure Indication">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable the
          propagation, across an MPLS-TP network, of information pertaining to
          a client defect of fault condition detected at an End Point of a PW
          or LSP, if the client layer OAM mechanisms do not provide an alarm
          notification/propagation mechanism.</t>

          <t>This function SHOULD be performed pro-actively.</t>

          <t>This function SHOULD be performed between End Points of PWs and
          LSPs.</t>
        </section>

        <section title="Packet Loss">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable the
          quantification of packet loss ratio over a PW, LSP or Section.</t>

          <t>Note that packet loss ratio is the ratio of the user packets not
          delivered to the total number of user packets transmitted during a
          defined time interval. The number of user packets not delivered is
          the difference between the number of user packets transmitted by an
          End Point and the number of user packets received at an End
          Point.</t>

          <t>This function MAY either be performed pro-actively or
          on-demand.</t>

          <t>This function SHOULD be performed between End Points of PWs, LSPs
          and Sections.</t>

          <t>It SHOULD be possible to rely on user-plane traffic to achieve
          that functionality.</t>
        </section>

        <section title="Delay Measurement">
          <t>The MPLS-TP OAM toolset MUST provide functionality to enable the
          quantification of the one-way, and if appropriate, the two-way,
          delay of a PW, LSP or Section.<list style="symbols">
              <t>One-way delay is the time elapsed from the start of
              transmission of the first bit of a packet by an End Point until
              the reception of the last bit of that packet by the other End
              Point.</t>

              <t>Two-way delay is the time elapsed from the start of
              transmission of the first bit of a packet by a End Point until
              the reception of the last bit of that packet by the same End
              Point, when loopback is performed at the other End Point.</t>
            </list></t>

          <t>This function SHOULD be performed on-demand and MAY be perform
          pro-actively.</t>

          <t>This function SHOULD be performed between End Points of PWs, LSPs
          and Sections.</t>

          <t>It SHOULD be possible to rely on user-plane traffic to achieve
          that functionality.</t>
        </section>
      </section>
    </section>

    <section title="Congestion Considerations">
      <t>A mechanism (e.g., rate limiting) MUST be provided to prevent OAM
      packets from causing congestion in the PSN.</t>
    </section>

    <section title="Security Considerations">
      <t>This document, as itself, does not imply any security consideration
      but OAM, as such, is subject to several security considerations. OAM
      messages can reveal sensitive information such as passwords, performance
      data and details about e.g., the network topology.</t>

      <t>The nature of OAM therefore suggests having some form of
      authentication, authorization and encryption in place. This will prevent
      unauthorized access to MPLS-TP equipment and it will prevent third
      parties from learning about sensitive information about the transport
      network.</t>

      <t>In general, mechanisms SHOULD be provided to ensure that OAM
      functions cannot be accessed unauthorized.</t>

      <t>Further, OAM messages MAY be authenticated to prove their origin and
      to make sure that they are destined for the receiving node.</t>

      <t>An OAM packet received over a PW, LSP or Section MUST NOT be
      forwarded beyond the End Point of that PW, LSP or Section, so as to
      avoid that the OAM packet leaves the current administrative domain.</t>
    </section>

    <section title="IANA Considerations">
      <t>There are no IANA actions required by this draft.</t>
    </section>

    <section title="Acknowledgements">
      <t>The editors gratefully acknowledge the contributions of Matthew
      Bocci, Italo Busi, Thomas Dietz, Huub van Helvoort, Wataru Imajuku, Marc
      Lasserre, Lieven Levrau, Han Li, Julien Meuric, Philippe Niger, Benjamin
      Niven-Jenkins, Jing Ruiquan, Nurit Sprecher, Yuji Tochio, Satoshi Ueno
      and Yaacov Weingarten.</t>

      <t>The authors would like to thank all members of the teams (the Joint
      Working Team, the MPLS Interoperability Design Team in IETF and the
      MPLS-TP Ad Hoc Group in ITU-T) involved in the definition and
      specification of MPLS-TP.</t>
    </section>

    <?rfc needLines="8"?>
  </middle>

  <back>
    <references title="Normative References">
      <?rfc include="reference.RFC.2119"?>

      <reference anchor="G.806">
        <front>
          <title>Characteristics of transport equipment - Description
          methodology and generic functionality</title>

          <author>
            <organization>ITU-T Recommendation G.806</organization>
          </author>

          <date year="2009" />
        </front>
      </reference>

      <?rfc include="reference.RFC.4379"?>

      <?rfc include="reference.RFC.5085"?>
    </references>

    <references title="Informative References">
      <?rfc include="reference.I-D.ietf-mpls-tp-framework"?>

      <?rfc include="reference.I-D.ietf-mpls-tp-requirements"?>

      <reference anchor="Y.Sup4">
        <front>
          <title>ITU-T Y.1300-series: Supplement on transport requirements for
          T-MPLS OAM and considerations for the application of IETF MPLS
          technology</title>

          <author>
            <organization>ITU-T Supplement Y.Sup4</organization>
          </author>

          <date year="2008" />
        </front>
      </reference>

      <?rfc include="reference.RFC.4377"?>

      <?rfc include="reference.I-D.ietf-bfd-mpls"?>

      <?rfc include="reference.I-D.ietf-pwe3-vccv-bfd"?>
    </references>
  </back>
</rfc>
