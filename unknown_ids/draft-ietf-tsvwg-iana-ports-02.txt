


Transport Area Working Group                                   M. Cotton
Internet-Draft                                                     ICANN
Updates: 2780, 4340                                            L. Eggert
(if approved)                                                      Nokia
Intended status: BCP                                           A. Mankin
Expires: February 12, 2010                           Johns Hopkins Univ.
                                                                J. Touch
                                                                 USC/ISI
                                                           M. Westerlund
                                                                Ericsson
                                                         August 11, 2009


Internet Assigned Numbers Authority (IANA) Procedures for the Management
    of the Transport Protocol Port Number and Service Name Registry
                     draft-ietf-tsvwg-iana-ports-02

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.  This document may contain material
   from IETF Documents or IETF Contributions published or made publicly
   available before November 10, 2008.  The person(s) controlling the
   copyright in some of this material may not have granted the IETF
   Trust the right to allow modifications of such material outside the
   IETF Standards Process.  Without obtaining an adequate license from
   the person(s) controlling the copyright in such materials, this
   document may not be modified outside the IETF Standards Process, and
   derivative works of it may not be created outside the IETF Standards
   Process, except to format it for publication as an RFC or to
   translate it into languages other than English.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.




Cotton, et al.          Expires February 12, 2010               [Page 1]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   This Internet-Draft will expire on February 12, 2010.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

Abstract

   This document defines the procedures that the Internet Assigned
   Numbers Authority (IANA) uses when handling registration and other
   requests related to the transport protocol port number and service
   name registry.  It also discusses the rationale and principles behind
   these procedures and how they facilitate the long-term sustainability
   of the registry.

   This document updates RFC2780 by obsoleting Sections 8 and 9.1 of
   that RFC, and it updates the IANA allocation procedures for DCCP as
   defined in RFC4340.


























Cotton, et al.          Expires February 12, 2010               [Page 2]

Internet-Draft   Port Number and Service Name Procedures     August 2009


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   2.  Conventions Used in this Document  . . . . . . . . . . . . . .  5
   3.  Motivation . . . . . . . . . . . . . . . . . . . . . . . . . .  5
   4.  Port Number Ranges . . . . . . . . . . . . . . . . . . . . . .  6
     4.1.  Port Numbers and Service Names for Experimentation . . . .  7
   5.  Principles for Port Number and Service Name Registry
       Management . . . . . . . . . . . . . . . . . . . . . . . . . .  8
     5.1.  Basic Principles of Port Number Conservation . . . . . . .  9
     5.2.  Variances for Specific Port Number Ranges  . . . . . . . . 10
     5.3.  New Principles . . . . . . . . . . . . . . . . . . . . . . 11
   6.  IANA Procedures for Managing the Port Number and Service
       Name Registry  . . . . . . . . . . . . . . . . . . . . . . . . 12
     6.1.  Port Number or Service Name Registration . . . . . . . . . 12
     6.2.  Port Number and Service Name De-Registration . . . . . . . 14
     6.3.  Port Number and Service Name Re-Use  . . . . . . . . . . . 14
     6.4.  Port Number and Service Name Revocation  . . . . . . . . . 15
     6.5.  Port Number and Service Name Transfers . . . . . . . . . . 15
     6.6.  Maintenance Issues . . . . . . . . . . . . . . . . . . . . 16
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . 16
   8.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 16
     8.1.  Service Name Consistency . . . . . . . . . . . . . . . . . 17
     8.2.  Port Numbers for SCTP and DCCP Experimentation . . . . . . 18
     8.3.  Updates to DCCP Registries . . . . . . . . . . . . . . . . 19
   9.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . 20
   10. References . . . . . . . . . . . . . . . . . . . . . . . . . . 21
     10.1. Normative References . . . . . . . . . . . . . . . . . . . 21
     10.2. Informative References . . . . . . . . . . . . . . . . . . 21
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 23





















Cotton, et al.          Expires February 12, 2010               [Page 3]

Internet-Draft   Port Number and Service Name Procedures     August 2009


1.  Introduction

   The Transmission Control Protocol (TCP) [RFC0793] and the User
   Datagram Protocol (UDP) [RFC0768] have enjoyed a remarkable success
   over the decades as the two most widely used transport protocols on
   the Internet.  They have introduced the concept of "ports" as logical
   entities for Internet communication.  Ports serve two purposes:
   first, they provide a demultiplexing identifier to differentiate
   transport sessions between the same pair of endpoints, and second,
   they also identify the application protocol and associated service to
   which processes bind.  Newer transport protocols, such as the Stream
   Control Transmission Protocol (SCTP) [RFC4960] and the Datagram
   Congestion Control Protocol (DCCP) [RFC4342] have adopted the concept
   of ports for their communication sessions and use port numbers in the
   same way as TCP and UDP.  UDP-Lite [RFC3828], a variant of UDP, is
   also making use of UDP port numbers.  For the purposes of this
   document, all rules stated for UDP also apply to UDP-Lite, because it
   uses the same assignments as UDP.

   Port numbers are the original and most widely used means for
   application and service identification on the Internet.  Ports are
   16-bit numbers, and the combination of source and destination port
   numbers together with the IP addresses of the communicating end
   systems uniquely identifies a session of a given transport protocol.
   Port numbers are also known by their corresponding service names such
   as "telnet" for port number 23 and both "http" and "www" for port
   number 80.

   Hosts running services, hosts accessing services on other hosts, and
   intermediate devices (such as firewalls and NATs) that restrict
   services need to agree on which service corresponds to a particular
   destination port.  Although this can be a local decision between the
   endpoints of a connection, most Internet components use a single,
   shared view of this association, provided by the Internet Assigned
   Numbers Authority (IANA) through the port number registry [REGISTRY].

   Applications either use numeric port numbers directly, look up port
   numbers based on service names via system calls such as
   getservbyname() on UNIX, or - more recently - use service names to
   look up a service resource records (SRV RRs) [RFC2782] via the Domain
   Name System (DNS) [RFC1034] in a variety of ways [RFC1078]
   [I-D.cheshire-dnsext-dns-sd][I-D.cheshire-dnsext-multicastdns] to
   obtain the port number of a given service.

   Designers of applications and application-level protocols may apply
   to IANA for an assigned port number and service name for a specific
   application, and may - after successful registration - assume that no
   other application will use that port number and service name for its



Cotton, et al.          Expires February 12, 2010               [Page 4]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   communication sessions.  Alternatively, application designers may
   also only ask for an assigned service name, if their application does
   not require a port number.  The latter alternative is encouraged when
   possible, in order to conserve the more limited port number space.
   It is important to note that ownership of registered port numbers and
   service names remains with IANA.

   For protocols developed by IETF working groups, IANA offers a method
   for the "early" assignment of port numbers and service names, in line
   with [RFC4020], as described in Section 6.1.

   This document updates [RFC2780] by obsoleting Sections 8 and 9.1 of
   that RFC.  Note that [RFC5237] updates a different subset of the IANA
   allocation guidelines originally given in [RFC2780] (specifically,
   the policies on the namespace of the IP protocol number and IPv6 next
   header).


2.  Conventions Used in this Document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in BCP 14, RFC 2119
   [RFC2119].


3.  Motivation

   For many years, the allocation and registration of new port number
   values and service names for use with TCP and UDP have had less than
   clear guidelines.  Information about the registration procedures for
   the port registry existed in three locations: the forms for
   requesting port number registrations on the IANA web site [SYSFORM]
   [USRFORM], an introductory text section in the file listing the port
   number registrations themselves [REGISTRY], and two brief sections of
   [RFC2780].

   Similarly, the procedures surrounding service names have been
   historically unclear.  Service names were originally created as
   mnemonic identifiers for port numbers without a well-defined syntax,
   beyond the 14-character limit mentioned on the IANA website [SYSFORM]
   [USRFORM].  (Even that length limit has not been consistently
   applied, and some assigned service names are 15 characters long.)
   When service identification via DNS SRV RRs became popular, the
   ambiguities in the syntactic definition of the service namespace,
   together with a requirement by IANA to only assign service names and
   port numbers in combination, led to the creation of an ad-hoc service
   name registry outside of the control of IANA [SRVTYPE].



Cotton, et al.          Expires February 12, 2010               [Page 5]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   This document aggregates this scattered information into a single
   reference that aligns and clearly defines the management procedures
   for both port numbers and service names.  It gives more detailed
   guidance to prospective requesters of ports and service names than
   the existing documentation, and it streamlines the IANA procedures
   for the management of the registry, so that management requests can
   complete in a timely manner.  It also merges the service name
   registrations that have occurred in the ad-hoc [SRVTYPE] registry
   into the IANA registry [REGISTRY], because under the new IANA
   guidelines, registering service names without port numbers has become
   possible.

   A key factor of this procedural streamlining is to establish
   identical registration procedures for all IETF transport protocols.
   This document brings the IANA procedures for TCP and UDP in line with
   those already in effect for SCTP and DCCP, resulting in a single
   process that requesters and IANA follow for all requests for all
   transport protocols, including those not yet defined.

   A second purpose of this document is to describe the principles that
   guide the IETF and IANA in their role as the long-term joint stewards
   of the port number registry.  TCP and UDP have been a remarkable
   success over the last decades.  Thousands of applications and
   application-level protocols have registered ports and service names
   for their use, and there is every reason to believe that this trend
   will continue into the future.  It is hence extremely important that
   management of the registry follow principles that ensure its long-
   term usefulness as a shared resource.  Section 5 discusses these
   principles in detail.

   In addition to detailing the IANA procedures for the initial
   assignment of port numbers and service names, this document also
   specifies post-assignment procedures that until now have been handled
   in an ad-hoc manner.  These include procedures to de-register a port
   number that is no longer in use, to re-use a port number allocated
   for one application that is no longer in use for another application,
   and procedure by which IANA can unilaterally revoke a prior port
   number registration.  Section 6 discusses the specifics of these
   procedures.


4.  Port Number Ranges

   TCP, UDP (and UDP-Lite), SCTP and DCCP use 16-bit namespaces for
   their port number registries.  The port registries for all these
   transport protocols are subdivided into three ranges of numbers, and
   Section 5.2 describes the IANA procedures for each range in detail:




Cotton, et al.          Expires February 12, 2010               [Page 6]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   o  the Well Known Ports, also known as the System Ports, from 0-1023
      (assigned by IANA)

   o  the Registered Ports, also known as the User Ports, from 1024-
      49151 (assigned by IANA)

   o  the Dynamic Ports, also known as the Private Ports, from 49152-
      65535 (never assigned)

   Of the assignable port ranges (Well Known and Registered, i.e., port
   numbers 0-49151), individual port numbers are in one of three states
   at any given time:

   o  Assigned: Assigned port numbers are currently allocated to the
      service indicated in the registry.

   o  Unassigned: Unassigned port numbers are currently available for
      assignment upon request, as per the procedures outlined in this
      document.

   o  Reserved: Reserved port numbers are not available for regular
      assignment; they are "assigned to IANA" for special purposes.
      Reserved port numbers include values at the edges of each range,
      e.g., 0, 1023, 1024, etc., which may be used to extend these
      ranges or the overall port number space in the future.

   In order to keep the size of the registry manageable, IANA typically
   only records the Assigned and Reserved port numbers and service names
   in the registry.  Unassigned values are typically not explicitly
   listed.

   As a data point, when this document was written, approximately 76% of
   the TCP and UDP Well Known Ports were assigned, as were a significant
   fraction of the Registered Ports.  (As noted, Dynamic Ports are never
   assigned.)

4.1.  Port Numbers and Service Names for Experimentation

   Of the Well Known ports, two TCP and UDP port numbers (1021 and
   1022), together with their respective service names ("exp1" and
   "exp2"), have been assigned for experimentation with new applications
   and application-layer protocols that require a port number in the
   assigned ports ranges [RFC4727].  This document registers the same
   two port numbers and service names for experimentation with new
   application-layer protocols over SCTP and DCCP in Section 8.2.

   Please refer to Sections 1 and 1.1 of [RFC3692] for how these
   experimental port numbers are to be used.  Specifically, they SHOULD



Cotton, et al.          Expires February 12, 2010               [Page 7]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   only be used for local experiments in controlled environments, and
   they SHOULD NOT be used on the global Internet.  Many new
   applications and application-layer protocols can be experimented with
   without requiring a port in the Well Known or Registered ports range,
   and port numbers in the Dynamic Ports range can be also used.

   Unfortunately, it can be difficult to limit access to these ports.
   Users SHOULD take measures to ensure that experimental ports are
   connecting to the intended process.  For example, users of these
   experimental ports might include a 64-bit nonce, once on each segment
   of a message-oriented channel (e.g., UDP), or once at the beginning
   of a byte-stream (e.g., TCP), which is used to confirm that the port
   is being used as intended.  Such confirmation of intended use is
   especially important when these ports are associated with privileged
   (e.g., system or administrator) processes.


5.  Principles for Port Number and Service Name Registry Management

   Management procedures for the port number and service name registry
   include allocation of port numbers and service names upon request, as
   well as coordination of information about existing allocations.  The
   latter includes maintaining contact and description information about
   assignments, revoking abandoned assignments, and redefining
   assignments when needed.  Of these procedures, port number allocation
   is most critical, because of the limited number of remaining port
   numbers.  The namespace available for service names is much larger,
   which allows for simpler management procedures.

   Before the publication of this document, the principles of port
   number and service name management followed some simple, mostly
   undocumented guidelines:

   o  TCP and UDP ports were simultaneously allocated when either was
      requested

   o  Port numbers were the primary allocation; service names were
      informative only, and did not have a well-defined syntax

   o  Port numbers were conserved informally, and sometimes
      inconsistently (e.g., some services were allocated ranges of many
      port numbers even where not strictly necessary)

   o  SCTP and DCCP port number and service name registries were managed
      separately from the TCP/UDP registries

   o  Until recently, service names could not be assigned without
      assigning a corresponding port number



Cotton, et al.          Expires February 12, 2010               [Page 8]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   This document attempts to document, clarify and align these
   guidelines in order to more conservatively manage the limited
   remaining port number space and to enable and promote the use of
   service names for service identification without associated port
   numbers, where possible.

5.1.  Basic Principles of Port Number Conservation

   This section summarizes the basic principles by which IANA attempts
   to conserve the port number space.  This description is intended to
   inform applicants requesting port numbers.  IANA decisions are not
   required to be bound to these principles, however; other factors may
   come into play, and exceptions may occur where deemed in the best
   interest of the Internet.

   The basic principle of port number registry management is to conserve
   use of the port space where possible.  Extensions to support larger
   port number spaces would require changing many core protocols of the
   current Internet in a way that would not be backward compatible and
   interfere with both current and legacy applications.

   Conservation of the port number space recognizes that because this
   space is a limited resource, applications are expected to participate
   in the traffic demultiplexing process where feasible.  The port
   numbers are expected to encode as little information as possible that
   will still enable an application to perform further demultiplexing by
   itself.  In particular, there should be:

   o  only one assigned port number per service or application

   o  only one assigned port number for all versions of a service (e.g.,
      running the service with or without a security mechanism)

   o  only one assigned port number for all different types of devices
      using or participating in the same service

   A given service is expected to further demultiplex messages where
   possible.  For example, applications and protocols are expected to
   include in-band version information, so that future versions of the
   application or protocol can share the same allocated port.
   Applications and protocols are also expected to be able to
   efficiently use a single allocated port for multiple sessions, either
   by demultiplexing multiple streams within one port, or using the
   allocated port to coordinate using dynamic ports for subsequent
   exchanges (e.g., in the spirit of FTP [RFC0959]).

   Ports are used in various ways, notably:




Cotton, et al.          Expires February 12, 2010               [Page 9]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   o  as endpoint process identifiers

   o  as application protocol identifiers

   o  for firewall filtering purposes

   The process and protocol identifier use suggests that anything a
   single process can demultiplex, or that can be encoded into a single
   protocol, should be.  The firewall filtering use suggests that some
   uses that could be de-multiplexed or encoded must be separated to
   allow for firewall management.  Note that this latter use is much
   less sound, because port numbers have meaning only for the two
   endpoints involved in a connection, and drawing conclusions about the
   service that generated a given flow based on observed port numbers is
   inherently problematic.

5.2.  Variances for Specific Port Number Ranges

   Section 4 describes the different port number ranges.  It is
   important to note that IANA applies slightly different procedures
   when managing the different ranges of the port number registry:

   o  Ports in the Dynamic Ports range (49152-65535) have been
      specifically set aside for local and dynamic use and cannot be
      registered through IANA.  Applications may simply use them for
      communication without any sort of registration.  On the other
      hand, applications MUST NOT assume that a specific port number in
      the Dynamic Ports range will always be available for communication
      at all times, and a port number in that range hence MUST NOT be
      used as a service identifier.

   o  Ports in the Registered Ports range (1024-49151) are available for
      registration through IANA, and MAY be used as service identifiers
      upon successful registration.  Because registering a port number
      for a specific application consumes a fraction of the shared
      resource that is the port number registry, IANA will require the
      requester to document the intended use of the port number.  This
      documentation will be input to the "Expert Review" allocation
      procedure [RFC5226], by which IANA will have a technical expert
      review the request to determine whether to grant the registration.
      The submitted documentation MUST explain why using a port number
      in the Dynamic Ports range is unsuitable for the given
      application.

   o  Ports in the Well Known Ports range (0-1023) are also available
      for registration through IANA.  Because the Well Known Ports range
      is both the smallest and the most densely allocated one, the bar
      for new allocations is higher than that for the Registered Ports



Cotton, et al.          Expires February 12, 2010              [Page 10]

Internet-Draft   Port Number and Service Name Procedures     August 2009


      range, and will only be granted under the "IETF Review" allocation
      procedure [RFC5226].  A request for a Well Known port number MUST
      document why using a port number from both the Registered Ports
      and Dynamic Ports ranges is unsuitable for the given application.

5.3.  New Principles

   Several new practices stem from the conservation principle that
   guides management of the port number and service name registry, and
   will take effect with the approval of this document:

   o  IANA will allocate port numbers only to the transport protocols
      explicitly named in an allocation request

   o  IANA will recover unused port numbers, via the new procedures of
      de-registration, revocation, and transfer

   o  IANA will begin assigning service names without requiring a
      corresponding port number allocation

   IANA will begin assigning protocol numbers only for those transport
   protocols explicitly included in a registration request.  This ends
   the long-standing practice of automatically assigning a port number
   to an application for both TCP and a UDP, even if the request is only
   for one of these transport protocols.  The new allocation procedure
   conserves resources by only allocating a port number to an
   application for those transport protocols (TCP, UDP, SCTP and/or
   DCCP) it actually uses.  The port number will be marked as Reserved -
   instead of Assigned - in the port number registries of the other
   transport protocols.  When applications start supporting the use of
   some of those additional transport protocols, their implementors MUST
   request IANA to convert the reservation into an assignment.  An
   application MUST NOT assume that it can use a port number assigned to
   it for use with one transport protocol with another transport
   protocol without asking IANA to convert the reservation into an
   assignment.

   Conservation of port numbers is improved by procedures that allow
   previously allocated port numbers to become Unassigned, either
   through de-registration or through revocation, and by a procedure
   that lets application designers transfer an allocated but unused port
   number to a new application.  Section 6 describes these procedures,
   which so far were undocumented.  Port number conservation is also
   improved by recommending that applications that do not require an
   allocated port, e.g., because they can use service-name-based
   lookups, chose this option and only register a service name.





Cotton, et al.          Expires February 12, 2010              [Page 11]

Internet-Draft   Port Number and Service Name Procedures     August 2009


6.  IANA Procedures for Managing the Port Number and Service Name
    Registry

   This section describes the process for requests associated with
   IANA's management of the port number and service name registry.  Such
   requests include initial registration, de-registration, re-use,
   changes to the service name, as well as updates to the contact
   information or description associated with an assignment.  Revocation
   is initiated by IANA.

6.1.  Port Number or Service Name Registration

   Registration refers to the allocation of port numbers or service
   names to applicants.  All such, registrations are made from port
   numbers or service names that are Unassigned or Reserved at the time
   of the allocation.  Unassigned numbers and names are allocated as
   needed, and without further explanation.  Reserved numbers and names
   are assigned only after review by IANA and the IETF, and are
   accompanied by a statement explaining the reason a Reserved number or
   name is appropriate for this action.

   When a registration for one or more (but not all) transport protocols
   is approved, the port number for the non-requested transport
   protocol(s) will be marked as Reserved.  IANA SHOULD NOT assign that
   port number to any other application or service until no other port
   numbers remain Unassigned in the requested range.  The current
   registration owner of a port number MAY register these Reserved port
   numbers for other transport protocols when needed.

   Service names, on the other hand, are not tied to a specific
   transport protocol, and registration requests for only a service name
   (but not a port number) allocate that service name for use with all
   transport protocols.

   A port number or service name registration consists of the following
   information:

   o  Registration Technical Contact: Name and email address of the
      technical contact person for the registration.  This is REQUIRED.
      Additional address information MAY be provided.  For registrations
      done through IETF-published RFCs, one or more technical contact
      persons SHALL be provided.

   o  Registration Owner: Name and email address of the owner of the
      registration.  This is REQUIRED.  For individuals, this is the
      same as the registration technical contact; for organizations,
      this is a point of contact at that organization.  For
      registrations done through IETF-published RFCs, the registration



Cotton, et al.          Expires February 12, 2010              [Page 12]

Internet-Draft   Port Number and Service Name Procedures     August 2009


      ownership will belong to the IETF and not the technical contact
      persons.

   o  Transport Protocol: The transport protocol(s) for which the port
      number or service name allocation is requested MUST be provided.
      This field is currently limited to one or more of TCP, UDP, SCTP,
      and DCCP.

   o  Port Number: If assignment of port number(s) is desired, either
      the currently Unassigned port number(s) the requester suggests for
      allocation or the tag "ANY" MUST be provided.  If only a service
      name is to be assigned, this field MUST be empty.  If specific
      port numbers are requested, IANA is encouraged to allocate the
      suggested numbers.  If the tag "ANY" is specified, IANA will
      choose a suitable number from the Registered Ports range.  Note
      that the applicant MUST NOT use the suggested ports prior to the
      completion of the registration.

   o  Service Name: A desired unique service name for the service
      associated with the registration request, for use in various
      service selection and discovery mechanisms, MUST be provided.
      Valid service names MUST only contain these US-ASCII
      [ANSI.X3-4.1986] characters: letters from A to Z, digits from 0 to
      9, and hyphens ("-", ASCII 0x2D or decimal 45).  They MUST be at
      MOST fifteen characters long, MUST NOT begin or end with a hyphen,
      and MUST NOT consist of only digits, in order to be
      distinguishable from port numbers.  In order to be unique, they
      MUST NOT be identical to any currently registered service names in
      the IANA registry [REGISTRY].  Service names are case-insensitive;
      they may be provided and entered into the registry with mixed case
      (e.g., for clarity), but for the purposes of comparison, the case
      is ignored.

   o  Service Code: A desired unique service code for the service
      associated with the registration request.  Service codes are
      specific to the DCCP protocol [I-D.ietf-dccp-serv-codes]; the
      request MUST include a desired service code when the registration
      requests includes DCCP as a transport protocol, and MUST NOT
      include one otherwise.

   o  Description: A short description of the service associated with
      the registration request is REQUIRED.  It should avoid all but the
      most well known acronyms.

   o  Reference: A reference document describing the protocol or
      application using this port, including whether the protocol
      supports either broadcast, multicast, or anycast communication.
      For registration requests for Registered Ports, this documentation



Cotton, et al.          Expires February 12, 2010              [Page 13]

Internet-Draft   Port Number and Service Name Procedures     August 2009


      MUST explain why a port number in the Dynamic Ports range is
      unsuitable for the given application.  For registration requests
      for Well Known Ports, this documentation MUST explain why a port
      number in the Registered Ports or Dynamic Ports ranges is
      unsuitable.

      "Early" registration requests can be made by IETF working groups
      without including such a reference document, although it is
      RECOMMENDED that at least a reference to an Internet Draft
      describing the work in progress is provided.

6.2.  Port Number and Service Name De-Registration

   The original requesters of a granted port number assignment can
   return the port number to IANA at any time if they no longer have a
   need for it.  The port number will be de-registered and will be
   marked as Reserved.  IANA should not re-assign port numbers that have
   been de-registered until all other available port numbers in the
   specific range have been assigned.

   Before proceeding with a port number de-registration, IANA needs to
   reasonably establish that the value is actually no longer in use.

   Because there is much less danger of exhausting the service name
   space compared to the port number space, it is RECOMMENDED that a
   given service name remain assigned even after all associated port
   number assignments have become de-registered.  It will afterwards
   appear in the registry as if it had been created through a service
   name registration request that did not include any port numbers.

   On rare occasions, it may still be useful to de-register a service
   name.  In such cases, IANA will mark the service name as Reserved.

6.3.  Port Number and Service Name Re-Use

   If the original requesters of a granted port number assignment no
   longer have a need for the registered number, but would like to re-
   use it for a different application, they can submit a request to IANA
   to do so.

   Logically, port number re-use is to be thought of as a de-
   registration (Section 6.2) followed by an immediate re-registration
   (Section 6.1) of the same port number for a new application.
   Consequently, the information that needs to be provided about the
   proposed new use of the port number is identical to what would need
   to be provided for a new port number allocation for the specific
   ports range.




Cotton, et al.          Expires February 12, 2010              [Page 14]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   Because there is much less danger of exhausting the service name
   space compared to the port number space, it is RECOMMENDED that the
   original service name associated with the prior use of the port
   number remains assigned, and a new service be created and associated
   with the port number.  This is again consistent with viewing a re-use
   request as a de-registration followed by an immediate re-
   registration.  Re-using an assigned service name for a different
   application is NOT RECOMMENDED.

   IANA needs to carefully review such requests before approving them.
   In some instances, the Expert Reviewer will determine that the
   application that the port number was assigned to has found usage
   beyond the original requester, or that there is a concern that it may
   have such users.  This determination MUST be made quickly.  A
   community call concerning revocation of a port number (see below) MAY
   be considered, if a broader use of the port number is suspected.

6.4.  Port Number and Service Name Revocation

   A port number revocation can be thought of as an IANA-initiated de-
   registration (Section 6.2), and has exactly the same effect on the
   registry.

   Sometimes, it will be clear that a specific port number is no longer
   in use and that IANA can revoke it and mark it as Reserved.  At other
   times, it may be unclear whether a given assigned port number is
   still in use somewhere in the Internet.  In those cases, IANA must
   carefully consider the consequences of revoking the port number, and
   SHOULD only do so if there is an overwhelming need.

   With the help of their IESG-appointed Expert Reviewer, IANA SHALL
   formulate a request to the IESG to issue a four-week community call
   concerning the pending port number revocation.  The IESG and IANA,
   with the Expert Reviewer's support, SHALL determine promptly after
   the end of the community call whether revocation should proceed and
   then communicate their decision to the community.  This procedure
   typically involves similar steps to de-registration except that it is
   initiated by IANA.

   Because there is much less danger of exhausting the service name
   space compared to the port number space, revoking service names is
   NOT RECOMMENDED.

6.5.  Port Number and Service Name Transfers

   The value of port numbers and service names is defined by their
   careful management as a shared Internet resource, whereas enabling
   transfer allows the potential for associated monetary exchanges.  As



Cotton, et al.          Expires February 12, 2010              [Page 15]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   a result, current IANA procedures do not permit port number or
   service name assignments to be transferred between parties, even when
   they are mutually consenting.

   The appropriate alternate procedure is a coordinated de-registration
   and registration: The new party requests the port number or service
   name via a registration and the previous party releases its
   assignment via the de-registration procedure outlined above.

   With the help of their IESG-appointed Expert Reviewer, IANA SHALL
   carefully determine if there is a valid technical, operational or
   managerial reason before performing the transfer.

6.6.  Maintenance Issues

   The previous procedures help IANA manage the defining properties of
   the port name and service name registry.  There are additional
   procedures which are administrative and help IANA maintain non-
   defining information in a registration.  This includes changes to the
   Port Description and changes to contact information.  These changes
   are coordinated by IANA in an informal manner, and may be initiated
   by either the registrant or by IANA, e.g., the latter when requesting
   an update to current contact information.


7.  Security Considerations

   The IANA guidelines described in this document do not change the
   security properties of either TCP, SCTP, DCCP or UDP.

   Assignment of a port number or service name does not in any way imply
   an endorsement of an application or product, and the fact that
   network traffic is flowing to or from a registered port number does
   not mean that it is "good" traffic, or even that it is used by the
   assigned service.  Firewall and system administrators should choose
   how to configure their systems based on their knowledge of the
   traffic in question, not whether there is a port number or service
   name registered or not.


8.  IANA Considerations

   This document obsoletes Sections 8 and 9.1 of [RFC2780].  Upon
   approval of this document, IANA is requested to adopt the procedures
   described herein.






Cotton, et al.          Expires February 12, 2010              [Page 16]

Internet-Draft   Port Number and Service Name Procedures     August 2009


8.1.  Service Name Consistency

   Section 6.1 defines which character strings are well-formed service
   names, which until now had not been clearly defined.  The definition
   on Section 6.1 was chosen to allow maximum compatibility of service
   names with various service discovery mechanisms.

   Unfortunately, the current port number registry [REGISTRY] contains a
   few assigned service names that do not conform to the new naming
   rules.  In all cases, this is because they contain illegal characters
   such as asterisks, dots, plusses, slashes, or underscores.  (All
   current service names conform to the length requirement of 15
   characters or less.)

   Upon approval of this document, IANA SHALL take immediate actions to
   resolve these inconsistencies.  For any registry assignment with an
   illegal service name, IANA SHALL add an alias to the registry that
   assigns a well-formed service name for the existing service but
   otherwise duplicates the original assignment information.  It is
   desirable if the alias closely resembles the original service name,
   e.g., by remapping underscores to dashes, etc.  In the description
   field of the new alias, IANA SHALL record that it assigns a well-
   formed service name for the previous service and point to the
   original assignment.  In the description field of the original
   assignment, IANA SHALL add a note that the service name is historic,
   is not usable with many common service discovery mechanisms, and
   provide a reference to the new alias, which can be used in this way.

   As of 2009-8-5 [REGISTRY], these service names were illegal under the
   rules stated in Section 6.1:





















Cotton, et al.          Expires February 12, 2010              [Page 17]

Internet-Draft   Port Number and Service Name Procedures     August 2009


          +-----------------+-----------------+----------------+
          | 914c/g          | EtherNet/IP-1   | EtherNet/IP-2  |
          | LiebDevMgmt_A   | LiebDevMgmt_C   | LiebDevMgmt_DM |
          | acmaint_dbd     | acmaint_transd  | atex_elmd      |
          | avanti_cdp      | badm_priv       | badm_pub       |
          | bdir_priv       | bdir_pub        | bmc_ctd_ldap   |
          | bmc_patroldb    | boks_clntd      | boks_servc     |
          | boks_servm      | broker_service  | bues_service   |
          | canit_store     | cedros_fds      | cl/1           |
          | contamac_icm    | corel_vncadmin  | csc_proxy      |
          | cvc_hostd       | dbcontrol_agent | dec_dlm        |
          | dl_agent        | documentum_s    | dsmeter_iatc   |
          | dsx_monitor     | elpro_tunnel    | elvin_client   |
          | elvin_server    | encrypted_admin | erunbook_agent |
          | erunbook_server | esri_sde        | event_listener |
          | flr_agent       | gds_db          | ibm_wrless_lan |
          | iceedcp_rx      | iceedcp_tx      | iclcnet_svinfo |
          | idig_mux        | ife_icorp       | instl_bootc    |
          | instl_boots     | intel_rci       | interhdl_elmd  |
          | lan900_remote   | mapper-ws_ethd  | matrix_vnet    |
          | mdbs_daemon     | menandmice_noh  | msl_lmd        |
          | nburn_id        | ncr_ccl         | nds_sso        |
          | netmap_lm       | nms_topo_serv   | notify_srvr    |
          | novell-lu6.2    | nuts_bootp      | nuts_dem       |
          | ocs_amu         | ocs_cmu         | pipe_server    |
          | pra_elmd        | printer_agent   | redstorm_diag  |
          | redstorm_find   | redstorm_info   | redstorm_join  |
          | resource_mgr    | rmonitor_secure | rsvp_tunnel    |
          | sai_sentlm      | sge_execd       | sge_qmaster    |
          | shiva_confsrvr  | srvc_registry   | stm_pproc      |
          | subntbcst_tftp  | udt_os          | universe_suite |
          | veritas_pbx     | vision_elmd     | vision_server  |
          | whois++         | wrs_registry    | z39.50         |
          +-----------------+-----------------+----------------+

8.2.  Port Numbers for SCTP and DCCP Experimentation

   Two Well Known ports, 1021 and 1022, have been reserved for
   experimentation UDP and TCP [RFC4727].  This document registers the
   same port numbers for SCTP and DCCP, and also instructs IANA to
   automatically register these two port numbers for any new transport
   protocol that will in the future share the port number namespace.

   Note that these port numbers are meant for temporary experimentation
   and development in controlled environments.  Before using these port
   numbers, carefully consider the advice in Section 4.1 in this
   document, as well as in Sections 1 and 1.1 of [RFC3692].  Most
   importantly, application developers must request a permanent port



Cotton, et al.          Expires February 12, 2010              [Page 18]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   number assignment from IANA as described in Section 6.1 before any
   kind of non-experimental deployment.

      +--------------------------------+----------------------------+
      | Registration Technical Contact | IESG <iesg@ietf.org>       |
      | Registration Owner             | IETF <iesg@ietf.org>       |
      | Transport Protocol             | SCTP, DCCP                 |
      | Port Number                    | 1021                       |
      | Port Name                      | RFC3692-style Experiment 1 |
      | Service Name                   | exp1                       |
      | Reference                      | [RFCyyyy]                  |
      +--------------------------------+----------------------------+

      +--------------------------------+----------------------------+
      | Registration Technical Contact | IESG <iesg@ietf.org>       |
      | Registration Owner             | IETF <iesg@ietf.org>       |
      | Transport Protocol             | SCTP, DCCP                 |
      | Port Number                    | 1022                       |
      | Port Name                      | RFC3692-style Experiment 2 |
      | Service Name                   | exp2                       |
      | Reference                      | [RFCyyyy]                  |
      +--------------------------------+----------------------------+

   [RFC Editor Note: Please change "yyyy" to the RFC number allocated to
   this document before publication.]

8.3.  Updates to DCCP Registries

   This document updates the IANA allocation procedures for the DCCP
   Port Number and DCCP Service Codes Registries as defined in
   [RFC4340].

8.3.1.  DCCP Service Code Registry

   Service Codes are allocated first-come-first-served according to
   Section 19.8 of [RFC4340].  This document updates Section 19.8 of
   [RFC4340] by extending the guidelines given there in the following
   ways:

   o  IANA MAY assign new Service Codes without seeking Expert Review
      using their discretion, but SHOULD seek expert review when a
      request seeks an appreciable number of Service Codes (e.g., more
      than five).

   o  IANA should feel free to contact the DCCP Expert Reviewer with
      questions on any registry, regardless of the registry policy, for
      clarification or if there is a problem with a request [RFC4340].




Cotton, et al.          Expires February 12, 2010              [Page 19]

Internet-Draft   Port Number and Service Name Procedures     August 2009


8.3.2.  DCCP Port Numbers Registry

   The DCCP ports registry is defined by [RFC4340] in Section 19.9.
   Allocations in this registry require prior allocation of a Service
   Code.  Not all Service Codes require IANA-registered ports.  This
   document updates Section 19.9 of [RFC4340] by extending the
   guidelines given there in the following way:

   o  IANA should normally assign a value in the range 1024-49151 to a
      DCCP server port.  IANA allocation requests to allocate port
      numbers in the Well Known Ports range (0 through 1023), require an
      "IETF Review" [RFC5226] prior to allocation by IANA [RFC4340].

   Section 19.9 of [RFC4340] requires each DCCP server port assignment
   to be associated with at least one Service Code value.  This document
   updates [RFC4340] in the following way:

   o  IANA MUST NOT allocate a single Service Code value to more than
      one DCCP server port.

   o  The set of Service Code values associated with a DCCP server port
      should be recorded in the ports registry.

   o  A request for additional Service Codes to be associated with an
      already allocated Port Number requires Expert Review.  These
      requests will normally be accepted when they originate from the
      contact associated with the port registration.  In other cases,
      these applications will be expected to use an unallocated port,
      when this is available.

   [RFC4340] notes that a short port name MUST be associated with each
   DCCP server port that has been registered.  This document requires
   that this name MUST be unique.


9.  Acknowledgments

   The text in Section 8.3 is based on a suggestion by Tom Phelan.

   Lars Eggert is partly funded by [TRILOGY], a research project
   supported by the European Commission under its Seventh Framework
   Program.


10.  References






Cotton, et al.          Expires February 12, 2010              [Page 20]

Internet-Draft   Port Number and Service Name Procedures     August 2009


10.1.  Normative References

   [ANSI.X3-4.1986]
              American National Standards Institute, "Coded Character
              Set - 7-bit American Standard Code for Information
              Interchange", ANSI X3.4, 1986.

   [RFC0768]  Postel, J., "User Datagram Protocol", STD 6, RFC 768,
              August 1980.

   [RFC0793]  Postel, J., "Transmission Control Protocol", STD 7,
              RFC 793, September 1981.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2780]  Bradner, S. and V. Paxson, "IANA Allocation Guidelines For
              Values In the Internet Protocol and Related Headers",
              BCP 37, RFC 2780, March 2000.

   [RFC3828]  Larzon, L-A., Degermark, M., Pink, S., Jonsson, L-E., and
              G. Fairhurst, "The Lightweight User Datagram Protocol
              (UDP-Lite)", RFC 3828, July 2004.

   [RFC4020]  Kompella, K. and A. Zinin, "Early IANA Allocation of
              Standards Track Code Points", BCP 100, RFC 4020,
              February 2005.

   [RFC4340]  Kohler, E., Handley, M., and S. Floyd, "Datagram
              Congestion Control Protocol (DCCP)", RFC 4340, March 2006.

   [RFC4727]  Fenner, B., "Experimental Values In IPv4, IPv6, ICMPv4,
              ICMPv6, UDP, and TCP Headers", RFC 4727, November 2006.

   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", BCP 26, RFC 5226,
              May 2008.

10.2.  Informative References

   [I-D.cheshire-dnsext-dns-sd]
              Cheshire, S. and M. Krochmal, "DNS-Based Service
              Discovery", draft-cheshire-dnsext-dns-sd-05 (work in
              progress), September 2008.

   [I-D.cheshire-dnsext-multicastdns]
              Cheshire, S. and M. Krochmal, "Multicast DNS",
              draft-cheshire-dnsext-multicastdns-07 (work in progress),



Cotton, et al.          Expires February 12, 2010              [Page 21]

Internet-Draft   Port Number and Service Name Procedures     August 2009


              September 2008.

   [I-D.ietf-dccp-serv-codes]
              Fairhurst, G., "The DCCP Service Code",
              draft-ietf-dccp-serv-codes-11 (work in progress),
              May 2009.

   [REGISTRY]
              Internet Assigned Numbers Authority (IANA), "Port
              Numbers",  http://www.iana.org/assignments/port-numbers.

   [RFC0959]  Postel, J. and J. Reynolds, "File Transfer Protocol",
              STD 9, RFC 959, October 1985.

   [RFC1034]  Mockapetris, P., "Domain names - concepts and facilities",
              STD 13, RFC 1034, November 1987.

   [RFC1078]  Lottor, M., "TCP port service Multiplexer (TCPMUX)",
              RFC 1078, November 1988.

   [RFC2782]  Gulbrandsen, A., Vixie, P., and L. Esibov, "A DNS RR for
              specifying the location of services (DNS SRV)", RFC 2782,
              February 2000.

   [RFC3692]  Narten, T., "Assigning Experimental and Testing Numbers
              Considered Useful", BCP 82, RFC 3692, January 2004.

   [RFC4342]  Floyd, S., Kohler, E., and J. Padhye, "Profile for
              Datagram Congestion Control Protocol (DCCP) Congestion
              Control ID 3: TCP-Friendly Rate Control (TFRC)", RFC 4342,
              March 2006.

   [RFC4960]  Stewart, R., "Stream Control Transmission Protocol",
              RFC 4960, September 2007.

   [RFC5237]  Arkko, J. and S. Bradner, "IANA Allocation Guidelines for
              the Protocol Field", BCP 37, RFC 5237, February 2008.

   [SRVTYPE]  "DNS SRV (RFC 2782) Service Types",
               http://www.dns-sd.org/ServiceTypes.html.

   [SYSFORM]  Internet Assigned Numbers Authority (IANA), "Application
              for System (Well Known) Port Number",
               http://www.iana.org/cgi-bin/sys-port-number.pl.

   [TRILOGY]  "Trilogy Project",  http://www.trilogy-project.org/.

   [USRFORM]  Internet Assigned Numbers Authority (IANA), "Application



Cotton, et al.          Expires February 12, 2010              [Page 22]

Internet-Draft   Port Number and Service Name Procedures     August 2009


              for User (Registered) Port Number",
               http://www.iana.org/cgi-bin/usr-port-number.pl.


Authors' Addresses

   Michelle Cotton
   Internet Corporation for Assigned Names and Numbers
   4676 Admiralty Way, Suite 330
   Marina del Rey, CA  90292
   USA

   Phone: +1 310 823 9358
   Email: michelle.cotton@icann.org
   URI:   http://www.iana.org/


   Lars Eggert
   Nokia Research Center
   P.O. Box 407
   Nokia Group  00045
   Finland

   Phone: +358 50 48 24461
   Email: lars.eggert@nokia.com
   URI:   http://research.nokia.com/people/lars_eggert/


   Allison Mankin
   Johns Hopkins University

   Phone: +1 301 728 7199
   Email: mankin@psg.com
   URI:   http://www.psg.com/~mankin/


   Joe Touch
   USC/ISI
   4676 Admiralty Way
   Marina del Rey, CA  90292
   USA

   Phone: +1 310 448 9151
   Email: touch@isi.edu
   URI:   http://www.isi.edu/touch






Cotton, et al.          Expires February 12, 2010              [Page 23]

Internet-Draft   Port Number and Service Name Procedures     August 2009


   Magnus Westerlund
   Ericsson
   Torshamsgatan 23
   Stockholm  164 80
   Sweden

   Phone: +46 8 719 0000
   Email: magnus.westerlund@ericsson.com











































Cotton, et al.          Expires February 12, 2010              [Page 24]

