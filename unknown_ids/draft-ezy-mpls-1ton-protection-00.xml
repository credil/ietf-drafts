<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="3"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="no"?>
<?rfc comments="no"?>
<?rfc inline="yes"?>
<?rfc compact="yes"?>
<?rfc subcompact="no"?>
<rfc category="std"
     docName="draft-ezy-mpls-1ton-protection-00.txt"
     ipr="pre5378Trust200902">
  <front>
    <title abbrev="MPLS-TP LP">MPLS-TP 1toN Protection</title>

    <author fullname="Eric Osborne" initials="E." surname="Osborne">
      <organization>Cisco</organization>

      <address>
        <postal>
          <street></street>

          <region></region>

          <code></code>

          <country>United States</country>
        </postal>

        <email>eosborne@cisco.com</email>
      </address>
    </author>

    <author fullname="Fei Zhang" initials="F." surname="Zhang">
      <organization>ZTE</organization>

      <address>
        <postal>
          <street></street>

          <region></region>

          <code></code>

          <country>China</country>
        </postal>

        <email>zhang.fei3@zte.com.cn</email>
      </address>
    </author>

    <author fullname="Yaacov Weingarten" initials="Y." 
            surname="Weingarten">
      <organization>Nokia Siemens Networks</organization>

      <address>
        <postal>
          <street>3 Hanagar St. Neve Ne'eman B</street>

          <city>Hod Hasharon</city>

          <region />

          <code>45241</code>

          <country>Israel</country>
        </postal>

        <email>yaacov.weingarten@nsn.com</email>
      </address>
    </author>

    <date year="2011" />

    <abstract>
      <t>As part of the Transport Profile for Multiprotocol Label Switching (MPLS-TP) 
	  there is a requirement to support 1:n linear protection for transport paths.  
	  This requirement is elaborated on in the MPLS-TP Survivability Framework 
	  document <xref target="SurvivFwk" />.  The basic protocol for linear protection
	  was specified in the MPLS-TP Linear Protection document <xref target="LinProt"/>
	  but is limited to 1+1 and 1:1 protection.  This document extends the protocol 
	  defined there to address the additional functionality necessary to support 
	  scenarios of a single protection path preconfigured to provide protection of 
	  multiple transport paths between two joint endpoints.</t>

      <t>This document is a product of a joint Internet Engineering Task Force (IETF) 
	  / International Telecommunications Union Telecommunications Standardization 
	  Sector (ITU-T) effort to include an MPLS Transport Profile within the IETF MPLS 
	  and PWE3 architectures to support the capabilities and functionalities of a 
	  packet transport network as defined by the ITU-T. </t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>The MPLS Transport Profile (MPLS-TP) Requirements document <xref target="TPReq" /> 
	  includes requirements for the necessary survivability tools that are required
	  for MPLS based transport networks.  Network survivability is the ability of a 
	  network to recover traffic delivery following failure, or degradation of network 
	  resources.  Requirement 67 lists various types of 1:n  protection architectures 
	  that are required for MPLS-TP.  The MPLS-TP Survivability Framework <xref 
	  target="SurvivFwk" /> is a framework for survivability in MPLS-TP networks, 
	  and describes recovery elements, types, methods, and topological considerations, 
	  focusing on mechanisms for recovering MPLS-TP Label Switched Paths (LSPs).</t>

	  <t>Linear protection in mesh networks &ndash; networks with arbitrary 
	  interconnectivity between nodes &ndash; is described in Section 4.7 of 
	  <xref target="SurvivFwk" />.  Linear protection provides rapid and simple 
	  protection switching.  In a mesh network, linear protection provides a 
	  very suitable protection mechanism because it can operate between any pair 
	  of points within the network.  It can protect against a defect in an 
	  intermediate node, a span, a transport path segment, or an end-to-end 
	  transport path.</t>
	  
	  <t><xref target="LinProt" /> defines a Protection State Coordination (PSC) 
	  protocol that supports the different 1+1 and 1:1 architectures described in 
	  <xref target="SurvivFwk" />.  The PSC protocol is a single-phased protocol
	  that allows the two endpoints of the protection domain to coordinate the 
	  protection switching operation when a switching condition is detected on the 
	  transport paths of the protection domain.</t>
	  
	  <t>This document extends the PSC protocol to allow it to support a protection 
	  domain that includes multiple working transport paths that are protected by a 
	  single protection transport path.  The protection transport path is pre-allocated 
	  with resources to transport the traffic normally carried by any one of the 
	  working transport paths.  This is the architecture described in <xref 
	  target="SurvivFwk" /> as 1:n protection, and is the generalization of the 1:1
	  protection architecture already supported by PSC.</t>
	  
	  <section title="1:n Protection architecture">
      <t>Linear protection switching is a fully allocated survivability mechanism. It
      is fully allocated in the sense that the route and bandwidth of the protection 
	  path is reserved for a set of working paths. For 1:n protection the protection
	  path is allocated to protect any one of n working paths between the two endpoints
	  of the protection domain.</t>

        <figure anchor="figure1" title="1:n Protection domain">
          <artwork><![CDATA[
            +-----+                             +-----+
            |     |=============================|     |
            |LER-A|     Working Path #1         |LER-Z|
            |     |                             |     |
            |     |=============================|     |
            |     |     Working Path #2         |     |
            |     |                             |     |
            |     |=============================|     |
            |     |     Working Path #3         |     |
            |     |                             |     |
            |     |      ooo                    |     |
            |     |                             |     |
            |     |=============================|     |
            |     |     Working Path #N         |     |
            |     |                             |     |
            |     |    Protection Path          |     |
            |     |*****************************|     |
            |     |                             |     |
            +-----+                             +-----+

                  |--------Protection Domain--------|

   		  ]]></artwork>
        </figure>

        <t><xref target="figure1" /> shows a protection domain with N working transport
	    paths and a single protection path.  In 1:n protection, it is assumed (as 
	    mentioned above) that the protection path may transport the traffic of only a
	    single working path at any particular time.  The identity of the working path
	    that is being protected must be communicated between the two endpoints.</t>
	  
	    <t>The different working paths may be disjoint at the intermediary points on the 
	    path between LER-A and LER-Z and may also have different resource requirements.
	    In addition, each of the working paths may be assigned a priority that could be 
	    used to decide which working path would be protected in cases of conflict (see 
	    more on this topic in <xref target="Preempt" />).  It is usually advised to 
		arrange these protection groups in a way that would minimize any potential 
		conflict situation.</t>
	  </section>
	  
	  <section title="Path priority">
	    <t>As the 1:n architecture requires the ability for one working path to preempt
		the traffic of another in the event of multiple failures (see <xref target=
		"Preempt" />), there must be an indication of priority between the different 
		working paths so that an implementation can decide whether a new failure should
		be allowed to preempt a protection switch already in place.  This priority is 
		purely a local decision, i.e., determined by configuration at both endpoints
		of the protection domain.  It is also possible to assign the same priority to 
		multiple working paths, thus creating a &quot;first come first served&quot;
		preemption policy.  This document provides no means to signal the priority of 
		a given working path, nor a means to detect priority mismatches	or 
		misconfigurations.  Any mismatch or misconfiguration will likely result in 
		unexpected protection behavior.</t>	  
	  </section>
	  
	  <section anchor="Preempt" title="Preemption">
        <t>Preemption occurs when the protection path is being used to transport
		traffic and is then required to transport traffic for a service with higher 
		priority.  At this point, the current traffic that is being transported on
		the protection path needs to be interrupted to allow the transport of the 
		protected traffic.</t>

		<t>There are two basic scenarios for preemption of traffic &ndash;
		  <list style="numbers">
		    <t>When the protection path is used to transport &quot;extra traffic&quot;.
			While this practice is discouraged by <xref target="TPReq" />, it is still
			not precluded.  When the protection domain triggers a protection switch, 
			the extra traffic should be preempted to allow the transport of the protected
			traffic from the working path that triggered the switching operation. 
			The subsequent treatment of the interrupted service is out of the scope of
			this document.</t>
			<t>When the protection path is transporting traffic from a working path 
			and a second working path triggers a switching condition.  This second
			trigger may either be a trigger with a higher priority (e.g. FS after 
			a SF) or because the operator had assigned a higher priority to the 
			working path of the second trigger.  At this point, the traffic for the
			lower priority working path will be interrupted, and the higher priority 
			traffic will be transmitted on the protection path.  The preempted traffic
			will only renew transmission, when either the working path recovers, or
			the higher priority traffic relinquishes control of the protection path.</t>
			</list></t>
		</section>
	  
      <section title="Contributing authors">
        <t>Nurit Sprecher (NSN)</t>
      </section>
    </section>

    <section title="Conventions used in this document">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <xref
      target="RFC2119"></xref>.</t>

      <section title="Acronyms">
        <texttable align="left" style="none">
          <preamble>This draft uses the following acronyms:</preamble>

          <ttcol align="left"></ttcol>

          <ttcol align="left"></ttcol>
		  <c>Ack</c>
		  
		  <c>Acknowledge</c>

          <c>DNR</c>

          <c>Do not revert</c>

          <c>FS</c>

          <c>Forced Switch</c>

          <c>LER</c>

          <c>Label Edge Router</c>
		  
		  <c>LO</c>
		  
		  <c>Lockout of protection</c>

          <c>MPLS-TP</c>

          <c>Transport Profile for MPLS</c>

          <c>MS</c>

          <c>Manual Switch</c>
		  
		  <c>NR</c>
		  
		  <c>No Request</c>

          <c>P2P</c>

          <c>Point-to-point</c>

          <c>P2MP</c>

          <c>Point-to-multipoint</c>

          <c>PSC</c>

          <c>Protection State Coordination Protocol</c>

          <c>SD</c>

          <c>Signal Degrade</c>

          <c>SF</c>

          <c>Signal Fail</c>

		  <c>Wfa</c>
		  
		  <c>Wait for Acknowledge</c>

          <c>WTR</c>

          <c>Wait-to-Restore</c>
        </texttable>
      </section>

      <section title="Definitions and Terminology">
        <t>The terminology used in this document is based on the terminology
        defined in <xref target="RFC4427"></xref> and further adapted for
        MPLS-TP in <xref target="SurvivFwk"></xref>. In addition, we use the
        term LER to refer to a MPLS-TP Network Element, whether it is a LSR,
        LER, T-PE, or S-PE.</t>
      </section>
    </section>

    <section title="Changes to PSC">
      <t>The Protection State Coordination protocol (PSC) is defined in <xref
	  target="LinProt" />.  This includes both the format of the G-ACh based
	  message as well as a description of the operations and the state
	  transition logic of the protocol.  The extension to cover 1:n protection
	  includes changes to both aspects of PSC.</t>

	  <t>The changes to the message structure, include both the addition of new 
	  information and extension of the semantics of some of the existing fields 
	  of the message.  These changes will be described in <xref target="sub2" />.</t>

      <t>The changes relative to the behavior of the base PSC protocol will be 
	  described in <xref target="sub3" />.</t>

	  <section title="PSC">
        <t>Base PSC (as defined in <xref target="LinProt" /> is a single-phased 
		protocol, i.e. the endpoints perform protection switching without waiting 
		for acknowledgement from the far end LER.  The protocol messages are 
		transmitted using the G-ACh and the format is described in <xref 
		target="figure2" />.</t>

        <figure anchor="figure2"
                title="Format of basic PSC packet with a G-ACh header">
          <artwork><![CDATA[
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |0 0 0 1|Version|  Reserved     |          PSC-CT               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Ver|Request|PT |R|  Reserved1  |     FPath     |     Path      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |         TLV Length            |         Reserved2             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    ~                         Optional TLVs                         ~
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
		  ]]></artwork>
        </figure>

        <t>In regards to the G-ACh Header no changes are suggested in the 
		extensions for 1:n protection, i.e., the channel type field will 
		continue to use the PSC-CT value defined in <xref target="LinProt" />.
		The fields from the PSC payload which are affected by this document 
		are the Ver field, the Reserved1 field, and the Fpath and Path fields.</t>
		
		</section>
	  <section anchor="sub2" title="Changes to PSC Payload">
	    <t>In order to support 1:n protection there is a need to make changes 
		to the format of the PSC payload (see <xref target="figure3" />).  In 
		particular, there is the need to add a new field to the payload to 
		indicate an acknowledge of a protection switching operation.  In 
		addition, the semantics of the FPath and Path field are adjusted to 
		indicate an index of the multiple working paths.  The details of these 
		changes are supplied in the following subsections.</t>
		
		<t>Due to the significance of these changes, the value of the Ver field 
		(in the PSC payload) for 1:n protection domain MUST be set to 2.</t>
		

        <figure anchor="figure3"
                title="Format of 1:n PSC message payload">
          <artwork><![CDATA[
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Ver|Request|PT |R|K| Reserved1 |     FPath     |     Path      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |         TLV Length            |         Reserved2             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    ~                         Optional TLVs                         ~
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
		  ]]></artwork>
        </figure>

		<section title="Acknowledge (K) flag">
		  <t>The Acknowledge flag is used by an endpoint to acknowledge the
		  request to preempt any current traffic on the parotection path and 
		  instead transmit the traffic from the requested working path.  See 
		  details in section x.y.</t>
		</section>
		
        <section title="Fault path (FPath) field">
          <t>The Fpath field indicates which path is identified to be in a fault 
		  condition or affected by an administrative command.  The following are 
		  the possible values:</t>

          <t><list style="symbols">
              <t>0: indicates that the anomaly condition is on the protection
              path</t>

              <t>1-128: indicates that the anomaly condition is on a working path 
			  whose index is indicated.</t>

              <t>129-255: for future extensions or experimental use.</t>
            </list></t>
        </section>

        <section title="Data path (Path) field">
          <t>The Path field indicates which data is being transmitted on the 
		  protection path.  Under normal conditions, the protection path does not 
		  need to carry any user data traffic, but may carry extra traffic.  If 
		  there is a failure/degrade condition on one of the working paths, then 
		  that working path's data traffic will be transmitted over the protection 
		  path.  The following are the possible values:</t>

          <t><list style="symbols">
              <t>0: indicates that the protection path is not transporting user 
			  data traffic.</t>

              <t>1-128: indicates that the protection path is transmitting user 
			  traffic replacing the use of the working path indexed.</t>

              <t>129-255: for future extensions or experimental use.</t>
            </list></t>
        </section>
		
 	  </section>

      <section anchor="sub3" title="Changes to PSC Operation">
        <t>In all of the following subsections, assume a protection domain
        between LER-A and LER-Z, using working paths 1-N and the protection path as
        shown in figure 1.</t>
		
		<t>A basic premise of this protection architecture is that both endpoints
		of the protection domain are configured to associate the indices of the 
		working paths with the proper LSP identifiers.  If this condition is not met
		then the protection scheme will cause inconsistencies in traffic transmission.</t>

		<section title="Basic operation">

		  <t>Protection of the N working paths is based on the operational principles 
		  outlined in <xref target="LinProt" /> and will employ the same basic 
		  Protection State Coordination Protocol (PSC) outlined in that document. 
		  However, as can be expected, due to certain basic differences in the 
		  architecture of the protection domain, a small set of differences in 
		  operation are necessary.  The following sub-sections will highlight these
		  differences and explain their effects on the PSC state machine.</t>
		</section>
		
		<section title="Two-phased operation">
		  <t>PSC, as presented in <xref target="LinProt" /> is a single-phased protocol.
		  This means that when an endpoint receives a trigger to perform a protection
		  switch, the LER switches traffic and then notifies the far end of the switch,
		  without waiting for acknowledgement.  When addressing the situation in a 1:n 
		  protection domain, the endpoint that receives the trigger must first verify 
		  that the protection path is available to transmit the protected traffic.  
		  This may involve interrupting the traffic that is currently being transmitted 
		  on the protection path by both endpoints.</t>
		  
          <t>In general, after the LER has detected a trigger for protection switching, 
		  e.g. a FS	operator command, or a SF indication for one of the working paths, 
		  the LER SHALL transmit the appropriate PSC message as described in <xref 
		  target="LinProt" /> with the following changes:
		  <list style="symbols">
			<t>If the protection domain is currently in either Protecting administrative 
			or Protecting failure state, then the endpoint SHALL verify that the new
			trigger has a higher priority than the currently protected traffic.  If the 
			new trigger has a lower priority then it SHOULD be ignored.</t>

			<t>The PSC message SHALL set the FPath value to the index of the working
			path that generated the trigger.  The Path value SHOULD be set to 0, unless 
			the protection path was previously transporting traffic from another 
			working path (as indicated by the value of the Path field.</t>

			<t>If the protection path is currently transporting protected traffic, then 
			the endpoint SHALL block all traffic of the protected working path.</t>

			<t>The endpoint SHALL transfer to Wfa state (see below).</t>

			<t>Upon reception of the switching PSC message, the far end LER SHALL verify
			that the received request is of higher priority than the known current 
			traffic on the protection path, and if so SHALL interrupt the current traffic
			on the protection path, perform the switch to the requested protected traffic,
			and send an Acknowledge message (i.e. a PSC message with the Acknowledge flag
			set to 1) with the Path field set to the index of the protecteed working path.</t>

			<t>Upon reception of the Acknowledge message, the initiating LER SHALL perform 
			the protection switch and transmit the appropriate PSC message, with the FPath 
			field indicating the index of the working path that triggered the protection 
			switch and the Path field set to the index of the working path whose traffic is
			being transported on the protection path.</t>
			</list></t>
		  
		  </section>
		
		<section title="Acknowledge message">
		  <t>As stated above, before performing a protection switch the endpoint that 
		  detected a switching trigger MUST wait for an Acknowledge message prior to 
		  performing the switch.  There are two types of message that will be considered
		  as an Acknowledge message:
		    <list style="numbers">
			  <t>A reply message with the Request field reflecting the state of the far
			  end, and the Path field set to the index of the working path that triggered 
			  the switching condition.  For example, if there is a Forced Switch command 
			  detected by LER-Z on working path #4, then LER-Z will have sent an FS(4,0)
			  message to LER-A.  Then when LER-Z receives a message such as NR(0,4)Ack 
			  this should be considered acknowledgement of the switching and that the 
			  protection path is available to switch the traffic from working path #4.</t>
			  <t>A remote message with the same Request field and FPath field as that 
			  transmitted by the LER in the Wfa state.  For example, if there is a bi-
			  directional Signal fault detected by LER-A on working path #2, then LER-A 
			  will enter Wfa state and transmit a SF(4,0) message.  When it receives the 
			  SF(4,0) message from LER-Z, that has also detected the SF condition, it 
			  should be considered an acknowledgement of the switching and that the 
			  protection path is available to switch the traffic from working path #2.
			  </t>
			</list></t>
		  </section>
		  
		<section title="Wait for Acknowledge (Wfa) timer">
		  <t>The protection system should include a timer called the Wait for Acknowledge 
		  (Wfa) timer that SHALL be started when the LER enters Wfa state and reset when
		  the Acknowledge message is received.  The length of the Wfa timer SHOULD be 
		  configured to allow protection switching within the normal time constraints.
		  The Wfa timer will expire only if no Acknowledge message was recieved by the 
		  LER in Wfa state.  The Wfa Expires local input should have a priority just below 
		  that of the WTRExpires signal.</t>
		  </section>
		  
        <section title="Additional PSC State">
		  <t>As described above, there is a need for the endpoint that is reporting on 
		  a trigger for protection-switching to delay the actual switchover until an
		  acknowledge is received from the far end LER.  In order to facilitate this 
		  wait period it is necessary to define a new PSC State - Wait for Acknowledge 
		  (Wfa) state.  This state will be entered by the LER upon receiving a trigger
		  for protection switching, and will be exited either upon receiving an 
		  acknowledge message or receiving a remote message indicating that the 
		  protection path is currently occupied by a higher priority request.</t>
		  
		  <t>The following sub-section will describe the actions to be taken when an LER
		  is in the Wfa state.</t>
		  
          <section title=" Wait for Acknowledge (Wfa) State">
			<t>An LER will enter the Wait for Acknowledge state before transitioning into
			a protection state, i.e. either Protecting administrative or Protecting 
			failure state.  The LER SHALL remain in this state until either receiving 
			an Acknowledge message, or until a Wfa timer expires.  Normally, the 
			Acknowledge message will be a remote PSC input.  The following describe 
			how the LER, in Wfa state, should react to a new local input:
			<list style="symbols">
			  <t>A local Clear SHALL cause the LER to go into Normal state if the LER
			  is in Wfa state due to either a FS or MS trigger and transmit an NR(0,0)
			  PSC message.  If the LER is in Wfa state due to a SF trigger then the 
			  local Clear SHALL be ignored.</t>
			  <t>A local LO SHALL cause the LER to go into Unavailable state and begin
			  to transmit LO(x, 0) [where x indicates the index of the working path that
			  triggered the Wfa state].</t>
			  <t>A local FS SHALL cause the LER to remain in Wfa state and transmit the
			  FS(x, 0) message [where x indicates the index of the protected working path].  
			  If the LER is in Wfa state due to a FS from a different working path, then 
			  the working path with the higher priority SHALL be the protected working 
			  path. If the LER is in Wfa state due to any other switching trigger, then 
			  the working path that is identified in this FS will be the protected 
			  working path.</t>
			  <t>A local SF SHALL cause the LER to remain in Wfa state.  If the LER is in 
			  Wfa state due to an existing FS trigger, then ignore the local SF and continue
			  to transmit the FS(x, 0) PSC message.  If the LER is in Wfa state due to an
			  existing SF trigger then transmit the SF(x, 0) PSC message [where x indicates
			  the index of protected working path, i.e. the highest priority working path
			  indicating an SF condition].  If the LER is in Wfa state due to any other 
			  trigger, then begin transmitting a SF(x, 0) PSC message [where x indicates the
			  index of the working path that is generating the SF condition].</t>
			  <t>A local ClearSF indication where the working path is the same as the
			  path that triggered the LER into Wfa state SHALL cause the LER to go into 
			  WTR state (note: 1:N protection is always revertive) and to transmit the
			  WTR(0, 0) message.  If the ClearSF indicates a different index from the 
			  protected working path or incates the protection path then the indication
			  SHALL be ignored.</t>
			  <t>A local MS operator command SHALL cause the LER to remain in Wfa state. 
			  If the LER is in Wfa state due an existing MS trigger, then the node continues 
			  to transmit MS(x, 0) messages [where x indicates the index of the protected
			  working path, i.e. the highest prirority working path indicating the MS 
			  condition].  If the LER is in Wfa state due to any other trigger, ignore
			  the MS command and continue transmitting the current message.</t>
			  <t>If the Wfa timer expires, i.e. the LER did not receive the Acknowledge 
			  message from the far end in a timely manner, then the LER SHALL go to 
			  Unavailable state, i.e. it assumes that there is a problem on the protection
			  path (where all PSC traffic is transmitted) and send an error notification
			  to the management system.  The LER SHALL continue transmitting the current
			  PSC message with Path field set to 0.</t>
			  <t>All other local indications SHALL be ignored.</t>
			  </list></t>
			  
			<t>The following details the reactions of the LER in Wfa state to remote 
			messages:
			  <list style="symbols">
			  <t>Any remote message with the Acknowledge flag set to 1 and the Path field
			  set to the index of the protected working path SHALL cause the LER to change
			  state.  If the trigger was either FS or MS command, the LER enters 
			  Protecting administrative state. The LER transmits the appropriate message
			  according to the trigger (i.e. FS(x,x) for FS command and MS(x,x) for the
			  MS command).  If the trigger was a SF condition, then the LER enters the
			  Protecting failure state and begins to transmit the appropriate SF(x, x)
			  message.  A remote message with the Acknowledge flag set to 1 but where
			  the Path field does not match, according to the description above, SHALL
			  be ignored.</t>
			  <t>A remote LO message SHALL cause the LER to go into Unavailable state and
			  transmit the appropriate message for the trigger that caused the Wfa state.</t>
			  <t>A remote FS message indicating the same working path as the local FS 
			  command that triggered the Wfa state SHALL be considered an Acknowledge 
			  message, even if the Acknowledge flag is not set.  The LER SHALL perform
			  the protection switch, and begin transmitting the FS(x, x) message [where
			  x indicates the index of the protected working path].  If the remote FS
			  message indicates a different index than the one indicated in the local
			  FS and if the remote FS message indicates a lower priority working path 
			  than the working path in the local FS trigger then the LER SHALL ignore 
			  the remote FS message and remain in Wfa state.  If the remote FS message 
			  indicates an index of higher priority or the LER is in Wfa state as a 
			  result of a SF or MS trigger, then the LER SHALL perform the protection 
			  switch for the protected working path indicated by the remote FS message, 
			  and SHALL go to Protecting administrative state and transmit the appropriate 
			  message for the local trigger with the Path field set to the index of the 
			  remote message and the Acknowledge flag set to 1.</t>
			  <t>A remote SF message indicating an error on the protection path SHALL cause 
			  the LER to go into Unavailable stateand transmit the appropriate message for
			  the trigger that caused to Wfa state.</t>
			  <t>A remote SF message indicating an error on the same working path as the 
			  local SF condition that triggered the Wfa state SHALL be considered an 
			  Acknowledge message (even if the Acknowledge flag is not set).  The LER SHALL
			  perform the protection switch, go to Protecting failure state and transmit 
			  the SF(x, x) message [where x is the index of the protected working path].
			  If the remote SF message indicates a different index than the one indicated 
			  in the local SF, then if the local command indicates a higher priority working 
			  path the LER SHALL ignore the remote SF message and remain in Wfa state.  If 
			  the remote SF message indicates an index of higher priority or the LER is in 
			  Wfa state as a result of a MS trigger, then the LER SHALL perform the 
			  protection switch for the protected working path indicated by the remote SF 
			  message, and SHALL go to Protecting failure state and transmit the appropriate 
			  message for the local trigger with the Path field set to the index of the 
			  remote message and the Acknowledge flag set to 1.  If the LER is in Wfa state
			  due to a local FS command, then it SHALL ignore the remote message and remain
			  in Wfa state.</t>
			  <t>A remote MS message indicating an error on the same working path as the 
			  local MS that triggered the Wfa state SHALL be considered an Acknowledge 
			  message (even if the Acknowledge flag is not set).  The LER SHALL perform 
			  the protection switch, go to Protecting administrative state and transmit 
			  the MS(x, x) message [where x is the index of the protected working path].
			  If the remote MS message indicates a different index than the one indicated 
			  in the local MS, then if the local command indicates a higher priority working 
			  path or the LER is in Wfa due to either a FS or SF trigger, the LER SHALL 
			  ignore the remote MS message and remain in Wfa state.  If the remote MS 
			  message indicates an index of higher priority, then the LER SHALL perform the 
			  protection switch for the protected working path indicated by the remote MS
			  message, and SHALL go to Protecting administrative state and transmit an  
			  NR(0, y) with the Path field set to the index of the remote message and the 
			  Acknowledge flag set to 1.</t>
			  <t>All other remote messages SHOULD be ignored.</t>
			  </list></t>
			
			
          </section>

		  </section>
        </section>
      </section>


    <section anchor="IANA" title="IANA Considerations">
	  <t>This document does not include any required IANA considerations</t>

    </section>

    <section anchor="Security" title="Security Considerations">
      <t>The generic security considerations for the data-plane of MPLS-TP are described 
	  in the security framework document <xref target="SecureFwk" /> together with the 
	  required mechanisms needed to address them.   The security considerations for the 
	  generic associated control channel are described in <xref target="RFC5586" />.  The
	  security considerations for protection and recovery aspects of MPLS-TP are addressed
	  in <xref target="SurvivFwk"/>. </t>
	  
	  <t>The extensions to the protocol described in this document are extensions to the
	  protocol defined in <xref target="LinProt" /> and does not introduce any new security
	  risks.</t>
    </section>

    <section anchor="Acknowledgements" title="Acknowledgements">
      <t>The authors would like to thank all members of the teams (the Joint
      Working Team, the MPLS Interoperability Design Team in IETF and the
      T-MPLS Ad Hoc Group in ITU-T) involved in the definition and
      specification of MPLS Transport Profile.</t>
    </section>
  </middle>

  <back>
  
    <references title="Normative References">
      <!-- Begin inclusion reference.RFC.2119.xml. -->

      <reference anchor="RFC2119">
        <front>
          <title abbrev="KeyW">Key words for use in RFCs to Indicate
          Requirement Levels</title>

          <author fullname="S. Bradner" initials="S." surname="Bradner">
            <organization></organization>
          </author>

          <date month="March" year="1997" />

          <abstract>
            <t>Defines the normative terms used in RFCs.</t>
          </abstract>
        </front>

        <seriesInfo name="BCP" value="14" />

        <seriesInfo name="RFC" value="2119" />
      </reference>

      <!-- End inclusion reference.RFC.2119.xml. -->
	  
      <!-- Begin inclusion reference.RFC.5654 -->

      <reference anchor="TPReq">
        <front>
          <title>Requirements of an MPLS Transport Profile</title>

          <author fullname="Ben Niven-Jenkins" initials="B." surname="Niven-Jenkins">
            <organization></organization>
          </author>

          <author fullname="Deborah Brungard" initials="D." surname="Brungard">
            <organization></organization>
          </author>

          <author fullname="Malcolm Betts" initials="M." surname="Betts">
            <organization></organization>
          </author>

          <author fullname="Nurit Sprecher" initials="N." surname="Sprecher">
            <organization></organization>
          </author>

          <author fullname="S. Ueno" initials="S." surname="Ueno">
            <organization></organization>
          </author>

          <date month="September" year="2009" />

          <abstract>
            <t>This document specifies the requirements of an MPLS Transport Profile
   (MPLS-TP).  This document is a product of a joint effort of the
   International Telecommunications Union (ITU) and IETF to include an
   MPLS Transport Profile within the IETF MPLS and PWE3 architectures to
   support the capabilities and functionalities of a packet transport
   network as defined by International Telecommunications Union -
   Telecommunications Standardization Sector (ITU-T).</t>

   <t>This work is based on two sources of requirements: MPLS and PWE3
   architectures as defined by IETF, and packet transport networks as
   defined by ITU-T.</t>

   <t>The requirements expressed in this document are for the behavior of
   the protocol mechanisms and procedures that constitute building
   blocks out of which the MPLS Transport Profile is constructed.  The
   requirements are not implementation requirements.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="5654" />

      </reference>

      <!-- End inclusion reference.RFC.5654 -->

      <!-- Begin inclusion reference.draft.linear.protection -->

      <reference anchor="LinProt">
        <front>
          <title>Multi-protocol Label Switching Transport Profile
          Linear Protection</title>

          <author fullname="Stewart Bryant" initials="S." surname="Bryant">
            <organization></organization>
          </author>

          <author fullname="Nurit Sprecher" initials="N." surname="Sprecher">
            <organization></organization>
          </author>

          <author fullname="Eric Osborne" initials="E." surname="Osborne">
            <organization></organization>
          </author>

          <author fullname="Annamaria Fulignoli" initials="A." surname="Fulignoli">
            <organization></organization>
          </author>

          <author fullname="Yaacov Weingarten" initials="Y." surname="Weingarten">
            <organization></organization>
          </author>


          <date month="Apr" year="2011" />

          <abstract>
            <t>The Transport Profile for Multiprotocol Label Switching (MPLS-TP) is
            being specified jointly by IETF and ITU-T.  This document addresses
            the functionality described in the MPLS-TP Survivability Framework
            document and defines a protocol that may be used to fulfill the function 
			of the Protection State Coordination for linear protection, as described 
			in that document.</t>
          </abstract>
        </front>

        <seriesInfo name="ID" value="draft-ietf-mpls-tp-linear-protection-07.txt" />
      </reference>

      <!-- End inclusion reference.draft.linear.protection -->

	  
    </references>

    <references title="Informative References">

      <!-- Begin inclusion reference.draft.MPLS.G-ACh -->

      <reference anchor="RFC5586">
        <front>
          <title>MPLS Generic Associated Channel</title>

          <author fullname="Martin Vigoureux," initials="M."
                  surname="Vigoureux,">
            <organization></organization>
          </author>

          <author fullname="Matthew Bocci" initials="M." surname="Bocci">
            <organization></organization>
          </author>

          <author fullname="George Swallow" initials="G." surname="Swallow">
            <organization></organization>
          </author>

          <author fullname="Rahul Aggarwal" initials="R." surname="Aggarwal">
            <organization></organization>
          </author>

          <author fullname="David Ward" initials="D." surname="Ward">
            <organization></organization>
          </author>

          <date month="May" year="2009" />

          <abstract>
            <t>This document generalizes the applicability of the pseudowire
            (PW) Associated Channel Header (ACH), enabling the realization of
            a control channel associated to MPLS Label Switched Paths (LSPs)
            and MPLS Sections in addition to MPLS pseudowires. In order to
            identify the presence of this Associated Channel Header in the
            label stack, this document also assigns one of the reserved MPLS
            label values to the Generic Associated Channel Label (GAL), to be
            used as a label based exception mechanism.</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="5586" />
      </reference>

      <!-- End inclusion reference.draft.MPLS.BFD -->

      <!-- Begin inclusion reference.rfc.4427 -->

      <reference anchor="RFC4427">
        <front>
          <title>Recovery Terminology for Generalized Multi-Protocol Label
          Switching</title>

          <author fullname="E. Mannie" initials="E." surname="Mannie">
            <organization></organization>
          </author>

          <author fullname="D. Papadimitriou" initials="D."
                  surname="Papadimitriou">
            <organization></organization>
          </author>

          <date month="Mar" year="2006" />

          <abstract>
            <t>This document defines a common terminology for Generalized
            Multi-Protocol Label Switching (GMPLS)-based recovery mechanisms
            (i.e.,protection and restoration). The terminology is independent
            of the underlying transport technologies covered by GMPLS</t>
          </abstract>
        </front>

        <seriesInfo name="RFC" value="4427" />
      </reference>

      <!-- End inclusion reference.rfc.4427 -->

      <!-- Begin inclusion reference.draft.survive.fwk -->

      <reference anchor="SurvivFwk">
        <front>
          <title>Multi-protocol Label Switching Transport Profile
          Survivability Framework</title>

          <author fullname="Nurit Sprecher" initials="N." surname="Sprecher">
            <organization></organization>
          </author>

          <author fullname="Adrian Farrel" initials="A." surname="Farrel">
            <organization></organization>
          </author>

          <author fullname="Himanshu Shah" initials="H." surname="Shah">
            <organization></organization>
          </author>

          <date month="Feb" year="2009" />

          <abstract>
            <t>Network survivability is the network's ability to restore
            traffic following failure or attack; it plays a critical factor in
            the delivery of reliable services in transport networks.
            Guaranteed services in the form of Service Level Agreements (SLAs)
            require a resilient network that detects facility or node failures
            very rapidly, and immediately starts to restore network operations
            in accordance with the terms of the SLA. The Transport Profile of
            Multiprotocol Label Switching (MPLS-TP) is a packet transport
            technology that combines the packet experience of MPLS with the
            operational experience of transport networks like SONET/SDH. It
            provides survivability mechanisms such as protection and
            restoration, with similar function levels to those found in
            established transport networks such as in SONET/SDH networks. Some
            of the MPLS-TP survivability mechanisms are data plane-driven and
            are based on MPLS-TP OAM fault management functions which are used
            to trigger protection switching in the absence of a control plane.
            Other survivability mechanisms utilize the MPLS-TP control plane.
            This document provides a framework for MPLS-TP survivability.</t>
          </abstract>
        </front>

        <seriesInfo name="ID" value="draft-ietf-mpls-tp-survive-fwk-02.txt" />
      </reference>

      <!-- End inclusion reference.draft.survive.fwk -->

      <!-- Begin inclusion reference.draft.security.fwk -->

      <reference anchor="SecureFwk">
        <front>
          <title>MPLS-TP Security Framework</title>

          <author fullname="Luyuan Fang" initials="L." surname="Fang">
            <organization></organization>
          </author>

          <author fullname="Ben Niven-Jenkins" initials="B." surname="Niven-Jenkins">
            <organization></organization>
          </author>

          <author fullname="Scott Mansfield" initials="S." surname="Mansfield">
            <organization></organization>
          </author>

          <author fullname="Raymond Zhang" initials="R." surname="Zhang">
            <organization></organization>
          </author>

          <author fullname="Nabil Bitar" initials="N." surname="Bitar">
            <organization></organization>
          </author>

          <author fullname="Masahiro Daikoku" initials="M." surname="Daikoku">
            <organization></organization>
          </author>

          <author fullname="Lei Wang" initials="L." surname="Wang">
            <organization></organization>
          </author>

          <date month="Feb" year="2011" />

          <abstract>
            <t>This document provides a security framework for Multiprotocol Label 
			Switching Transport Profile (MPLS-TP).  Extended from MPLS technologies, 
			MPLS-TP introduces new OAM capabilities, transport oriented path 
			protection mechanism, and strong emphasis on static provisioning supported 
			by network management systems.  This document addresses the security 
			aspects that are relevant in the context of MPLS-TP specifically.  It 
			describes the security requirements for MPLS-TP; potential securities 
			threats and migration procedures for MPLS-TP networks and MPLS-TP 
			inter-connection to MPLS and GMPLS networks.</t>
          </abstract>
        </front>

        <seriesInfo name="ID" value="draft-ietf-mpls-tp-security-framework-00.txt" />
      </reference>

      <!-- End inclusion reference.draft.security.fwk -->

    </references>
	
	<section anchor="StateMachine" title="PSC state machine tables">
	  <t>The full PSC state machine is described in <xref target="LinProt" />,
	  both in textual and tabular form.  This appendix highlights the changes to
	  the basic PSC state machine.  In the event of a mismatch between these 
	  tables and the text either in <xref target="LinProt" /> or in this document, 
	  the text is authoritative.  Note that this appendix is intended to be a 
	  functional description, not an implementation specification.</t>

      <t>The tables here use the same format and state descriptions used in the 
	  Linear Protection document with the addition of the Wfa state, Wfa Expires,
	  and the changes in the behavior that is noted.</t>
   
		  
		  <t>Each state corresponds to the transmission of a particular set of 
		  Request, FPath and Path bits.  The table below lists the message that 
		  is generally sent in each particular state.  If the message to be sent 
		  in a particular state deviates from the table below, it is noted in 
		  the footnotes to the state-machine table.</t>
		  
		  <texttable align="left" style="headers">
		    <ttcol align="left">State</ttcol>
			<ttcol align="left">REQ(FP,P)</ttcol>
			
			<c>N</c>
			<c>NR(0,0)</c>
			
			<c>UA:LO:L</c>
			<c>LO(0,0)</c>
			
			<c>UA:P:L</c>
			<c>SF(0,0)</c>
			
			<c>UA:LO:R</c>
			<c>NR(0,0)</c>
			
			<c>UA:P:R</c>
			<c>NR(0,0)</c>
			
			<c>PF:W:L</c>
			<c>SF(1,1)</c>
			
			<c>PF:W:R</c>
			<c>NR(0,1)</c>
			
			<c>PA:F:L</c>
			<c>FS(1,1)</c>
			
			<c>PA:M:L</c>
			<c>MS(1,1)</c>
			
			<c>PA:F:R</c>
			<c>NR(0,1)</c>
			
			<c>PA:M:R</c>
			<c>NR(0,1)</c>
			
			<c>WTR</c>
			<c>WTR(0,1)</c>
			
			<c>DNR</c>
			<c>DNR(0,1)</c>
			</texttable>
			
		  <texttable align="left" style="none">
			<preamble>The top row in each table is the list of possible inputs.  
			The local inputs are:</preamble>
			  
			<ttcol align="left"> </ttcol>
			<ttcol align="left"> </ttcol>
			  
			<c>NR</c>
			<c>No Request</c>
			
			<c>OC</c>
			<c>Operator Clear</c>
			
			<c>LO</c>
			<c>Lockout of protection</c>
			
			<c>SF-P</c>
			<c>Signal Fail on protection path</c>
			
			<c>SF-W</c>
			<c>Signal Fail on working path</c>
			
			<c>FS</c>
			<c>Forced Switch</c>
			
			<c>SFc</c>
			<c>Clear Signal Fail</c>
			
			<c>MS</c>
			<c>Manual Switch</c>
			
			<c>WTRExp</c>
			<c>WTR Expired</c>
			</texttable>
		  
		  <texttable align="left" style="none">
		    <preamble>and the remote inputs are:</preamble>
			
			<ttcol align="left"></ttcol>
			<ttcol align="left"></ttcol>
			
			<c>LO</c>
			<c>remote LO message</c>
			
			<c>SF-P</c>
			<c>remote SF message indicating protection path</c>
			
			<c>SF-W</c>
			<c>remote SF message indicating working path</c>
			
			<c>FS</c>
			<c>remote FS message</c>
			
			<c>MS</c>
			<c>remote MS message</c>
			
			<c>WTR</c>
			<c>remote WTR message</c>
			
			<c>DNR</c>
			<c>remote DNR message</c>
			
			<c>NR</c>
			<c>remote NR message</c>
			</texttable>
			
		  <t>Section 4.3.3 refers to some states as &apos;remote&apos; and 
		  some as &apos;local&apos;.  By definition, all states listed in 
		  the table of local sources are local states, and all states listed 
		  in the table of remote sources are remote states.  For example, 
		  section 4.3.3.1 says &quot;A local Lockout of protection input SHALL 
		  cause the LER to go into local Unavailable State&quot;.  As the 
		  trigger for this state change is a local one, &apos;local Unavailable 
		  State&apos; is by definition displayed in the table of local sources.  
		  Similarly, &quot;A remote Lockout of protection message SHALL cause 
		  the LER to go into remote Unavailable state&quot; means that the state 
		  represented in the Unavailable rows in the table of remote sources is 
		  by definition a remote Unavailable state.</t>

		  <t>Each cell in the table below contains either a state, a footnote, 
		  or the letter &apos;i&apos;.  &apos;i&apos; stands for Ignore, and is 
		  an indication to continue with the current behavior.  See section 4.3.3. 
		  The footnotes are listed below the table.</t>
		  
        <figure anchor="FSM1"
                suppress-title="true">
		  <preamble>Part 1: Local input state machine</preamble>
          <artwork align="center"><![CDATA[
           | OC  | LO    | SF-P | FS   | SF-W | SFc  | MS   | WTRExp
   --------+-----+-------+------+------+------+------+------+-------
   N       | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| i
   UA:LO:L | N   | i     | i    | i    | i    | i    | i    | i
   UA:P:L  | i   |UA:LO:L| i    | i    | i    | [5]  | i    | i
   UA:LO:R | i   |UA:LO:L| [1]  | i    | [2]  | [6]  | i    | i
   UA:P:R  | i   |UA:LO:L|UA:P:L| i    | [3]  | [6]  | i    | i
   PF:W:L  | i   |UA:LO:L|UA:P:L|PA:F:L| i    | [7]  | i    | i
   PF:W:R  | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    | i    | i
   PA:F:L  | N   |UA:LO:L|UA:P:L| i    | i    | i    | i    | i
   PA:M:L  | N   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    | i    | i
   PA:F:R  | i   |UA:LO:L|UA:P:L|PA:F:L| [4]  | [8]  | i    | i
   PA:M:R  | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| i
   WTR     | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| [9]
   DNR     | i   |UA:LO:L|UA:P:L|PA:F:L|PF:W:L| i    |PA:M:L| i
		  ]]></artwork>
        </figure>

        <figure anchor="FSM2"
                suppress-title="true">
		  <preamble>Part 2: Remote messages state machine</preamble>
          <artwork align="center"><![CDATA[
           | LO    | SF-P | FS   | SF-W | MS   | WTR  | DNR  | NR
   --------+-------+------+------+------+------+------+------+------
   N       |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | i
   UA:LO:L | i     | i    | i    | i    | i    | i    | i    | i
   UA:P:L  | [10]  | i    | i    | i    | i    | i    | i    | i
   UA:LO:R | i     | i    | i    | i    | i    | i    | i    | [16]
   UA:P:R  |UA:LO:R| i    | i    | i    | i    | i    | i    | [16]
   PF:W:L  | [11]  | [12] |PA:F:R| i    | i    | i    | i    | i
   PF:W:R  |UA:LO:R|UA:P:R|PA:F:R| i    | i    | [14] | [15] | N 
   PA:F:L  |UA:LO:R|UA:P:R| i    | i    | i    | i    | i    | i 
   PA:M:L  |UA:LO:R|UA:P:R|PA:F:R| [13] | i    | i    | i    | i 
   PA:F:R  |UA:LO:R|UA:P:R| i    | i    | i    | i    | i    | [17] 
   PA:M:R  |UA:LO:R|UA:P:R|PA:F:R| [13] | i    | i    | i    | N 
   WTR     |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | [18]
   DNR     |UA:LO:R|UA:P:R|PA:F:R|PF:W:R|PA:M:R| i    | i    | i 
		  ]]></artwork>
        </figure>
		  

			
		  <t>The following are the footnotes for the table:</t>
		  <t>[1]  Remain in the current state (UA:LO:R) and transmit SF(0,0)</t>
		  <t>[2]  Remain in the current state (UA:LO:R) and transmit SF(1,0)</t>
		  <t>[3]  Remain in the current state (UA:P:R) and transmit SF(1,0)</t>
		  <t>[4]  Remain in the current state (PA:F:R) and transmit SF(1,1)</t>
		  <t>[5]  If the SF being cleared is SF-P, Transition to N.  If it's SF-W, 
		  ignore the clear.</t>
		  <t>[6]  Remain in current state (UA:x:R), if the SFc corresponds to a previous 
		  SF then begin transmitting NR(0,0).</t>
		  <t>[7]  If domain configured for revertive behavior transition to WTR, else
		  transition to DNR</t>
		  <t>[8]  Remain in PA:F:R and transmit NR(0,1)</t>
		  <t>[9]  Remain in WTR, send NR(0,1)</t>
		  <t>[10] Transition to UA:LO:R continue sending SF(0,0)</t>
		  <t>[11] Transition to UA:LO:R and send SF(1,0)</t>
		  <t>[12] Transition to UA and send SF(1,0)</t>
		  <t>[13] Transition to PF:W:R and send NR(0,1)</t>
		  <t>[14] Transition to WTR state and continue to send the current message.</t>
		  <t>[15] Transition to DNR state and continue to send the current message.</t>
		  <t>[16] If the local input is SF-P then transition to UA:P:L. If the local input 
		  is SF-W then transition to PF:W:L. Else - transition to N state and continue to 
		  send the current message.</t>
		  <t>[17] If the local input is SF-W then transition to PF:W:L. Else - transition 
		  to N state and continue to send the current message.</t>
		  <t>[18] If the receiving LER's WTR timer is running, maintain current state 
		  and message. If the WTR timer is stopped, transition to N.</t>

		</section>
 

  </back>
</rfc>
