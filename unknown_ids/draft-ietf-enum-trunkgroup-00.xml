<?xml version="1.0" encoding="US-ASCII"?>
<!-- This template is for creating an Internet Draft using xml2rfc,
     which is available here: http://xml.resource.org. -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!-- One method to get references from the online citation libraries.
     There has to be one entity for each item to be referenced. 
     An alternate method (rfc include) is described in the references. -->

<!ENTITY RFC3761 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3761.xml">
<!ENTITY RFC1034 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.1034.xml">
<!ENTITY RFC3403 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3403.xml">
<!ENTITY RFC3401 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3401.xml">
<!ENTITY RFC3402 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3402.xml">
<!ENTITY RFC3404 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3404.xml">
<!ENTITY RFC3405 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3405.xml">
<!ENTITY RFC4904 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4904.xml">
<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC4769 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4769.xml">
<!ENTITY RFC3261 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3261.xml">
<!ENTITY RFC3966 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3966.xml">
<!ENTITY RFC2396 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2396.xml">
<!ENTITY RFC4035 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4035.xml">
<!ENTITY RFC3833 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3833.xml">
<!ENTITY RFC2629 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2629.xml">
<!ENTITY I-D.narten-iana-considerations-rfc2434bis SYSTEM "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.narten-iana-considerations-rfc2434bis.xml">
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<!-- used by XSLT processors -->
<!-- For a complete list and description of processing instructions (PIs), 
     please see http://xml.resource.org/authoring/README.html. -->
<!-- Below are generally applicable Processing Instructions (PIs) that most I-Ds might want to use.
     (Here they are set differently than their defaults in xml2rfc v1.32) -->
<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="4"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="yes"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="yes" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space 
     (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="yes" ?>
<!-- do not start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->
<rfc category="std" docName="draft-ietf-enum-trunkgroup-00" ipr="full3978">
  <!-- category values: std, bcp, info, exp, and historic
     ipr values: full3667, noModification3667, noDerivatives3667
     you can add the attributes updates="NNNN" and obsoletes="NNNN" 
     they will automatically be output with "(if approved)" -->

  <!-- ***** FRONT MATTER ***** -->

  <front>
    <!-- The abbreviated title is used in the page header - it is only necessary if the 
         full title is longer than 39 characters -->

    <title abbrev="Abbreviated Title">IANA Registration for an Enumservice Trunkgroup</title>

    <!-- add 'role="editor"' below for the editors if appropriate -->

    <!-- Another author who claims to be an editor -->

    <author fullname="Richard Shockey" initials="R.S." surname="Shockey">
      <organization>NeuStar</organization>

      <address>
        <postal>

          <!-- Reorder these if your country does things differently -->

          <street>46000 Center Oak Plaza</street>

	    <city>Sterling</city>

          <region>VA</region>

          <code>20166</code>

          <country>USA</country>
        </postal>

        <phone>+1-571-434-5651</phone>

        <email>richard.shockey@neustar.biz</email>

        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <author fullname="Tom Creighton" initials="T.C." surname="Creighton">
      <organization>Comcast Cable Communications</organization>

      <address>
        <postal>

          <!-- Reorder these if your country does things differently -->

          <street>One Comcast Center</street>

	    <city>Philadelphia</city>

          <region>PA</region>

          <code>19103</code>

          <country>USA</country>
        </postal>

        <phone>+1-215-286-8617</phone>

        <email>tom_creighton@cable.comcast.com</email>

        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <date month="July" year="2008" />

    <!-- If the month and year are both specified and are the current ones, xml2rfc will fill 
         in the current day for you. If only the current year is specified, xml2rfc will fill 
	 in the current day and month for you. If the year is not the current one, it is 
	 necessary to specify at least a month (xml2rfc assumes day="1" if not specified for the 
	 purpose of calculating the expiry date).  With drafts it is normally sufficient to 
	 specify just the year. -->

    <!-- Meta-data Declarations -->

    <area>General</area>

    <workgroup>ENUM Working Group</workgroup>

    <!-- WG name at the upperleft corner of the doc,
         IETF is fine for individual submissions.  
	 If this element is not present, the default is "Network Working Group",
         which is used by the RFC Editor as a nod to the history of the IETF. -->

    <keyword>I-D</keyword>

    <!-- Keywords will be incorporated into HTML output
         files in a meta tag but they have no effect on text or nroff
         output. If you submit your draft to the RFC Editor, the
         keywords will be used for the search engine. -->

	 <abstract>
		 <t>This document registers the Enumservice 'trunk' and subtypes 'sip' and 'tel' using the 
			 URI schemes 'sip:' and 'tel:' as per the IANA registration process defined in the ENUM 
			 specification RFC 3761 [RFC7761].</t>
		 <t>RFC 4904 [RFC4904] defines a technique for the conveyance of carrying trunking information in 
			 SIP [RFC3261] and or TEL [RFC3966] URI's.  This Enumservice provides a mechanism for ENUM 
			 databases residing in service provider networks a mechanism to query for that data.</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>ENUM (E.164 Number Mapping), RFC 3761 is a system that transforms E.164 numbers
	  (The International Public Telecommunication Number Plan, ITU-T Recommendation E.164)
	  <xref target="Recommendation E.164"></xref> into domain names and then uses the Domain Name System (DNS),
	  RFC 1034 <xref target="RFC1034"></xref> and Naming Authority Pointer Records (NAPTR) records in the Dynamic
	  Delegation Discovery System (DDDS) RFC 3403 <xref target="RFC3403"></xref> to query the services that are 
	  available for a specific domain name.</t>

	<t>This document registers an Enumservice 'trunk' according to the guidelines given in RFC
	   3761, to be used for provisioning a NAPTR <xref target="RFC3403"></xref> resource record to indicate a type of
	   connection associated with an end point and/or telephone number.  The registration is defined within the DDDS 
	   (Dynamic Delegation Discovery System 
	   <xref target="RFC3401" /><xref target="RFC3402" /><xref target="RFC3403" /><xref target="RFC3404" /><xref target="RFC3405" />) 
	   hierarchy, for use with the "E2U" DDDS Application defined
	   in RFC 3761.</t>

	<t>The service parameters defined in RFC 3761 dictate that a 'type' and one or more 'subtype'
	   should be specified.  Within this set of specifications the convention is assumed that the
	   'type' (being the more generic term) defines the service and at least one of the 'subtype'
	   may indicate the URI scheme.</t>

	<t>In this document, one type is specified, 'trunk' and two subtypes 'sip' and 'tel'
	   corresponding to the URI scheme specified.</t>

	<t>RFC 4904 defines the general problem statement as to why sip/tel URI's need to covey
	   trunkgroup parameters.</t>

	<t>This Enumservice solves the problem of how SIP proxies or other intermediate session routing
	   elements can query for and utilize trunkgroup data.</t>

	<t>The design of this Enumservice was influenced by several factors:</t>

	<t>RFC 3761 has become the de facto query-response protocol of for a variety of data types 
	   associated with E.164 numbering, addressing and routing.  RFC 3761 is already being used by 
	   service providers to query for data that has significant privacy or security issues 
	   associated with it.  <xref target="RFC4769">RFC 4769</xref>, for instance, describes an Enumservice that 
	   associates an E.164 number with a PSTN Local Routing Number.  This Enumservice extends that functionality 
	   to another form of PSTN routing data.</t>

	<t>Communications service providers are concerned with the impact of call setup up times on the 
	   overall user experience.  There is a strong desire to maintain a single query-response 
	   mechanism for data involving E.164 phone numbers and not complicate call processing 
	   applications with multiple protocol mechanisms.  Were the query for trunkgroup data to require 
	   a secondary protocol mechanism such as LDAP or IRIS to retrieve the data, it could significantly 
	   impact call setup times.</t>
     </section>

    <section title="Terminology">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
           "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
           document are to be interpreted as described in <xref
        target="RFC2119">RFC 2119</xref>.</t>
     </section>

    <section title="Definition of Trunking Data">
	<t>Trunking data is defined in RFC 4904 as specific circuits in the PSTN that represent a 
	   communications paths connecting two switching systems that are used in the establishment of a end
	   to end connection.</t>
     </section>

    <section title="Distribution of Trunkgroup Data">
	<t>The distribution of trunkgroup data is generally restricted to internal network operations.  The 
	   NAPTR records described herein SHOULD not be part of the e164.arpa DNS tree.  Distribution of this
	   NAPTR data would be either within a service provider's internal network, or on a private basis 
	   between one or more parties using a variety of security mechanisms to prohibit general public access.</t>
     </section>

    <section title="Enumservice 'trunk' Response Examples">
	<t>This section documents several examples of how this protocol is used for illustrative purposes only.</t>
	<t>From examples given in RFC 4904:</t>
	<section title="Trunk group in a global number, with a number prefix trunk-context:">
	     <t>tel:+16305550100;tgrp=TG-1;trunk-context=+1-630</t>
	     <t>Transforming this tel URI to a sip URI yields:</t>
	     <t>sip:+16305550100;tgrp=TG-1;trunk-context=+1-630@isp.example.net;user=phone</t>
	     <t>In an ENUM query-response mechanism this data would be presented as follows.</t>
	     <t>$ORIGIN 0.0.1.0.5.5.5.0.3.6.1.enum4.network.net</t>
	     <t>NAPTR 10 100 "u" "E2U+trunk:tel"   "!^.*$!tel:+16305550100;tgrp=TG-1;trunk-context=+1-630!".</t>
	     <t>NAPTR 10  50 "u" "E2U+trunk:sip"   "!^.*$!sip:+16305550100;tgrp=TG-1;trunk-context=+1-630@isp.example.net;user=phone!".</t>
	</section>	     
    </section>

    <section title="Implementation Considerations">
	    <t>There may be one or more trunkgroups associated with a particular E.164 number since there may be 
		    multiple terminations strategies associated with an end-to-end connection.  Since an ENUM query for 
		    trunkgroup data may return multiple responses, it is important that there be unambiguous information 
		    on which group to use or the order to which sessions should be attempted.</t>
	    <t>Implementations of this Enumservice MUST be able to distinguish between the order and preference fields in 
		    the NAPTR records.  It is recommended that implementers should fix the Order field to a single value 
		    (such as 100) and use the preference field to rank order the selections.</t>
    </section>

    <section title="Privacy Considerations">
	    <t>It is assumed that carriers, service providers, or other organizations that originate trunkgroup data will 
		    not publish such information in a globally visible DNS tree, such as e164.arpa.</t>
	    <t>This data is strictly for internal service provider use only in highly internally cached ENUM databases, 
		    which is only able to be queried by trusted elements of their network, such as soft switches and SIP 
		    proxy servers.</t>
    </section>

    <section title="Security Considerations">
	    <t>The trunkgroup Enumservice defined in this document is assumed to be used in an environment where elements 
		    are trusted and where attackers are not supposed to have access to the protocol messages between those 
		    elements.  Traffic protection between network elements is sometimes achieved by using IPSec and sometimes 
		    by physically protecting the underlying network.  In any case, it is presumed the environment where the 
		    enum trunkgroup request-response mechanism will be used can ensure the integrity and accuracy of the data.</t>
    </section>

    <section title="IANA Considerations">
	    <t>This document registers the 'trunk' Enumservice using the type 'trunk' and the subtypes 'sip' and 'tel' in the 
		    Enumservice registry described in the IANA considerations in RFC 3761.</t>
	    <section title='IANA Enumservice Registration for "trunk"'>
		    <t>Enumservice Name: "trunk"</t>
		    <t>Enumservice Type: "trunk"</t>
		    <t>Enumservice Subtype: "tel"</t>
		    <t>URI Scheme: 'tel:'</t>
		    <t>Functional Specification:</t>
		    <t>This Enumservices indicate trunkgroup data, as defined in RFC 4904 necessary for a SIP proxy to make 
			    routing decisions.</t>
		    <t>Security Considerations: See Section 8.</t>
		    <t>Intended Usage: COMMON</t>
		    <t>Authors:
		    <list style='empty'>
			    <t>Richard Shockey (richard.shockey@neustar.biz)
				    <vspace blankLines='0' />
				    Tom Creighton (tom_creighton@cable.comcast.com)</t>
		    </list>
	    </t>
	    </section>
	    <section title='ENUM Service Registration for PSTN with Subtype "sip"'>
		    <t>Enumservice Name: "pstn"</t>
		    <t>Enumservice Type: "pstn"</t>
		    <t>Enumservice Subtype: "sip"</t>
		    <t>URI Scheme: 'sip:'</t>
		    <t>Functional Specification:</t>
		    <t>These Enumservices indicate that the remote resource identified can be addressed by the associated URI 
			    scheme in order to initiate a telecommunication session, which may include two-way voice or other 
			    communications, to the PSTN.</t>
		    <t>Security Considerations: See Section 7.</t>
		    <t>Intended Usage: COMMON</t>
		    <t>Authors:
			    <list style='empty'>
				    <t>Richard Shockey (richard.shockey@neustar.biz)
					    <vspace blankLines='0' />
					    Tom Creighton (tom_creighton@cable.comcast.com)</t>
			    </list>
		    </t>
		    <t>Interoperability considerations.</t>
		    <t>The URI is designed to be used specifically in conjunction with systems that utilize private the RFC 
			    3761 [ENUM] databases.</t>
	    </section>
    </section>
    
    <section anchor="Acknowledgements" title="Acknowledgements">
    </section>
  </middle>

  <!--  *****BACK MATTER ***** -->

  <back>

     <references title="Normative References">

	     &RFC3761;

	     <reference anchor="Recommendation E.164">
		     <front>
			     <title>The International Public Telecommunication Number Plan</title>
			     <author>
				     <organization>ITU-T</organization>
			     </author>
			     <date month="May" year="1997" />
		     </front>
	     </reference>

	     &RFC1034;

	     &RFC3403;
	     
	     &RFC3401;
	     
	     &RFC3402;

	     &RFC3404;

	     &RFC3405;

	     &RFC4904;

	     &RFC2119;

	     &RFC4769;

	     &RFC3261;

	     &RFC3966;

	     &RFC2396;

     </references>

     <references title="Informative References">

      &RFC4035;

      &RFC3833;

    </references>

    <!-- Change Log

    v00 2007-11-05  TMC   Initial version.  Converted to XML format and made some modifications to the text. -->

  </back>
</rfc>
