 



TRILL Working Group                                      A. Rijhsinghani
Internet-Draft                                           Hewlett-Packard
Intended status: Proposed Standard                            K. Zebrose
Expires: September 3, 2011                                 H.W. Embedded
                                                           March 2, 2011


              Definitions of Managed Objects for RBridges
                  draft-ietf-trill-rbridge-mib-02.txt

Status of This Document

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   This document is intended to become a Proposed Standard. Distribution
   of this document is unlimited. Comments should be sent to the author.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html


Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols.  In particular it defines
   objects for managing RBridges, which are devices that implement the
   TRILL protocol.







 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 1]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


Table of Contents

   1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2. The Internet-Standard Management Framework . . . . . . . . . . . 3
   3. Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3
   4. Conventions  . . . . . . . . . . . . . . . . . . . . . . . . . . 4
   5. Structure of the MIB Module  . . . . . . . . . . . . . . . . . . 4
      5.1 Textual Conventions  . . . . . . . . . . . . . . . . . . . . 4
      5.2 The rbridgeBase Subtree  . . . . . . . . . . . . . . . . . . 4
      5.3 The rbridgeFdb Subtree . . . . . . . . . . . . . . . . . . . 4
      5.4 The rbridgeVlan subtree  . . . . . . . . . . . . . . . . . . 4
      5.5 The rbridgeEsadi subtree . . . . . . . . . . . . . . . . . . 4
      5.6 The rbridgeCounters subtree  . . . . . . . . . . . . . . . . 5
      5.7 The rbridgeSnooping subtree  . . . . . . . . . . . . . . . . 5
      5.8 The rbridgeDtree subtree . . . . . . . . . . . . . . . . . . 5
      5.9 The rbridgeTrill subtree . . . . . . . . . . . . . . . . . . 5
      5.10 The Notifications Subtree . . . . . . . . . . . . . . . . . 5
   6. Relationship to Other MIB Modules  . . . . . . . . . . . . . . . 5
      6.1 Relationship to IF-MIB . . . . . . . . . . . . . . . . . . . 5
      6.2 Relationship to BRIDGE-MIB . . . . . . . . . . . . . . . . . 6
      6.3 Relationship to P-BRIDGE-MIB . . . . . . . . . . . . . . . . 6
      6.4 Relationship to Q-BRIDGE-MIB . . . . . . . . . . . . . . . . 6
      6.5 Relationship to IS-IS MIB  . . . . . . . . . . . . . . . . . 6
      6.6  MIB modules required for IMPORTS  . . . . . . . . . . . .  11
   7. Definition of the RBridge MIB  . . . . . . . . . . . . . . . .  11
   8. Security Considerations  . . . . . . . . . . . . . . . . . . .  48
   9. IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  50
   10. Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  50
   11. References  . . . . . . . . . . . . . . . . . . . . . . . . .  50
      11.1 Normative References  . . . . . . . . . . . . . . . . . .  50
      11.2 Informative References  . . . . . . . . . . . . . . . . .  51
   Appendix A. Change Log  . . . . . . . . . . . . . . . . . . . . .  51
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  52
   Copyright and License Notice  . . . . . . . . . . . . . . . . . .  52














 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 2]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


1. Introduction

   This document describes a model for managing RBridges as defined in
   [RBridge].  RBridges provide optimal pair-wise forwarding without
   configuration using IS-IS routing and encapsulation of traffic.
   RBridges are compatible with previous IEEE 802.1 customer bridges as
   well as IPv4 and IPv6 routers and end nodes.  They are as invisible
   to current IP routers as bridges are and, like routers, they
   terminate the bridge spanning tree protocol.  In creating an RBridge
   management model the device is viewed primarily as a customer bridge.
   For a discussion of the problem addressed by TRILL see [RFC5556].

   RBridges support features specified for transparent bridges in IEEE
   802.1, and the corresponding MIBs are used to manage those features.
   For IS-IS purposes, the corresponding MIB is used to manage the
   protocol. This MIB specifies those objects which are TRILL-specific
   and hence not available in other MIBs.

2. The Internet-Standard Management Framework

   For a detailed overview of the documents that describe the current
   Internet-Standard Management Framework, please refer to section 7 of
   RFC 3410 [RFC3410].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  MIB objects are generally
   accessed through the Simple Network Management Protocol (SNMP).
   Objects in the MIB are defined using the mechanisms defined in the
   Structure of Management Information (SMI).  This memo specifies a MIB
   module that is compliant to the SMIv2, which is described in STD 58,
   which consists of [RFC2578], [RFC2579] and [RFC2580].

3. Overview

   The RBridge MIB is intended as an overall framework for managing
   RBridges. Where possible the MIB references existing MIB definitions
   in order to maximize reuse.  This results in a considerable emphasis
   on the relationship with other MIB documents.

   Starting with the physical interfaces, there are requirements for
   certain elements of the IF-MIB to be implemented.  These elements are
   required in order to connect the per-port parameters to higher level
   functions of the physical device.

   Transparent bridging, VLANs, Traffic classes and Multicast Filtering
   are supported by the TRILL protocol, and the corresponding management
   is expected to conform to the BRIDGE-MIB [RFC4188], P-BRIDGE-MIB and
   Q-BRIDGE-MIB [RFC4363] modules. 
 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 3]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   The IS-IS routing protocol is used in order to determine the optimum
   pair-wise forwarding path.  This protocol is managed using the IS-IS
   MIB defined in [RFC4444].  Since the TRILL protocol specifies use of
   a single level and a fixed area address of zero, some MIB objects are
   not applicable.  Some IS-IS MIB objects are used in the TRILL
   protocol.

4. Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

5. Structure of the MIB Module

   Objects in this MIB are arranged into subtrees.  Each subtree is
   organized as a set of related objects.  The various subtrees are
   shown below. These are supplemented with required elements of the IF-
   MIB, ISIS-MIB, BRIDGE-MIB, P-BRIDGE-MIB and Q-BRIDGE-MIB.

5.1 Textual Conventions

   Textual conventions are defined to represent object types relevant to
   TRILL.

5.2 The rbridgeBase Subtree

   This subtree contains system and port specific objects applicable to
   all RBridges.

5.3 The rbridgeFdb Subtree

   This subtree contains objects applicable to the Forwarding database
   used by the RBridge in making packet forwarding decisions. Because it
   contains additional information used by the TRILL protocol not
   applicable to 802.1D/Q bridges, it is a superset of the corresponding
   subtrees defined in the BRIDGE-MIB and Q-BRIDGE-MIB.

5.4 The rbridgeVlan subtree

   This subtree describes objects applicable to VLANs configured on the
   RBridge.

5.5 The rbridgeEsadi subtree

   This subtree describes objects relevant to RBridges that support the
   optional ESADI protocol.

 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 4]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


5.6 The rbridgeCounters subtree

   This subtree contains statistics maintained by RBridges that can aid
   in monitoring and troubleshooting networks connected by them.

5.7 The rbridgeSnooping subtree

   This subtree describes objects applicable to RBridges capable of
   snooping IPv4 and/or IPv6 Multicast control frames and pruning IP
   multicast traffic based on detection of IP multicast routers and
   listeners.

5.8 The rbridgeDtree subtree

   This subtree contains objects relevant to Distribution Trees computed
   by RBridges for the forwarding of multi-destination frames.

5.9 The rbridgeTrill subtree

   This subtree contains objects applicable to the TRILL IS-IS protocol,
   beyond what is available in ISIS-MIB.

5.10 The Notifications Subtree

   The defined notifications are focused on the TRILL protocol
   functionality.  Notifications are defined for changes in the
   Designated RBridge status and the topology.  TBD for this section is
   what notifications are required from imported MIBs and how can the
   TRILL notifications be throttled.


6. Relationship to Other MIB Modules

   The IF-MIB, BRIDGE-MIB, P-BRIDGE-MIB, Q-BRIDGE-MIB, and ISIS-MIB all
   contain objects relevant to the RBridge MIB. Management objects
   contained in these modules are not duplicated here, to reduce overlap
   to the extent possible.

6.1 Relationship to IF-MIB

   The port identification elements MUST be implemented in order to
   allow them to be cross referenced.  The Interface MIB [RFC2863]
   requires that any MIB module which is an adjunct of the Interface MIB
   clarify specific areas within the Interface MIB.  These areas were
   intentionally left vague in the Interface MIB to avoid over-
   constraining the MIB, thereby precluding management of certain media-
   types.  Section 4 of [RFC2863] enumerates several areas which a
   media-specific MIB must clarify.  The implementor is referred to
 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 5]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   [RFC2863] in order to understand the general intent of these areas.

6.2 Relationship to BRIDGE-MIB

   The following subtrees in the BRIDGE-MIB [RFC4188] contain
   information relevant to RBridges when the corresponding functionality
   is implemented. This functionality is also contained in IEEE8021-
   BRIDGE-MIB.

   o dot1dBase
   o dot1dTp
   o dot1dStatic

6.3 Relationship to P-BRIDGE-MIB

   The following subtrees in the P-BRIDGE-MIB [RFC4363] contain
   information relevant to RBridges when the corresponding functionality
   is implemented. This functionality is also contained in IEEE8021-
   BRIDGE-MIB.

   o dot1dExtBase
   o dot1dPriority
   o dot1dGarp
   o dot1dGmrp
   o dot1dTpHCPortTable
   o dot1dTpPortOverflowTable

6.4 Relationship to Q-BRIDGE-MIB

   The following groups in the Q-BRIDGE-MIB [RFC4363] contain
   information relevant to RBridges when the corresponding functionality
   is implemented. This functionality is also contained in IEEE8021-Q-
   BRIDGE-MIB.

   o dot1qBase
   o dot1qTp
   o dot1qStatic
   o dot1qVlan
   o dot1vProtocol

6.5 Relationship to IS-IS MIB

   The Management Information Base for Intermediate System to
   Intermediate System (IS-IS)[RFC4444] defines a MIB for the IS-IS
   Routing protocol when it is used to construct routing tables for IP
   networks.  While most of these objects are directly applicable to the
   TRILL layer 2 implementations there are some modifications detailed
   below.
 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 6]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


      System-Wide Attributes

      isisSystem -

         This table contains information specific to a single instance
         of the IS-IS protocol.  The TRILL IS-IS implementation follows
         the IS-IS MIB except for the following changes:

         isisLevelType MUST read level 1

            The TRILL IS-IS implementation does not include Level 2.

         isisSysProtSupport MUST read zero

            The IP protocols detailed in the IS-IS MIB are not
            applicable.

         isisSysL2toL2Leaking MUST read FALSE

            The TRILL IS-IS implementation does not include Level 2.

      isisManAreaAddr -

         This subtree is not implemented in TRILL IS-IS.  TRILL IS-IS
         uses a single fixed area address of zero.

      isisAreaAddr -

         This subtree is not implemented in TRILL IS-IS.  TRILL IS-IS
         uses a single fixed area address of zero.

      isisSummAddr -

         This subtree is not implemented in TRILL IS-IS.  In IS-IS this
         table holds summary addresses configured for each Level 2
         instance of the IS-IS protocol running on a router.  TRILL does
         not implement Level 2.

      isisRedistributeAddr -

         This subtree is not implemented in TRILL IS-IS.  In IS-IS this
         table is used to implement Level2 to Level1 address leaking.
         TRILL does not implement Level 2.

      isisRouter -

         This table is implemented.  This table holds the System ID for
         Intermediate Systems in the campus.
 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 7]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


















































 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 8]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


      isisSysLevel -

         This table is implemented.  This table contains information
         specific to a domain (Level 2) or an area (Level 1) of the
         IS-IS protocol.  In the case of TRILL IS-IS there is only one
         entry in the table for Level 1 area zero.

      isisNextCircIndex -

         This scalar is implemented.  This scalar is used to provide a
         unique circuit index.

      Circuit-specific Attributes

      isisCirc -

         This table is implemented, with the following modification.
         This table contains information specific to a point-to-point or
         a broadcast interface in the system.

         isisCircLevelType MUST read level1

         isisCircLevelIndex MUST read level1

      Counters

      isisSystemCounter -

         This table is implemented.  Counters in the System table, such
         as number of times we have wrapped a sequence counter on one of
         our Link State PDUs.

      isisCircuitCounter -

         This table is implemented.  Counters of events particular to a
         circuit, such as PDUs with an illegal value of the System ID
         field length.

      isisPacketCounter -

         This table is implemented.  Counts of IS-IS Protocol PDUs
         broken down into packet type.

      Attributes associated with an Adjacency




 


Rijhsinghani & Zebrose Expires September 3, 2011                [Page 9]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


      isisISAdj -

         This table is implemented.  This table contains information
         about adjacencies to RBridges maintained by the protocol.
         Entries in this table cannot be created by management action:
         they are established through the Hello protocol.

      isisISAdjAreaAddr -

         This table is not implemented.  This table contains the set of
         Area Addresses of neighboring Intermediate Systems, as reported
         in IIH PDUs.  Since all area addresses are zero there is no
         need for a table.

      isisISAdjIPAddr -

         This table is not implemented.  This table contains the set of
         IP Addresses of neighboring Intermediate Systems, as reported
         in received IIH PDUs.  The table has been replaced by addition
         of the RBridgeISAdjMACAddr in the RBridge subtree.

      isisISAdjProtSupp -

         This table is not implemented.  This table contains the set of
         protocols supported by neighboring Intermediate Systems, as
         reported in received IIH PDUs.

      Attributes Associated with Addresses

      isisRA -

         This table is implemented.  The Reachable Address Table.

         Normally each entry defines a configured Reachable Address to
         an NSAP or Address Prefix.  In the case of an RBridge the
         unique isisRAIndex should be defined as type MacAddress rather
         than an Unsigned32.

      isisIPRA -

         This table is not implemented.  The IP Reachable Address Table.

         This table contains information about an IP reachable address
         manually configured on this system or learned from another
         protocol.



 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 10]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


      Attributes Associated with Link State PDU Table

      isisLSPSummaryTable -

         This table is implemented.  The Link State PDU Summary Table.

         This table contains information contained in the headers of
         Link State PDUs stored by the system.

      isisLSPTLVTable -

         This table is implemented.  The Link State PDU TLV Table.

         This table holds the sequence of TLVs that make up an LSP
         fragment.

      Attributes Associated with a Notification

      isisNotification

         This table is implemented.  This table defines attributes that
         will be included when reporting IS-IS notifications.

6.6  MIB modules required for IMPORTS

   The following MIB module IMPORTS objects from SNMPv2-SMI [RFC2578],
   SNMPv2-TC [RFC2579], SNMPv2-CONF [RFC2580], and IF-MIB [RFC2863].

7. Definition of the RBridge MIB


 RBRIDGE-MIB DEFINITIONS ::= BEGIN

   -- ---------------------------------------------------------- --
   -- MIB for RBRIDGE devices
   -- ---------------------------------------------------------- --
   IMPORTS
       MODULE-IDENTITY, OBJECT-TYPE, NOTIFICATION-TYPE,
       Counter32, Integer32, mib-2
           FROM SNMPv2-SMI            -- RFC2578
       TEXTUAL-CONVENTION, TruthValue, MacAddress
           FROM SNMPv2-TC             -- RFC2579
       MODULE-COMPLIANCE, OBJECT-GROUP, NOTIFICATION-GROUP
           FROM SNMPv2-CONF
       VlanId, PortList, dot1qFdbId, dot1qVlanIndex
           FROM Q-BRIDGE-MIB
       InetAddress, InetAddressType
           FROM INET-ADDRESS-MIB
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 11]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       BridgeId
           FROM BRIDGE-MIB
       InterfaceIndex
           FROM IF-MIB
       ;

   rbridgeMIB MODULE-IDENTITY
   LAST-UPDATED "201003010000Z"
   ORGANIZATION "IETF TRILL Working Group"
   CONTACT-INFO
        "http://www.ietf.org/dyn/wg/charter/trill-charter.html
        Email: rbridge@postel.org

               Anil Rijhsinghani
               Hewlett-Packard
          Tel: +1 508 323 1251
        Email: anil@charter.net

               Kate Zebrose
               H.W. Embedded
          Tel: +1 617 840 9673
        Email: kate.zebrose@alum.mit.edu"

       DESCRIPTION
           "The RBridge MIB module for managing devices that support
           the TRILL protocol."

   REVISION     "201103010000Z"
   DESCRIPTION
        "Initial version, published as RFC yyyy"
-- RFC Ed.: replace yyyy with actual RFC number & remove this note

       ::= { mib-2 xxx }
-- RFC Ed.: replace xxx with  IANA-assigned number & remove this note

   -- ---------------------------------------------------------- --
   -- subtrees in the RBridge MIB
   -- ---------------------------------------------------------- --

   rbridgeNotifications  OBJECT IDENTIFIER ::= { rbridgeMIB 0 }
   rbridgeObjects        OBJECT IDENTIFIER ::= { rbridgeMIB 1 }
   rbridgeConformance    OBJECT IDENTIFIER ::= { rbridgeMIB 2 }

   rbridgeBase           OBJECT IDENTIFIER ::= { rbridgeObjects 1 }
   rbridgeFdb            OBJECT IDENTIFIER ::= { rbridgeObjects 2 }
   rbridgeVlan           OBJECT IDENTIFIER ::= { rbridgeObjects 3 }
   rbridgeEsadi          OBJECT IDENTIFIER ::= { rbridgeObjects 4 }
   rbridgeCounter        OBJECT IDENTIFIER ::= { rbridgeObjects 5 }
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 12]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   rbridgeSnooping       OBJECT IDENTIFIER ::= { rbridgeObjects 6 }
   rbridgeDtree          OBJECT IDENTIFIER ::= { rbridgeObjects 7 }
   rbridgeTrill          OBJECT IDENTIFIER ::= { rbridgeObjects 8 }

   -- ---------------------------------------------------------- --
   -- type definitions
   -- ---------------------------------------------------------- --

   RbridgeAddress ::= TEXTUAL-CONVENTION
       DISPLAY-HINT "1x:"
       STATUS current
       DESCRIPTION
           "The MAC address used by an RBridge port. This may match the
           RBridge ISIS SystemID."
   SYNTAX OCTET STRING (SIZE (6))


   RbridgeNickname ::= TEXTUAL-CONVENTION
       DISPLAY-HINT "d"
       STATUS current
       DESCRIPTION
           "The 16-bit identifier used in TRILL as an
           abbreviation for the RBridge's 48-bit IS-IS System ID.
           The value 0 means a nickname is not specified, the values
           0xffco through 0xfffe are reserved for future allocation,
           and the value 0xffff is permanently reserved."
   SYNTAX Integer32 (0..65471)

   --
   -- the rbridgeBase subtree
   --
   -- Implementation of the rbridgeBase subtree is mandatory for all
   -- RBridges.
   --

   rbridgeBaseTrillVersion OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The maximum TRILL version number that this Rbridge
           supports."
       REFERENCE
           "RBridge section 4.6"
       ::= { rbridgeBase 1 }

   rbridgeBaseNumPorts OBJECT-TYPE
      SYNTAX      Integer32
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 13]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


      UNITS       "ports"
      MAX-ACCESS  read-only
      STATUS      current
      DESCRIPTION
          "The number of ports controlled by this RBridge."
     REFERENCE
          "RBridge section 2.6.1"
      ::= { rbridgeBase 2 }

   rbridgeBaseForwardDelay OBJECT-TYPE
       SYNTAX      Integer32
       UNITS       "seconds"
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "Modified aging time for address entries after an appointed
           forwarder change. The default value is 15."
       REFERENCE
            "RBridge section 4.8.2"
      ::= { rbridgeBase 3 }

   rbridgeBaseUniMultipathEnable OBJECT-TYPE
       SYNTAX      INTEGER {
                       enabled(1),
                       disabled(2)
                   }
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The enabled/disabled status of unicast TRILL
           multipathing."
       REFERENCE
            "RBridge Appendix C"
      ::= { rbridgeBase 4 }

   rbridgeBaseMultiMultipathEnable OBJECT-TYPE
       SYNTAX      INTEGER {
                       enabled(1),
                       disabled(2)
                   }
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The enabled/disabled status of multidestination TRILL
           multipathing."
       REFERENCE
            "RBridge Appendix C"
      ::= { rbridgeBase 5 }
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 14]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   rbridgeBaseNicknameNumber OBJECT-TYPE
       SYNTAX      Integer32 (0..255)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The number of nicknames this RBridge should have.
           Default value is 1."
      ::= { rbridgeBase 6 }

   rbridgeBaseAcceptEncapNonadj OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "Accept TRILL-encapsulated frames from a neighbor with which
           this RBridge does not have an IS-IS adjacency. The default
           is false."
       REFERENCE
            "RBridge section 4.6.2"
      ::= { rbridgeBase 7 }

   -- ---------------------------------------------------------- --
   -- The RBridge Base Nickname Table
   -- ---------------------------------------------------------- --

   rbridgeBaseNicknameTable OBJECT-TYPE
      SYNTAX      SEQUENCE OF RbridgeBaseNicknameEntry
      MAX-ACCESS  not-accessible
      STATUS      current
      DESCRIPTION
       "A table that contains information about nicknames
       associated with this RBridge."
      REFERENCE
           "RBridge section 3.7"
      ::= { rbridgeBase 8 }

   rbridgeBaseNicknameEntry OBJECT-TYPE
       SYNTAX      RbridgeBaseNicknameEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A list of information for each nickname of the RBridge."
       REFERENCE
           "RBridge section 3.7"
       INDEX  { rbridgeBaseNicknameName }
       ::= { rbridgeBaseNicknameTable 1 }

   RbridgeBaseNicknameEntry ::=
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 15]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       SEQUENCE {
           rbridgeBaseNicknameName
               RbridgeNickname,
           rbridgeBaseNicknamePriority
               Integer32,
           rbridgeBaseNicknameDtrPriority
               Integer32,
           rbridgeBaseNicknameStatus
               INTEGER
       }

   rbridgeBaseNicknameName OBJECT-TYPE
       SYNTAX      RbridgeNickname
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Nicknames are 16-bit quantities that act as
            abbreviations for RBridge's 48-bit IS-IS System ID to
            achieve a more compact encoding."
       REFERENCE
           "RBridge section 3.7"
       ::= { rbridgeBaseNicknameEntry 1 }

   rbridgeBaseNicknamePriority OBJECT-TYPE
       SYNTAX      Integer32 (0..255)
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "This RBridge's priority to hold this nickname. When
           the nickname is configured, the default value of
           this object is 192."
       REFERENCE
           "RBridge section 3.7"
       DEFVAL      { 192 }
       ::= { rbridgeBaseNicknameEntry 2 }

   rbridgeBaseNicknameDtrPriority OBJECT-TYPE
       SYNTAX      Integer32 (1..65535)
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "The Distribution tree root priority for this nickname.
           The default value of this object is 32768."
       REFERENCE
           "RBridge section 4.5"
       DEFVAL      { 32768 }
       ::= { rbridgeBaseNicknameEntry 3 }

 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 16]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   rbridgeBaseNicknameStatus OBJECT-TYPE
       SYNTAX      INTEGER {
                       static(1),
                       dynamic(2),
                       invalid(3)
                   }
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "This object indicates the status of the entry. The
           default value is static(1).
               static(1) - this entry has been configured and
                   will remain after the next reset of the RBridge.
               dynamic(2) - this entry has been acquired by the
                   RBridge nickname acquisition protocol.
               invalid(3) - writing this value to the object removes
                   the corresponding entry."
       REFERENCE
           "RBridge section 3.7"
       DEFVAL      { static }
       ::= { rbridgeBaseNicknameEntry 4 }


   -- ---------------------------------------------------------- --
   -- The RBridge Port Table
   -- ---------------------------------------------------------- --

   rbridgeBasePortTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RBridgeBasePortEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table that contains generic information about every
           port that is associated with this RBridge."
       REFERENCE
           "RBridge section 5.2"
       ::= { rbridgeBase 9 }

   rbridgeBasePortEntry OBJECT-TYPE
       SYNTAX      RBridgeBasePortEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A list of information for each port of the bridge."
       REFERENCE
           "RBridge section 5.2"
       INDEX  { rbridgeBasePort }
       ::= { rbridgeBasePortTable 1 }
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 17]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   RBridgeBasePortEntry ::=
       SEQUENCE {
           rbridgeBasePort
               Integer32,
           rbridgeBasePortIfIndex
               InterfaceIndex,
           rbridgeBasePortDisable
               TruthValue,
           rbridgeBasePortTrunkPort
               TruthValue,
           rbridgeBasePortAccessPort
               TruthValue,
           rbridgeBasePortP2pHellos
               TruthValue,
           rbridgeBasePortState
               INTEGER,
           rbridgeBasePortInhibitionTime
               Integer32,
           rbridgeBasePortDisableLearning
               TruthValue,
           rbridgeBasePortDesiredDesigVlan
               VlanId,
           rbridgeBasePortDesigVlan
               VlanId,
           rbridgeBasePortStpRoot
               BridgeId,
           rbridgeBasePortStpRootChanges
               Counter32,
           rbridgeBasePortStpWiringCloset
               BridgeId
   }

   rbridgeBasePort OBJECT-TYPE
       SYNTAX      Integer32 (1..65535)
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The port number of the port for which this entry
           contains RBridge management information."
       REFERENCE
           "RBridge section 5.2"
       ::= { rbridgeBasePortEntry 1 }

   rbridgeBasePortIfIndex OBJECT-TYPE
       SYNTAX      InterfaceIndex
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 18]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


           "The value of the instance of the ifIndex object,
           defined in IF-MIB, for the interface corresponding
           to this port."
       ::= { rbridgeBasePortEntry 2 }

   rbridgeBasePortDisable OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "Disable port bit. When this bit is set (true), all frames
           received or to be transmitted are discarded, with the
           possible exception of some layer 2 control frames that may
           be generated and transmitted or received and processed
           locally. Default value is false."
       REFERENCE
          "RBridge section 4.9.1"
       DEFVAL      { false }
       ::= { rbridgeBasePortEntry 3 }

   rbridgeBasePortTrunkPort OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "End station service disable (trunk port) bit. When this bit
           is set (true), all native frames received on the port and all
           native frames that would have been sent on the port are
           discarded. Default value is false."
       REFERENCE
          "RBridge clause 4.9.1"
       DEFVAL      { false }
       ::= { rbridgeBasePortEntry 4 }

   rbridgeBasePortAccessPort OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "TRILL traffic disable (access port) bit. If this bit is set,
           the goal is to avoid sending any TRILL frames, except
           TRILL-Hello frames, on the port since it is intended only for
           native end station traffic.  This ensures that the link is
           not on the shortest path for any destination. Default value
           is false."
       REFERENCE
          "RBridge clause 4.9.1"
       DEFVAL      { false }
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 19]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       ::= { rbridgeBasePortEntry 5 }

   rbridgeBasePortP2pHellos OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "Use P2P Hellos bit. If this bit is set, Hellos sent on this
           port are IS-IS P2P Hellos, not the default TRILL-Hellos. In
           addition, the IS-IS P2P three-way handshake is used on P2P
           RBridge links. Default value is false."
       REFERENCE
           "RBridge clause 4.9.1"
       DEFVAL      { false }
       ::= { rbridgeBasePortEntry 6 }

   rbridgeBasePortState OBJECT-TYPE
       SYNTAX      INTEGER {
                          uninhibited(1),
                          portInhibited(2),
                          vlanInhibited(3),
                          disabled(4),
                          broken(5)
                      }
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The port's current state. If the entire port is
           inhibited, its state is portInhibited(2). If specific VLANs
           are inhibited, the state is vlanInhibited(3) and
           rbridgeVlanTable will tell which VLANs are inhibited.
           For ports that are disabled (see rbridgeBasePortDisable),
           this object will have a value of disabled(4). If the
           RBridge has detected a port that is malfunctioning, it will
           place that port into the broken(5) state."
      REFERENCE
          "RBridge section 4.2.4.3"
      ::= { rbridgeBasePortEntry 7 }

   rbridgeBasePortInhibitionTime OBJECT-TYPE
       SYNTAX      Integer32
       UNITS       "seconds"
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "Time in seconds that this RBridge will inhibit forwarding
           on this port after it observes a spanning tree root bridge
           change on a link, or receives conflicting VLAN forwarder
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 20]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


           information. The default value is 30."
       REFERENCE
            "RBridge section 4.2.4.3"
       DEFVAL      { 30 }
       ::= { rbridgeBasePortEntry 8 }

   rbridgeBasePortDisableLearning OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "Disable learning of MAC addresses seen on this port.
           The default is false."
       REFERENCE
            "RBridge section 4.8"
       DEFVAL      { false }
       ::= { rbridgeBasePortEntry 9 }

   rbridgeBasePortDesiredDesigVlan OBJECT-TYPE
       SYNTAX      VlanId
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The VLAN that a DRB will specify in its TRILL-Hellos as the
           VLAN to be used by all RBridges on the link for TRILL frames.
           This VLAN must be enabled on this port."
       REFERENCE
           "RBridge section 4.4.3"
       ::= { rbridgeBasePortEntry 10 }

   rbridgeBasePortDesigVlan OBJECT-TYPE
       SYNTAX      VlanId
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The VLAN being used on this link for TRILL frames."
       REFERENCE
           "RBridge section 4.4.3"
       ::= { rbridgeBasePortEntry 11 }

   rbridgeBasePortStpRoot OBJECT-TYPE
       SYNTAX      BridgeId
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The bridge identifier of the root of the spanning
           tree, as learned from a BPDU received on this port. For
           MSTP, this is the root bridge of the CIST. If no BPDU has
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 21]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


           been heard, the value returned is a string of zeros."
       REFERENCE
           "RBridge section 4.2.4.3"
       ::= { rbridgeBasePortEntry 12 }

   rbridgeBasePortStpRootChanges OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of times a change in the root bridge is seen from
           spanning tree BPDUs received on this port, indicating a
           change in bridged LAN topology. Each such change may cause
           the port to be inhibited for a period of time."
       REFERENCE
           "RBridge section 4.9.3.2"
       ::= { rbridgeBasePortEntry 13 }

   rbridgeBasePortStpWiringCloset OBJECT-TYPE
       SYNTAX      BridgeId
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The Bridge ID to be used as Spanning Tree root in BPDUs
           sent for the Wiring Closet topology solution described in
           [RBridge]. Note that the same value of this object must be
           set on all RBridge ports participating in this solution.
           The default value is all 0s. A non-zero value configured
           into this object indicates that this solution is in use."
       REFERENCE
           "RBridge section A.3.3"
       ::= { rbridgeBasePortEntry 14 }

   -- -------------------------------------------------------------
   -- RBridge Forwarding Database
   -- -------------------------------------------------------------

   rbridgeConfidenceNative OBJECT-TYPE
       SYNTAX      Integer32 (0..255)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The confidence level associated with MAC addresses
           learned from native frames. The default value is 32."
       REFERENCE
            "RBridge section 4.8.1"
      ::= { rbridgeFdb 1 }

 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 22]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   rbridgeConfidenceDecap OBJECT-TYPE
       SYNTAX      Integer32 (0..255)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The confidence level associated with inner MAC addresses
           learned after decapsulation of a TRILL data frame.
           The default value is 32."
       REFERENCE
            "RBridge Appendix section 4.8.1"
      ::= { rbridgeFdb 2 }

   rbridgeConfidenceStatic OBJECT-TYPE
       SYNTAX      Integer32 (0..255)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The confidence level associated with MAC addresses that
           are statically configured. The default value is 255."
       REFERENCE
            "RBridge section 4.8.2"
       DEFVAL      { 255 }
       ::= { rbridgeFdb 3 }



   -- -------------------------------------------------------------
   -- Multiple Forwarding Databases for RBridges
   -- This allows for an instance per FdbId, defined in Bridge MIB.
   -- Each VLAN may have an independent Fdb, or multiple VLANs may
   -- share one.
   -- -------------------------------------------------------------

   rbridgeUniFdbTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeUniFdbEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table that contains information about unicast entries
           for which the device has forwarding and/or filtering
           information.  This information is used by the
           transparent bridging function in determining how to
           propagate a received frame."
       REFERENCE
           "RBridge section 4.8"
       ::= { rbridgeFdb 4 }

   rbridgeUniFdbEntry OBJECT-TYPE
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 23]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       SYNTAX      RbridgeUniFdbEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Information about a specific unicast MAC address for
           which the rbridge has some forwarding and/or filtering
           information."
       INDEX   { dot1qFdbId, rbridgeUniFdbAddr }
       ::= { rbridgeUniFdbTable 1 }

   RbridgeUniFdbEntry ::=
       SEQUENCE {
           rbridgeUniFdbAddr
               MacAddress,
           rbridgeUniFdbPort
               Integer32,
           rbridgeUniFdbNick
               RbridgeNickname,
           rbridgeUniFdbConfidence
               Integer32,
           rbridgeUniFdbStatus
               INTEGER
       }

   rbridgeUniFdbAddr OBJECT-TYPE
       SYNTAX      MacAddress
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A unicast MAC address for which the device has
           forwarding information."
       ::= { rbridgeUniFdbEntry 1 }

   rbridgeUniFdbPort OBJECT-TYPE
       SYNTAX      Integer32 (0..65535)
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Either the value '0', or the port number of the port on
           which a frame having a source address equal to the value
           of the corresponding instance of rbridgeUniFdbAddress has
           been seen.  A value of '0' indicates that the port
           number has not been learned but that the device does have
           some information about this MAC address.
           Implementors are encouraged to assign the port value to
           this object whenever it is available, even for addresses
           for which the corresponding value of rbridgeUniFdbStatus is
           not learned(3)."
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 24]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       ::= { rbridgeUniFdbEntry 2 }

   rbridgeUniFdbNick OBJECT-TYPE
       SYNTAX      RbridgeNickname
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The RBridge nickname which is placed in the Egress
           Nickname field of a TRILL frame sent to this
           rbridgeFdbAddress in this FdbId."
      REFERENCE
           "RBridge section 4.8.1"
       ::= { rbridgeUniFdbEntry 3 }

   rbridgeUniFdbConfidence OBJECT-TYPE
       SYNTAX      Integer32 (0..254)
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The confidence level associated with this entry."
      REFERENCE
           "RBridge section 4.8.1"
       ::= { rbridgeUniFdbEntry 4 }

   rbridgeUniFdbStatus OBJECT-TYPE
       SYNTAX      INTEGER {
                       other(1),
                       invalid(2),
                       learned(3),
                       self(4),
                       mgmt(5),
                       esadi(6)
                   }
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The status of this entry.  The meanings of the values
           are:
               other(1) - none of the following.
               invalid(2) - this entry is no longer valid (e.g., it
                   was learned but has since aged out), but has not
                   yet been flushed from the table.
               learned(3) - the information in this entry was learned
                   and is being used.
               self(4) - the value of the corresponding instance of
                   rbridgeFdbAddress represents one of the device's
                   addresses.  The corresponding instance of
                   rbridgeFdbPort indicates which of the device's
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 25]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


                   ports has this address.
               mgmt(5) - the value of the corresponding instance of
                   rbridgeFdbAddress was configured by management.
               esadi(6) - the value of the corresponding instance of
                   rbridgeFdbAddress was learned from ESADI."
       ::= { rbridgeUniFdbEntry 5 }

   -- -------------------------------------------------------------
   -- RBridge FIB
   -- -------------------------------------------------------------

   rbridgeUniFibTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeUniFibEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table that contains information about nicknames
           known by the RBridge. If ECMP is implemented, there are
           as many entries for a nickname as ECMP paths available for
           it."
       ::= { rbridgeFdb 5 }

   rbridgeUniFibEntry OBJECT-TYPE
       SYNTAX      RbridgeUniFibEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A list of information about nicknames known by the RBridge.
           If ECMP is implemented, there are as many entries as ECMP
           paths available for a given nickname."
       INDEX   { rbridgeFibNickname, rbridgeFibPort }
       ::= { rbridgeUniFibTable 1 }

   RbridgeUniFibEntry ::=
       SEQUENCE {
           rbridgeFibNickname
               RbridgeNickname,
           rbridgeFibPort
               Integer32,
           rbridgeFibMacAddress
               RbridgeAddress
       }

   rbridgeFibNickname OBJECT-TYPE
       SYNTAX      RbridgeNickname
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 26]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


           "An RBridge nickname for which this RBridge has
           forwarding information."
       ::= { rbridgeUniFibEntry 1 }

   rbridgeFibPort OBJECT-TYPE
       SYNTAX      Integer32 (0..65535)
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The port number of the port attached to the next-hop
           RBridge for the path towards the RBridge whose nickname
           is specified in this entry."
       ::= { rbridgeUniFibEntry 2 }

   rbridgeFibMacAddress OBJECT-TYPE
       SYNTAX      RbridgeAddress
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The MAC address of the next-hop RBridge for the path
           towards the RBridge whose nickname is specified in this
           entry."
       ::= { rbridgeUniFibEntry 3 }

   rbridgeMultiFibTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeMultiFibEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table that contains information about egress nicknames
           used for multi-destination frame forwarding by this
           RBridge."
       ::= { rbridgeFdb 6 }

   rbridgeMultiFibEntry OBJECT-TYPE
       SYNTAX      RbridgeMultiFibEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A list of information about egress nicknames used for
           multi-destination frame forwarding by this RBridge."
       INDEX   { rbridgeMultiFibNickname }
       ::= { rbridgeMultiFibTable 1 }

   RbridgeMultiFibEntry ::=
       SEQUENCE {
           rbridgeMultiFibNickname
               RbridgeNickname,
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 27]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


           rbridgeMultiFibPorts
               PortList
       }

   rbridgeMultiFibNickname OBJECT-TYPE
       SYNTAX      RbridgeNickname
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The nickname of the multicast distribution tree."
       ::= { rbridgeMultiFibEntry 1 }

   rbridgeMultiFibPorts OBJECT-TYPE
       SYNTAX      PortList
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The list of ports to which a frame destined to this
           multicast distribution tree is flooded. This may be pruned
           further based on other forwarding information."
       ::= { rbridgeMultiFibEntry 2 }


   -- ---------------------------------------------------------- --
   -- The RBridge VLAN Table
   -- ---------------------------------------------------------- --

   rbridgeVlanTable  OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeVlanEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table that contains information about VLANs on the
           RBridge."
       ::= { rbridgeVlan 1 }

   rbridgeVlanEntry OBJECT-TYPE
       SYNTAX      RbridgeVlanEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A list of information about VLANs on the RBridge."
       INDEX   { dot1qVlanIndex }
       ::= { rbridgeVlanTable 1 }

   RbridgeVlanEntry ::=
       SEQUENCE {
           rbridgeVlanForwarderLost
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 28]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


               Counter32,
           rbridgeVlanDisableLearning
               TruthValue,
           rbridgeVlanSnooping
               INTEGER
       }

   rbridgeVlanForwarderLost OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of times this RBridge has lost appointed
           forwarder status for this VLAN on any of its ports."
       REFERENCE
           "RBridge section 4.8.2"
       ::= { rbridgeVlanEntry 1 }

   rbridgeVlanDisableLearning OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "Disable learning of MAC addresses seen in this VLAN.
           One application of this may be to restrict learning to
           ESADI. The default is false."
       REFERENCE
            "RBridge section 4.8"
       DEFVAL      { false }
       ::= { rbridgeVlanEntry 2 }

   rbridgeVlanSnooping OBJECT-TYPE
       SYNTAX      INTEGER {
                       notSupported(1),
                       ipv4(2),
                       ipv4v6(3)
                   }
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "IP Multicast Snooping on this VLAN. For RBridges
           performing both IPv4 and IPv6 IP Multicast Snooping, the
           value returned is ipv4v6(3)."
       REFERENCE
           "RBridge section 4.7"
       ::= { rbridgeVlanEntry 3 }

   -- ---------------------------------------------------------- --
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 29]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   -- The RBridge VLAN Port Table
   -- ---------------------------------------------------------- --

   rbridgeVlanPortTable  OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeVlanPortEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table that contains information about VLANs on an RBridge
           port."
       ::= { rbridgeVlan 2 }

   rbridgeVlanPortEntry OBJECT-TYPE
       SYNTAX      RbridgeVlanPortEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A list of information about VLANs on the RBridge port."
       INDEX   { dot1qVlanIndex, rbridgeBasePort }
       ::= { rbridgeVlanPortTable 1 }

   RbridgeVlanPortEntry ::=
       SEQUENCE {
           rbridgeVlanPortInhibited
               TruthValue,
           rbridgeVlanPortForwarder
               TruthValue,
           rbridgeVlanPortAnnouncing
               TruthValue,
           rbridgeVlanPortDetectedVlanMapping
               TruthValue
       }

   rbridgeVlanPortInhibited OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "This VLAN has been inhibited by the RBridge due to
           conflicting Forwarder information received from another
           RBridge."
       REFERENCE
           "RBridge section 4.2.4.3"
       ::= { rbridgeVlanPortEntry 1 }

   rbridgeVlanPortForwarder OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 30]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       STATUS      current
       DESCRIPTION
           "This RBridge is an Appointed Forwarder for this VLAN on
           this port."
       REFERENCE
           "RBridge section 4.2.4.3"
       ::= { rbridgeVlanPortEntry 2 }

   rbridgeVlanPortAnnouncing OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "TRILL-Hellos tagged with this VLAN can be sent by this
           RBridge on this port. Defaults to true for enabled
           VLANs."
       REFERENCE
           "RBridge section 4.4.3"
       DEFVAL      { true }
       ::= { rbridgeVlanPortEntry 3 }

   rbridgeVlanPortDetectedVlanMapping OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "VLAN mapping has been detected on the link attached
           to this port."
       REFERENCE
           "RBridge section 4.4.5"
       ::= { rbridgeVlanPortEntry 4 }


   -- ---------------------------------------------------------- --
   -- The RBridge Port Table
   -- ---------------------------------------------------------- --

   rbridgePortCounterTable  OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgePortCounterEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table contains per-port counters for this RBridge."
       ::= { rbridgeCounter 1 }

   rbridgePortCounterEntry OBJECT-TYPE
       SYNTAX      RbridgePortCounterEntry
       MAX-ACCESS  not-accessible
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 31]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       STATUS      current
       DESCRIPTION
           "Counters for a port on this RBridge."
       INDEX   { rbridgeBasePort }
       ::= { rbridgePortCounterTable 1 }

   RbridgePortCounterEntry ::=
       SEQUENCE {
           rbridgePortRpfChecksFailed
               Counter32,
           rbridgePortHopCountsExceeded
               Counter32,
           rbridgePortOptions
               Counter32,
           rbridgePortTrillInFrames
               Counter32,
           rbridgePortTrillOutFrames
               Counter32,
           rbridgePortTrillInOverflowFrames
               Counter32,
           rbridgePortTrillOutOverflowFrames
               Counter32
       }

   rbridgePortRpfChecksFailed OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of times a multidestination frame was
           dropped on this port because the RPF check failed."
       REFERENCE
           "RBridge section 4.5.2"
       ::= { rbridgePortCounterEntry 1 }

   rbridgePortHopCountsExceeded OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of times a frame was dropped on this port
           because its hop count was zero."
       REFERENCE
           "RBridge section 3.6"
       ::= { rbridgePortCounterEntry 2 }

   rbridgePortOptions OBJECT-TYPE
       SYNTAX      Counter32
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 32]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of times a frame was dropped on this port
           because it contained unsupported options."
       REFERENCE
           "RBridge section 3.5"
       ::= { rbridgePortCounterEntry 3 }

   rbridgePortTrillInFrames OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of TRILL-encapsulated frames that have been
           received by this port from its attached link, including
           management frames."
       REFERENCE
           "RBridge section 2.3"
       ::= { rbridgePortCounterEntry 4 }

   rbridgePortTrillOutFrames OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of TRILL-encapsulated frames that have been
           transmitted by this port to its attached link, including
           management frames."
       REFERENCE
           "RBridge section 2.3"
       ::= { rbridgePortCounterEntry 5 }

   rbridgePortTrillInOverflowFrames OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of times the rbridgePortTrillInFrames
           counter on this port has overflowed."
       ::= { rbridgePortCounterEntry 6 }

   rbridgePortTrillOutOverflowFrames OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of times the rbridgePortTrillOutFrames
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 33]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


           counter on this port has overflowed."
       ::= { rbridgePortCounterEntry 7 }


   -- ---------------------------------------------------------- --
   -- The RBridge VLAN ESADI Table
   -- ---------------------------------------------------------- --

   rbridgeEsadiTable  OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeEsadiEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table that contains information about ESADI instances on
           VLANs, if available."
       REFERENCE
           "RBridge section 4.2.5"
       ::= { rbridgeEsadi 1 }

   rbridgeEsadiEntry OBJECT-TYPE
       SYNTAX      RbridgeEsadiEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Information about an ESADI instance on a VLAN."
       INDEX   { dot1qVlanIndex }
       ::= { rbridgeEsadiTable 1 }

   RbridgeEsadiEntry ::=
       SEQUENCE {
           rbridgeEsadiStatus
               INTEGER,
           rbridgeEsadiConfidence
               Integer32,
           rbridgeEsadiDrbPriority
               Integer32,
           rbridgeEsadiDrb
               RbridgeAddress,
           rbridgeEsadiDrbHoldingTime
               Integer32
       }

   rbridgeEsadiStatus OBJECT-TYPE
       SYNTAX      INTEGER {
                       enabled(1),
                       disabled(2),
                       delete(3)
                   }
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 34]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "If the RBridge is participating in an ESADI instance for
           this VLAN, the default value is enabled(1). To delete this
           instance, the value delete(3) is written to this object."
       REFERENCE
           "RBridge section 4.2.5"
       DEFVAL      { enabled }
       ::= { rbridgeEsadiEntry 1 }

   rbridgeEsadiConfidence OBJECT-TYPE
       SYNTAX      Integer32 (0..254)
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "Confidence level of address entries sent by this
           ESADI. The default is 16."
       REFERENCE
           "RBridge section 4.2.5"
       DEFVAL      { 16 }
       ::= { rbridgeEsadiEntry 2 }

   rbridgeEsadiDrbPriority OBJECT-TYPE
       SYNTAX      Integer32 (0..127)
       MAX-ACCESS  read-create
       STATUS      current
       DESCRIPTION
           "The priority of this RBridge for being selected as
           DRB for this ESADI instance."
       REFERENCE
           "RBridge section 4.2.5"
       ::= { rbridgeEsadiEntry 3 }

   rbridgeEsadiDrb OBJECT-TYPE
       SYNTAX      RbridgeAddress
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The DRB on this ESADI instance's virtual link."
       REFERENCE
           "RBridge section 4.2.5"
       ::= { rbridgeEsadiEntry 4 }

   rbridgeEsadiDrbHoldingTime OBJECT-TYPE
       SYNTAX      Integer32(0..127)
       MAX-ACCESS  read-create
       STATUS      current
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 35]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       DESCRIPTION
           "The holding time for this ESADI instance."
       REFERENCE
           "RBridge section 4.2.5"
       ::= { rbridgeEsadiEntry 5 }


   -- ---------------------------------------------------------- --
   -- The RBridge IP Multicast Snooping Port Table
   -- ---------------------------------------------------------- --

   rbridgeSnoopingPortTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeSnoopingPortEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "For Rbridges implementing IP Multicast Snooping,
            information about ports on which the presence of IPv4
           or IPv6 Multicast Routers has been detected."
       REFERENCE
           "RBridge section 4.7"
       ::= { rbridgeSnooping 1 }

   rbridgeSnoopingPortEntry OBJECT-TYPE
       SYNTAX      RbridgeSnoopingPortEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Information about ports on which the presence of IPv4
           or IPv6 Multicast Routers has been detected."
       INDEX   { rbridgeBasePort }
       ::= { rbridgeSnoopingPortTable 1 }

   RbridgeSnoopingPortEntry ::=
       SEQUENCE {
           rbridgeSnoopingPortAddrType
               InetAddressType,
           rbridgeSnoopingPortAddr
               InetAddress
       }

   rbridgeSnoopingPortAddrType OBJECT-TYPE
       SYNTAX      InetAddressType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The IP address type of an IP multicast router detected
           on this port."
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 36]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       REFERENCE
           "RBridge section 4.7"
       ::= { rbridgeSnoopingPortEntry 1 }

   rbridgeSnoopingPortAddr OBJECT-TYPE
       SYNTAX      InetAddress
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The IP address of an IP multicast router detected on
           this port."
       REFERENCE
           "RBridge section 4.7"
       ::= { rbridgeSnoopingPortEntry 2 }

   -- ---------------------------------------------------------- --
   -- The RBridge IP Multicast Snooping Address Table
   -- ---------------------------------------------------------- --

   rbridgeSnoopingAddrTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeSnoopingAddrEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "For Rbridges implementing IP Multicast Snooping,
            information about IP Multicast addresses being
            snooped."
       REFERENCE
           "RBridge section 4.8"
       ::= { rbridgeSnooping 2 }

   rbridgeSnoopingAddrEntry OBJECT-TYPE
       SYNTAX      RbridgeSnoopingAddrEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Information about IP Multicast addresses being
            snooped."
       INDEX  { dot1qVlanIndex, rbridgeSnoopingAddrType,
                rbridgeSnoopingAddr }
       ::= { rbridgeSnoopingAddrTable 1 }

   RbridgeSnoopingAddrEntry ::=
       SEQUENCE {
           rbridgeSnoopingAddrType
               InetAddressType,
           rbridgeSnoopingAddr
               InetAddress,
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 37]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


           rbridgeSnoopingAddrPorts
               PortList
       }

   rbridgeSnoopingAddrType OBJECT-TYPE
       SYNTAX      InetAddressType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The IP multicast address type for which a listener has been
           detected by this RBridge."
       REFERENCE
           "RBridge section 4.7"
       ::= { rbridgeSnoopingAddrEntry 1 }

   rbridgeSnoopingAddr OBJECT-TYPE
       SYNTAX      InetAddress
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The IP multicast address for which a listener has been
           detected by this RBridge."
       REFERENCE
           "RBridge section 4.7"
       ::= { rbridgeSnoopingAddrEntry 2 }

   rbridgeSnoopingAddrPorts OBJECT-TYPE
       SYNTAX      PortList
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The set of ports on which a listener has been detected
           for this IP multicast address."
       REFERENCE
           "RBridge section 4.7"
       ::= { rbridgeSnoopingAddrEntry 3 }


   -- ---------------------------------------------------------- --
   -- Distribution Trees
   -- ---------------------------------------------------------- --

   rbridgeDtreePriority OBJECT-TYPE
       SYNTAX      Integer32 (1..65535)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The Distribution tree root priority for this Rbridge.
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 38]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


            The default value of this object is 32768."
       REFERENCE
           "RBridge section 4.5"
       ::= { rbridgeDtree 1 }

   rbridgeDtreeActiveTrees OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of trees being computed by all Rbridges
           campus."
       REFERENCE
           "RBridge section 4.5"
       ::= { rbridgeDtree 2 }

   rbridgeDtreeMaxTrees OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The maximum number of trees this Rbridge can compute."
       REFERENCE
           "RBridge section 4.5"
       ::= { rbridgeDtree 3 }

   rbridgeDtreeDesiredUseTrees OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The maximum number of trees this Rbridge would like to
           use for transmission of ingress multi-destination frames."
       REFERENCE
           "RBridge section 4.5"
       ::= { rbridgeDtree 4 }

   rbridgeDtreeTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeDtreeEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Information about Distribution Trees being computed
           by this Rbridge."
       REFERENCE
           "RBridge section 4.5"
       ::= { rbridgeDtree 5 }

 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 39]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   rbridgeDtreeEntry OBJECT-TYPE
       SYNTAX      RbridgeDtreeEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "List of information about Distribution Trees being computed
           by this Rbridge."
       INDEX  { rbridgeDtreeNumber }
       ::= { rbridgeDtreeTable 1 }

   RbridgeDtreeEntry ::=
       SEQUENCE {
           rbridgeDtreeNumber
               Integer32,
           rbridgeDtreeNick
               RbridgeNickname,
           rbridgeDtreeIngress
               TruthValue
       }

   rbridgeDtreeNumber OBJECT-TYPE
       SYNTAX      Integer32 (0..65535)
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The tree number of a distribution tree being computed by
           this RBridge."
       REFERENCE
           "RBridge section 4.5"
       ::= { rbridgeDtreeEntry 1 }

   rbridgeDtreeNick OBJECT-TYPE
       SYNTAX      RbridgeNickname
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The nickname of the distribution tree."
       REFERENCE
           "RBridge section 4.5"
       ::= { rbridgeDtreeEntry 2 }

   rbridgeDtreeIngress OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Indicates whether this RBridge might choose this
           distribution tree to ingress a multi-destination frame."
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 40]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       REFERENCE
           "RBridge section 4.5"
       ::= { rbridgeDtreeEntry 3 }


   -- ---------------------------------------------------------- --
   -- TRILL neighbor list
   -- ---------------------------------------------------------- --

   rbridgeTrillMinMtuDesired OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The desired minimum acceptable inter-RBridge link MTU for
           the campus, that is, originatingLSPBufferSize. The default
           is 1470 bytes."
       REFERENCE
           "RBridge section 4.3"
       ::= { rbridgeTrill 1 }

   rbridgeTrillSz OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The minimum acceptable inter-Rbridge link size for the
           campus for the proper operation of TRILL IS-IS."
       REFERENCE
           "RBridge section 4.3"
       ::= { rbridgeTrill 2 }

   rbridgeTrillMaxMtuProbes OBJECT-TYPE
       SYNTAX      Integer32 (1..255)
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The number of failed MTU-probes before the RBridge
           concludes that a particular MTU is not supported by
           a neighbor. The default is 3."
       REFERENCE
           "RBridge section 4.3"
       ::= { rbridgeTrill 3 }

   rbridgeTrillNbrTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeTrillNbrEntry
       MAX-ACCESS  not-accessible
       STATUS      current
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 41]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       DESCRIPTION
           "Information about this Rbridge's TRILL neighbors."
       REFERENCE
           "RBridge section 4.4.2.1"
       ::= { rbridgeTrill 4 }

   rbridgeTrillNbrEntry OBJECT-TYPE
       SYNTAX      RbridgeTrillNbrEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "List of information about this Rbridge's TRILL neighbors."
       INDEX  { rbridgeTrillNbrMacAddr }
       ::= { rbridgeTrillNbrTable 1 }

   RbridgeTrillNbrEntry ::=
       SEQUENCE {
           rbridgeTrillNbrMacAddr
               MacAddress,
           rbridgeTrillNbrMtu
               Integer32,
           rbridgeTrillNbrFailedMtuTest
               TruthValue
       }

   rbridgeTrillNbrMacAddr OBJECT-TYPE
       SYNTAX      MacAddress
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The MAC address of a neighbor of this RBridge."
       REFERENCE
           "RBridge section 4.4.2.1"
       ::= { rbridgeTrillNbrEntry 1 }

   rbridgeTrillNbrMtu OBJECT-TYPE
       SYNTAX      Integer32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "MTU size to this neighbor for IS-IS communication purposes."
       REFERENCE
           "RBridge section 4.3.2"
       ::= { rbridgeTrillNbrEntry 2 }

   rbridgeTrillNbrFailedMtuTest OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 42]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       STATUS      current
       DESCRIPTION
           "If true, indicates that the neighbor's tested MTU is less
           than the minimum acceptable inter-bridge link MTU for the
           campus (1470)."
       REFERENCE
           "RBridge section 4.3.1"
       ::= { rbridgeTrillNbrEntry 3 }


   -- ---------------------------------------------------------- --
   -- Notifications for use by RBridges
   -- ---------------------------------------------------------- --

   rbridgeBaseNewDrb NOTIFICATION-TYPE
       -- OBJECTS     { }
       STATUS      current
       DESCRIPTION
           "The RBridgeBaseNewDrb trap indicates that the sending agent
           has become the new Designated RBridge; the trap is
           sent by an RBridge soon after its election as the new DRB
           root, e.g., upon expiration of the Topology Change Timer,
           immediately subsequent to its election.  Implementation
           of this trap is optional."
       ::= { rbridgeNotifications 1 }

   rbridgeBaseTopologyChange NOTIFICATION-TYPE
       -- OBJECTS     { }
       STATUS      current
       DESCRIPTION
           "RBridgeBaseTopologyChange trap is sent by an RBridge when
           any of its configured ports transitions to/from Vlan-x
           designated forwarder.  The trap is not sent if a newDrb
           trap is sent for the same transition.  Implementation of
           this trap is optional."
       ::= { rbridgeNotifications 2 }

-- Compliance and Group sections

   rbridgeGroup          OBJECT IDENTIFIER ::= { rbridgeConformance 1 }

   rbridgeCompliances    OBJECT IDENTIFIER ::= { rbridgeConformance 2 }


   -- ---------------------------------------------------------- --
   -- Units of Conformance
   -- ---------------------------------------------------------- --

 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 43]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   rbridgeBaseGroup OBJECT-GROUP
       OBJECTS {
           rbridgeBaseTrillVersion,
           rbridgeBaseNumPorts,
           rbridgeBaseForwardDelay,
           rbridgeBaseUniMultipathEnable,
           rbridgeBaseMultiMultipathEnable,
           rbridgeBaseNicknameNumber,
           rbridgeBaseAcceptEncapNonadj
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing basic control
           and status information for the RBridge."
       ::= { rbridgeGroup 1 }

   rbridgeBaseNicknameGroup OBJECT-GROUP
       OBJECTS {
           rbridgeBaseNicknamePriority,
           rbridgeBaseNicknameDtrPriority,
           rbridgeBaseNicknameStatus
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing basic control
           and status information for RBridge nicknames."
       ::= { rbridgeGroup 2 }

   rbridgeBasePortGroup OBJECT-GROUP
       OBJECTS {
           rbridgeBasePortIfIndex,
           rbridgeBasePortDisable,
           rbridgeBasePortTrunkPort,
           rbridgeBasePortAccessPort,
           rbridgeBasePortP2pHellos,
           rbridgeBasePortState,
           rbridgeBasePortDesiredDesigVlan,
           rbridgeBasePortDesigVlan,
           rbridgeBasePortInhibitionTime,
           rbridgeBasePortDisableLearning,
           rbridgeBasePortStpRoot,
           rbridgeBasePortStpRootChanges,
           rbridgeBasePortStpWiringCloset        
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing basic control
           and status information for RBridge ports."
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 44]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       ::= { rbridgeGroup 3 }

   rbridgeFdbGroup OBJECT-GROUP
       OBJECTS {
           rbridgeConfidenceNative,
           rbridgeConfidenceDecap,
           rbridgeConfidenceStatic,
           rbridgeUniFdbPort,
           rbridgeUniFdbNick,
           rbridgeUniFdbConfidence,
           rbridgeUniFdbStatus
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing information
           about the Unicast Address Database."
       ::= { rbridgeGroup 4 }

   rbridgeFibGroup OBJECT-GROUP
       OBJECTS {
           rbridgeFibMacAddress,
           rbridgeMultiFibPorts
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing information
           about the Unicast and Multicast FIBs."
       ::= { rbridgeGroup 5 }

   rbridgeVlanGroup OBJECT-GROUP
       OBJECTS {
           rbridgeVlanForwarderLost,
           rbridgeVlanDisableLearning,
           rbridgeVlanSnooping,
           rbridgeVlanPortInhibited,
           rbridgeVlanPortForwarder,
           rbridgeVlanPortAnnouncing,
           rbridgeVlanPortDetectedVlanMapping
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing information
           about VLANs on the RBridge."
       ::= { rbridgeGroup 6 }

   rbridgePortCoounterGroup OBJECT-GROUP
       OBJECTS {

 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 45]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


           rbridgePortRpfChecksFailed,
           rbridgePortHopCountsExceeded,
           rbridgePortOptions,
           rbridgePortTrillInFrames,
           rbridgePortTrillOutFrames,
           rbridgePortTrillInOverflowFrames,
           rbridgePortTrillOutOverflowFrames
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing per-port
           counters for the RBridge."
       ::= { rbridgeGroup 7 }

   rbridgeEsadiGroup OBJECT-GROUP
       OBJECTS {
           rbridgeEsadiStatus,
           rbridgeEsadiConfidence,
           rbridgeEsadiDrbPriority,
           rbridgeEsadiDrb,
           rbridgeEsadiDrbHoldingTime
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing information
           about ESADI instances on the RBridge."
       ::= { rbridgeGroup 8 }

   rbridgeSnoopingGroup OBJECT-GROUP
       OBJECTS {
           rbridgeSnoopingPortAddrType,
           rbridgeSnoopingPortAddr,
           rbridgeSnoopingAddrPorts
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing information
           about IP Multicast Snooping."
       ::= { rbridgeGroup 9 }

   rbridgeDtreeGroup OBJECT-GROUP
       OBJECTS {
           rbridgeDtreePriority,
           rbridgeDtreeActiveTrees,
           rbridgeDtreeMaxTrees,
           rbridgeDtreeDesiredUseTrees,
           rbridgeDtreeNick,
           rbridgeDtreeIngress
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 46]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing information
           about Distribution Trees."
       ::= { rbridgeGroup 10 }

   rbridgeTrillGroup OBJECT-GROUP
       OBJECTS {
           rbridgeTrillMinMtuDesired,
           rbridgeTrillSz,
           rbridgeTrillMaxMtuProbes,
           rbridgeTrillNbrMtu,
           rbridgeTrillNbrFailedMtuTest
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing information
           about TRILL neighbors."
       ::= { rbridgeGroup 11 }

   rbridgeNotificationGroup NOTIFICATION-GROUP
       NOTIFICATIONS {
           rbridgeBaseNewDrb,
           rbridgeBaseTopologyChange 
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects describing notifications (traps)."
       ::= { rbridgeGroup 12 }



   -- ---------------------------------------------------------- --
   -- Compliance Statement
   -- ---------------------------------------------------------- --

   rbridgeCompliance MODULE-COMPLIANCE
          STATUS      current
          DESCRIPTION
              "The compliance statement for support of RBridge
              services."

          MODULE
              MANDATORY-GROUPS {
                  rbridgeBaseGroup,
                  rbridgeBaseNicknameGroup,
                  rbridgeBasePortGroup,
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 47]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


                  rbridgeFdbGroup,
                  rbridgeFibGroup,
                  rbridgeVlanGroup,
                  rbridgeDtreeGroup,
                  rbridgeTrillGroup
              }

          GROUP   rbridgePortCoounterGroup
          DESCRIPTION
              "Implementation of this group is optional."

          GROUP   rbridgeEsadiGroup
          DESCRIPTION
              "Implementation of this group is optional."

          GROUP   rbridgeSnoopingGroup
          DESCRIPTION
              "Implementation of this group is optional."

          GROUP   rbridgeNotificationGroup
          DESCRIPTION
              "Implementation of this group is optional."

          ::= { rbridgeCompliances 1 }



      END


8. Security Considerations

   This MIB relates to a system which will provide network connectivity
   and packet forwarding services. As such, improper manipulation of the
   objects represented by this MIB may result in denial of service to a
   large number of end-users.

   There are a number of management objects defined in this MIB module
   with a MAX-ACCESS clause of read-write and/or read-create.  Such
   objects may be considered sensitive or vulnerable in some network
   environments.  The support for SET operations in a non-secure
   environment without proper protection can have a negative effect on
   network operations.  These tables and objects and their
   sensitivity/vulnerability are described below.

   The following tables and objects in the RBRIDGE-MIB can be
   manipulated to interfere with the operation of RBridges:

 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 48]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   o rbridgeBaseUniMultipathEnable affects the ability of the RBridge to
   multipath unicast traffic, and rbridgeBaseMultiMultipathEnable
   affects the ability of the Rbridge to multipath multi-destination
   traffic.

   o rbridgeBasePortTable contains a number of objects that may affect
   network connectivity. Actions that may be triggered by manipulating
   objects in this table include disabling of an RBridge port;
   discarding of native packets; disabling learning and others.

   o rbridgeEsadiTable contains objects that affect the operation of the
   ESADI protocol used for learning, and manipulation of the objects
   contained therein can be used to confuse the learning ability of
   Rbridges.

   o rbridgeDtreePriority can affect computation of distribution trees
   within an Rbridge campus, thereby affecting forwarding of multi-
   destination traffic.

   o rbridgeTrillMinMtuDesired can affect the size of packets being used
   to exchange information between RBridges. 

   Some of the readable objects in this MIB module (i.e., objects with a
   MAX-ACCESS other than not-accessible) may be considered sensitive or
   vulnerable in some network environments.  It is thus important to
   control even GET and/or NOTIFY access to these objects and possibly
   to even encrypt the values of these objects when sending them over
   the network via SNMP. For example, access to network topology and
   Rbridge attributes can reveal information that should not be
   available to all users of the network.

   SNMP versions prior to SNMPv3 did not include adequate security. Even
   if the network itself is secure (for example by using IPsec), there
   is no control as to who on the secure network is allowed to access
   and GET/SET (read/change/create/delete) the objects in this MIB
   module.

   It is RECOMMENDED that implementers consider the security features as
   provided by the SNMPv3 framework (see [RFC3410], section 8),
   including full support for the SNMPv3 cryptographic mechanisms (for
   authentication and privacy).

   Further, deployment of SNMP versions prior to SNMPv3 is NOT
   RECOMMENDED.  Instead, it is RECOMMENDED to deploy SNMPv3 and to
   enable cryptographic security.  It is then a customer/operator
   responsibility to ensure that the SNMP entity giving access to an
   instance of this MIB module is properly configured to give access to
   the objects only to those principals (users) that have legitimate
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 49]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   rights to indeed GET or SET (change/create/delete) them.

   For other RBridge security considerations see [RBridge].

9. IANA Considerations

   The MIB module in this document uses the following IANA-assigned
   OBJECT IDENTIFIER value recorded in the SMI Numbers registry:


   Descriptor OBJECT IDENTIFIER value

   ---------- -----------------------


   rbridgeMIB { mib-2 XXX }


   Editor's Note (to be removed prior to publication): the IANA is
   requested to assign a value for "XXX" under the 'mib-2' subtree and
   to record the assignment in the SMI Numbers registry.  When the
   assignment has been made, the RFC Editor is asked to replace "XXX"
   (here and in the MIB module) with the assigned value and to remove
   this note.

10. Contributors

   The authors would like to acknowledge the contributions of Donald
   Eastlake, Radia Perlman and Anoop Ghanwani.  We invite you to join
   the mailing list at http://www.postel.org/rbridge.

11. References

11.1 Normative References

   [RBridge]      Perlman, R., Eastlake, D., Dutt, D., Gai, S., and A.
                  Ghanwani, "RBridges: Base Protocol Specification",
                  Work in Progress, January 2010.

   [RFC2119]      Bradner, S., "Key words for use in RFCs to Indicate
                  Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2578]      McCloghrie, K., Ed., Perkins, D., Ed., and J.
                  Schoenwaelder, Ed., "Structure of Management
                  Information Version 2 (SMIv2)", STD 58, RFC 2578,
                  April 1999.

   [RFC2579]      McCloghrie, K., Ed., Perkins, D., Ed., and J.
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 50]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


                  Schoenwaelder, Ed., "Textual Conventions for SMIv2",
                  STD 58, RFC 2579, April 1999.

   [RFC2863]      McCloghrie, K. and F. Kastenholz, "The Interfaces
                  Group MIB", RFC 2863, June 2000.

   [RFC4188]      Norseth, K. and E. Bell, "Definitions of Managed
                  Objects for Bridges", RFC 4188, September 2005.

   [RFC4363]      Levi, D. and D. Harrington, "Definitions of Managed
                  Objects for Bridges with Traffic Classes, Multicast
                  Filtering, and Virtual LAN Extensions", RFC 4363,
                  January 2006.

   [RFC2580]      McCloghrie, K., Perkins, D., and J. Schoenwaelder,
                  "Conformance Statements for SMIv2", STD 58, RFC 2580,
                  April 1999.

   [RFC4444]      Parker, J., "Management Information Base for
                  Intermediate System to Intermediate System (IS-IS)",
                  RFC 4444, April 2006.

   [802.1Q-2005]  Institute of Electrical and Electronics Engineers,
                  "Local and Metropolitan Area Networks: Virtual Bridged
                  Local Area Networks", IEEE 802.1Q, May 2006.

11.2 Informative References

   [RFC3410]      Case, J., Mundy, R., Partain, D., and B. Stewart,
                  "Introduction and Applicability Statements for
                  Internet-Standard Management Framework", RFC 3410,
                  December 2002.

   [RFC5556]      Touch, J. and R. Perlman, "Transparent Interconnection
                  of Lots of Links (TRILL): Problem and Applicability
                  Statement", RFC 5556, May 2009.

Appendix A. Change Log

   Note to RFC Editor: Please remove this appendix before publication as
   an RFC.

   Changes from -01 to -02
   1. Added rbridgeTrillSz, campus-wide minimum MTU
   2. Added DEFAULT clause to read-create objects
   3. Added references to IEEE 802.1 MIBs
   4. Changed base MIB structure to group MIB objects under one sub-tree
   5. Fixed errors and warnings reported by libsmi compiler
 


Rijhsinghani & Zebrose Expires September 3, 2011               [Page 51]

Internet-Draft          RBridges: TRILL Base MIB           March 2, 2011


   6. Enhanced detail in Security Considerations section.



Authors' Addresses

   Anil Rijhsinghani
   Hewlett-Packard Networking
   350 Campus Drive
   Marlboro, MA
   USA

   Phone: +1 508 323 1251
   EMail: anil@charter.net

   Kate Zebrose
   H.W. Embedded
   26 Josephine Ave
   Somerville, MA
   USA

   Phone: +1 617 840 9673
   EMail: kate.zebrose@alum.mit.edu

Copyright and License Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.













Rijhsinghani & Zebrose Expires September 3, 2011               [Page 52]
