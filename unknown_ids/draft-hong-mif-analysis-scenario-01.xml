<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
	<!ENTITY RFC3775 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3775.xml">
	<!ENTITY RFC3963 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3963.xml">
]>

<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<!-- used by XSLT processors -->
<!-- For a complete list and description of processing instructions (PIs), 
     please see http://xml.resource.org/authoring/README.html. -->
<!-- Below are generally applicable Processing Instructions (PIs) that most I-Ds might want to use.
     (Here they are set differently than their defaults in xml2rfc v1.32) -->
<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="4"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="no"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="yes" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space 
     (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="yes" ?>
<!-- do not start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->

<rfc category="info" docName="draft-hong-mif-analysis-scenario-01" ipr="trust200902">

  <!-- ***** FRONT MATTER ***** -->

  <front>
    <!-- The abbreviated title is used in the page header - it is only necessary if the 
         full title is longer than 39 characters -->

    <title abbrev="mif analysis & scenario">
	Analysis and scenarios of multiple interfaces in a host
	</title>

    <!-- add 'role="editor"' below for the editors if appropriate -->

    <!-- Another author who claims to be an editor -->

    <author fullname="Yong-Geun Hong" initials="Y.G.Hong" role=""
            surname="Hong">
      <organization>ETRI</organization>

      <address>
        <postal>
          <street>161 Gajeong-Dong Yuseung-Gu</street>

          <!-- Reorder these if your country does things differently -->

          <city>Daejeon</city>

          <region></region>

          <code>305-700</code>

          <country>Korea</country>
        </postal>

        <phone>+82 42 860 6557</phone>

        <email>yonggeun.hong@gmail.com</email>

        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <author fullname="Tran Minh Trung" initials="T.M.Trung" role=""
            surname="Tran">
      <organization>ETRI</organization>

      <address>
        <postal>
          <street>161 Gajeong-Dong Yuseung-Gu</street>

          <!-- Reorder these if your country does things differently -->

          <city>Daejeon</city>

          <region></region>

          <code>305-700</code>

          <country>Korea</country>
        </postal>

        <phone>+82 42 860 1132</phone>

        <email>trungtm2909@gmail.com</email>

        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <author fullname="Joo-Sang Youn" initials="J.S.Youn" role=""
            surname="Youn">
      <organization>DONG-EUI Univ.</organization>

      <address>
        <postal>
          <street></street>

          <!-- Reorder these if your country does things differently -->

          <city>Busan</city>

          <region></region>

          <code></code>

          <country>Korea</country>
        </postal>

        <phone>+82 51 890 1993</phone>

        <email>joosang.youn@gmail.com</email>

        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <date month="July" year="2009" />

    <!-- If the month and year are both specified and are the current ones, xml2rfc will fill 
         in the current day for you. If only the current year is specified, xml2rfc will fill 
	 in the current day and month for you. If the year is not the current one, it is 
	 necessary to specify at least a month (xml2rfc assumes day="1" if not specified for the 
	 purpose of calculating the expiry date).  With drafts it is normally sufficient to 
	 specify just the year. -->

    <!-- Meta-data Declarations -->

    <area>General</area>

    <workgroup>Network Working Group</workgroup>

    <!-- WG name at the upperleft corner of the doc,
         IETF is fine for individual submissions.  
	 If this element is not present, the default is "Network Working Group",
         which is used by the RFC Editor as a nod to the history of the IETF. -->

    <keyword>Internet Draft</keyword>

    <!-- Keywords will be incorporated into HTML output
         files in a meta tag but they have no effect on text or nroff
         output. If you submit your draft to the RFC Editor, the
         keywords will be used for the search engine. -->

    <abstract>
      <t>
	  This document includes an analysis of multiple interfaces in a host and a description of scenarios of multiple interfaces with the respect of the relationship between layer 2 connection and layer 3 connection. The current TCP/IP mechanism and networking methods are suitable for single network interface.  When a host has multiple interfaces, the current TCP/IP mechanism and networking methods cannot directly be used for them. A network interface establishes layer 2 connection to layer 2 entity (e.g., WLAN Access Point) and it does not mean providing proper layer 3 connection. So every active network interfaces do not guarantee successful IP layer operations. In this document, we describe some problems for a host which has multiple interfaces as an aspect of host's operations and usage scenarios of multiple interfaces in a host.
	  </t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>
	  In future ubiquitous networks, many services and many access technologies are expected to be interworked and harmonized for better services. To do so, a host must have a ability to connect different access technology networks and different network interfaces for each access technology.
	  </t>

      <t>
	  Mobile IPv6 [RFC3775]<xref target="RFC3775"/> and NEMO Basic Support [RFC3963]
	  <xref target="RFC3963"/> can solve the problem of the change of IPv6 network
	  address when a mobile node or a mobile router moves. But these protocols are developed for a mobile node with a single network interface and a mobile router with a single egress network interface. Due to multiple interfaces, many things should be considered such as multiple CoA, multiple HoA, and multiple HA. We cannot directly use basic Mobile IPv6 for a mobile node with multiple network interfaces. IETF MEXT working group are targeting to solve these problems and has many progress. 
	  </t>

      <t>
  	  If a host has multiple interfaces, this situation influences not only mobility issues (e.g., extending Mobile IPv6/NEMO Basic Support) but also general networking operations and TCP/IP mechanism [I-D.blanchet-mif-problem-statement]<xref target="I-D.blanchet-mif-problem-statement"/>. 
	  </t>

      <t>
      In this document we analyze the problems of multiple interfaces in a host as an aspect of host's operations with the focusing on routing issues. Because of the simultaneous usage of multiple interfaces in communications, current networking methods which are based on single interface may have several problems. And we describe the usage scenarios of multiple interfaces in a host with the respect of the relationship between layer connection and layer 3 connection. A network interface establishes layer 2 connection to layer 2 entity (e.g., WLAN Access Point) and it does not mean providing proper layer 3 connection. So every active network interfaces do not guarantee successful IP layer operations. In this document, we categorize each usage scenarios by the usage of the number of network interface, layer 2 network, and layer 3 network. And in each scenario, we identify whether that scenario belongs to MIF scope or not and what kind of problems should be considered. 
	  </t>

      <!--section title="Requirements Language">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <xref
        target="RFC2119">RFC 2119</xref>.</t>
      </section-->
    </section>

    <section title="Analysis of the problems of multiple interface usage">

      <section title="Relation between network interface and destination address">
        <t>
		A host with multiple interfaces may simultaneously use its interfaces for communication with a correspondent node. If a host simultaneously uses multiple interfaces, it seems that the following two cases can be considered.
		</t>

		<t>
		 - All interfaces activates and simultaneously sends/receives packets at a time. (all of them has layer 3 connections)
		</t>

		<t>
		 - All interfaces activates but just some of them sends/receives packets at a time. (some of them just have layer 2 connections)
		 </t>

		<t>
		If a host has single interface, the relation between network interface and destination address is static and is one-to-one mapping. But, if a host has multiple interfaces, this relation is different.
		</t>

		<t>		 
		Let's consider the first case (All interfaces activates and simultaneously sends/receives packets at a time) and identify the relation between network interface and destination address.  
		</t>

		<t>
		In the following, we assume a host with two network interfaces IF1 and IF2 of different access technologies. Each interface is configured with an IP address, respectively IP1 and IP2, and the address of a correspondent node is IP3.
		</t>

		<t>
		Because the host simultaneously use two interfaces and two interfaces are involved in sending/receiving packets, the routing information (for relation between network interface and destination address) could be configured as shown in the following table. In this table, to send packets to IP3, there are two available network interface; IF1 and IF2. The relation between network interface and destination address which is one-to-one mapping is changed to one(destination address)-to-many(network interface) mapping. So other relevant routing tables and routing caches should be support this change. 
		</t>

			<figure anchor='mifhost1' title="All I/F activates and simultaneously sends/receives packets at a time">
			    <preamble></preamble>
				<artwork>
                             _________
                            |   CN    |
                            |_________|
                                 | IP3
                                / \ 
          +------------------+       +------------------+
          |  Network 1 (N1)  |       |  Network 2 (N2)  |
          |                  |       |                  |
          +------------------+       +------------------|

          Interface 1(IF1) \ /       \ / Interface 2 (IF2)
          IP1               |         |  IP2
                            |_________|
                            |  host   |
                            |_________|

				</artwork>
			</figure>

			<texttable anchor="miftable1" title="Relation between destination address and network interfaces">
			  <ttcol align="center">Location (Used I/F)</ttcol>
			  <ttcol align="center">(Source Address, Destination Address)</ttcol>
			  <ttcol align="center">Relation btw a Destination Addr. and a network I/F</ttcol>
			  <c>N1 (IF1)</c>
			  <c>(IP1, IP3)</c>
			  <c>IP3 -> IF1</c>
			  <c>N2 (IF2)</c>
			  <c>(IP2, IP3)</c>
			  <c>IP3 -> IF2</c>
			</texttable>
		
		<t>
		Let's consider the second case (All interfaces activates but just some of them sends/receives packets at a time) and identify the relation between network interface and destination address. Let's assume that in the beginning time, IF1 is used and as time goes by, IF 2 is used. At the beginning time of communication, when the host uses (IF1, IP1) and sends packets to a correspondent node, the source address and destination address of packets is (IP1, IP3) and the used network interface is IF1. As time goes by and the host selects IF2 to send/receive packets, and then the host uses (IF2, IP2) and the used network interface is IF2. Before this change, the destination address (IP3) of the correspondent node is mapped to a network interface IF1. However after this change, when an application tries to send packets to the correspondent node, it continually tries to use a network interface IF1 if the relation between destination address IP3 and network interface IF1 is not properly updated. So, if all interfaces activates but just some of them sends/receives packets at a time, the proper update between network interface and destination address is needed. 
		</t>

			<figure anchor='mifhost2' title="All I/F activates but just some I/F sends/receives packets at a time">
			    <preamble></preamble>
				<artwork>
                             _________
                            |   CN    |
                            |_________|
                                 | IP3
                                / \ 
          +------------------+       +------------------+
          |  Network 1 (N1)  |       |  Network 2 (N2)  |
          |                  |       |                  |
          +------------------+       +------------------|

          Interface 1(IF1) \ /       \ / Interface 2 (IF2)
          IP1               |         |  IP2
                            |_________|
                            |  host   |
                            |_________|

				</artwork>
			</figure>

			<texttable anchor="miftable2" title="Relation between destination address and network interfaces">
			  <ttcol align="center">Location (Used I/F)</ttcol>
			  <ttcol align="center">(Source Address, Destination Address)</ttcol>
			  <ttcol align="center">Relation btw a Destination Addr. and a network I/F</ttcol>
			  <c>N1 (IF1)</c>
			  <c>(IP1, IP3)</c>
			  <c>IP3 -> IF1</c>
			  <c>N2 (IF2)</c>
			  <c>(IP2, IP3)</c>
			  <c>IP3 -> ?</c>
			</texttable>

      </section>

      <section title="Consideration for asymmetric routing path">
        <t>
		In current network, a host can be equipped one or more network interfaces. Each network interface can be assigned one or multiple IP address. With this configuration, a host can connect to different networks and use different services at the same time. Since a host usually has a node-scoped routing table, in some cases it cannot differentiate exactly which interface that a packet will be forwarded.
		</t>

		<t>
		We consider the following scenario: A host H1 has two network interfaces IF1 and IF2. Each network interface connects to a specific sub-network with a corresponding IP address as showed in the table.
		</t>

			<figure anchor='mifhost3' title="A host with two interfaces">
			    <preamble></preamble>
				<artwork>
                             _________
                            |   CN    |
                            |_________|
                                 | IP3
                                  \ 
          +------------------+     \ +------------------+
          |  Network 1 (N1)  |      \|  Network 2 (N2)  |
          |   Gateway (G1)   |       |   Gateway (G2)   |
          +------------------+       +------------------|
                          \             /
          Interface 1(IF1) \           / Interface 2 (IF2)
          IP1               |         |  IP2
                            |_________|
                            | host(H1)|
                            |_________|

				</artwork>
			</figure>

			<texttable anchor="asymmeric-table-1" title="Network configuration">
			  <ttcol align="center">Interface</ttcol>
			  <ttcol align="center">Gateway</ttcol>
			  <ttcol align="center">IP address</ttcol>
  			  <ttcol align="center">Network</ttcol>
			  <c>IF1</c>
			  <c>G1</c>
			  <c>IP1</c>
			  <c>N1</c>
			  <c>IF2</c>
			  <c>G2</c>
  			  <c>IP2</c>
			  <c>N2</c>
			</texttable>

		<t>
	    The node has a routing table as follow. 
		</t>

			<texttable anchor="asymmeric-table-2" title="Routing table">
			  <ttcol align="center">Destination</ttcol>
			  <ttcol align="center">Gateway</ttcol>
			  <ttcol align="center">Interface</ttcol>
			  <c>*</c>
			  <c>G1</c>
			  <c>IF1</c>
			  <c>N3</c>
			  <c>G2</c>
			  <c>IF2</c>
			  <c>N4</c>
			  <c>G2</c>
			  <c>IF2</c>
			</texttable>

		<t>
	    Now we assume that there is a correspond node CN in the network N5. CN has only one connection with the network N2 via the gateway G2. Let CN send a TCP packet to H1 via the gateway G2. When host H1 receives this packet, it will send an ACK packet back to CN. First H1 will check its routing table to find the gateway for sending ACK packet. Because the routing table does not have any dedicated routing entry for the network N3, H1 will send ACK packet to the default gateway G1. However CN does not have any connection with this network, the ACK packet cannot reach CN. Thus to maintain a connection, the response of a packet should be routed via the same interface that it is received. 
		</t>

      </section>
 
    </section>

    <section title="Usage scenarios of multiple interfaces in a host">
        <t>
		If a host has only single network interface (or although it has multiple interfaces but only one interface is activated at one time) and it is connected to single network, the activated interface is established to one layer 2 entity (e.g., WLAN Access Point) and it is also established to one layer 3 entity (e.g., router). It means that single layer 2 connection (where the single network interface is activated via a layer 2 entity) is only mapped to single layer 3 connection. 
		</t>

		<t>		
		Meanwhile, if a host has multiple interfaces (or it has single interface and it is connected to multiple networks) and it is connected to multiple networks, the host may have multiple activated interfaces. And each activated interface may be established to different layer 2 entity. Because each layer 2 entity may be connected to different networks, some activated interfaces may be connected to global networks and some activated interfaces may be connected to non-global networks (e.g., private networks). In this case, the one-to-one mapping between single layer 2 connection and single layer 3 connection is not made. There may be various usage scenarios by the relation between layer 2 networks and layer 3 networks. 
		</t>

      <section title="Scenario 1: A host with single I/F to single L2 network and single L3 network">
        <t>
		This scenario illustrates a host with single interface that is connected to single layer 2 network and single layer 3 network. This scenario is a general network configuration now a days. In this case, there is no issues as an aspects of MIF. 
		</t>

			<figure anchor='fig2-sce1' title="A host with single I/F to single L2 and L3 network">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +--------------------+
                \\
           +-----\\---------+       +----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )       (  |L3 Router2|  )
           (  +----------+  )       (  +----------+  )
           +--------\\------+       +----------------+
                     \\Prefix1
            +---------\\---+        +--------------+	   
            ( +----------+ )        ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +--------------+
                           \        
                            \      
                             +----+
                             |I/F |
                       +-----+ 1  +-----+
                       |     +----+     |
                       |      Host      |	 
                       +----------------+
				</artwork>
			</figure>

        <t>
		The following table shows status of a host on this scenario.  
		</t>

			<texttable anchor="sce1-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1</c>
			  <c>L3 Router1</c>
			  <c>(Prefix1), (1, 1)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>

      <section title="Scenario 2: A host with single I/F to multiple L2 networks and single L3 network(same link and same subnet)">
        <t>
		This scenario illustrates a host with single interface that is connected to multiple layer 2 networks and single layer 3 network. In layer 3 operation's aspect, same link and same subnet is used. This scenario seems that it is not possible when we use typical layer 2 technologies such as WLAN. But it is acknowledged that some particular access technology such as CDMA makes it possible. But, in real field, it is not easy to see this configuration. Although the single interface is connected to multiple layer 2 entity, the host is connected to single layer 3 network, because the two layer 2 entities are connected to same router and receive same prefix information. In this case, the host must properly decide which layer 2 entity should be used. But, there is no issue as an aspect of MIF. 
		</t>

			<figure anchor='fig3-sce2' title="A host with single I/F to multiple L2 networks and single L3 network">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +--------------------+
                \\
           +-----\\---------+       +----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1| ===      (  |L3 Router2|  )
           (  +----------+  ) \\    (  +----------+  )
           +--------\\------+  \\   +----------------+
              Prefix1\\         \\Prefix1
            +---------\\---+     \\ +--------------+	   
            ( +----------+ )       == +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +/-------------+
                           \        /
                            \      /
                             +----+
                             |I/F |
                       +-----+ 1  +-----+
                       |     +----+     |
                       |      Host      |	 
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce2-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1, L2 Entity2</c>
			  <c>L3 Router1</c>
			  <c>(Prefix1), (1, 1)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>


      <section title="Scenario 3: A host with single I/F to multiple L2 networks and single L3 network(same link and different subnet)">
        <t>
		This scenario illustrates a host with single interface that is connected to multiple layer 2 networks and single layer 3 network. In layer 3 operation's aspect, same link but different subnet is used. This scenario seems that it is not possible when we use typical layer 2 technologies such as WLAN. But it is acknowledged that some particular access technology such as CDMA makes it possible. But, in real field, it is not easy to see this configuration. Because the host receives two different prefix information from same Router, MIF issues exists in this case. The host can have two IP addresses and two default routers. The host must decide which IP address and which default router should be used to make proper connection. 
		</t>

			<figure anchor='fig4-sce3' title="A host with single I/F to multiple L2 networks and single L3 network">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +--------------------+
                \\
           +-----\\---------+       +----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1| ===      (  |L3 Router2|  )
           (  +----------+  ) \\    (  +----------+  )
           +--------\\------+  \\   +----------------+
              Prefix1\\         \\Prefix2
            +---------\\---+     \\ +--------------+	   
            ( +----------+ )       == +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +/-------------+
                           \        /
                            \      /
                             +----+
                             |I/F |
                       +-----+ 1  +-----+
                       |     +----+     |
                       |      Host      |	 
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce3-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1, L2 Entity2</c>
			  <c>L3 Router1</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1</c>			</texttable>
	  </section>


      <section title="Scenario 4: A host with single I/F to single L2 network and multiple L3 networks">
        <t>
		This scenario illustrates a host with single interface that is connected to single layer 2 networks and multiple layer 3 networks. Because the host is connected to different router, it receives different prefix information. So, MIF issues exist in this case. The host can have two IP addresses and two default routers and the host must decide which IP address and which default router should be used. In this case, only Router 1 is connected to public network, the host must decide which default router should be used to connect to public network. 
		</t>

			<figure anchor='fig5-sce4' title="A host with single I/F to single L2 network and multiple L3 networks">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +-------//-----------+
                \\                         //
           +-----\\---------+       +-----//---------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )      === |L3 Router2|  )
           (  +----------+  )    // (  +----------+  )
           +--------\\------+   //  +----------------+
              Prefix1\\        //Prefix2
            +---------\\---+  //    +--------------+	   
            ( +----------+ ===      ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +--------------+
                           \        
                            \      
                             +----+
                             |I/F |
                       +-----+ 1  +-----+
                       |     +----+     |
                       |      Host      |	 
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce4-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1</c>
			  <c>L3 Router1, L3 Router2</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>


      <section title="Scenario 5: A host with single I/F to single L2 network and multiple L3 networks">
        <t>
		This scenario illustrates a host with single interface that is connected to single layer 2 networks and multiple layer 3 networks. Because the host is connected to different router, it receives different prefix information. So, MIF issues exist in this case. The host can have two IP addresses and two default routers and the host must decide which IP address and which default router should be used. In this case, both Router 1 and Router 2 are connected to public network, the host can use any default router to connect to public network. 
		</t>

			<figure anchor='fig6-sce5' title="A host with single I/F to single L2 network and multiple L3 networks">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks     =====    (      Networks      )
       (                    )   \\  (                    )
       +-------\\-----------+    \\ +--------------------+
                \\                \\        
           +-----\\---------+      \\----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )      === |L3 Router2|  )
           (  +----------+  )    // (  +----------+  )
           +--------\\------+   //  +----------------+
              Prefix1\\        //Prefix2
            +---------\\---+  //    +--------------+	   
            ( +----------+ ===      ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +--------------+
                           \        
                            \      
                             +----+
                             |I/F |
                       +-----+ 1  +-----+
                       |     +----+     |
                       |      Host      |	 
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce5-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1</c>
			  <c>L3 Router1, L3 Router2</c>
			  <c>(Prefix1, prefix2), (2, 2)</c>
			  <c>via Router1, Router2</c>
			</texttable>
	  </section>


      <section title="Scenario 6: A host with single I/F to multiple L2 networks and multiple L3 networks">
        <t>
		This scenario illustrates a host with single interface that is connected to multiple layer 2 networks and multiple layer 3 networks. Because the host is connected to different layer 2 entity and different router, it receives different prefix information. So, MIF issues exist in this case. The host can have two IP addresses and two default routers and the host must decide which IP address and which default router should be used. In this case, only Router 1 is connected to public network, the host must decide which default router should be used to connect to public network. 
		</t>

			<figure anchor='fig7-sce6' title="A host with single I/F to multiple L2 networks and multiple L3 networks">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +-----------//-------+
                \\                             //
           +-----\\---------+       +---------//-----+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )       (  |L3 Router2|  )
           (  +----------+  )       (  +----------+  )
           +--------\\------+       +-----//---------+
              Prefix1\\                  //Prefix2
            +---------\\---+        +---//---------+	   
            ( +----------+ )        ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +/-------------+
                           \        /
                            \      /
                             +----+
                             |I/F |
                       +-----+ 1  +-----+
                       |     +----+     |
                       |      Host      |	 
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce6-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1, L2 Entity2</c>
			  <c>L3 Router1, L3 Router2</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>


      <section title="Scenario 7: A host with single I/F to multiple L2 networks and multiple L3 networks">
        <t>
		This scenario illustrates a host with single interface that is connected to multiple layer 2 networks and multiple layer 3 networks. Because the host is connected to different layer 2 entity and different router, it receives different prefix information. So, MIF issues exist in this case. The host can have two IP addresses and two default routers and the host must decide which IP address and which default router should be used. In this case, both Router 1 and Router 2 are connected to public network, the host can use any default router to connect to public network.
		</t>

			<figure anchor='fig8-sce7' title="A host with single I/F to multiple L2 networks and multiple L3 networks">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks     =====    (      Networks      )
       (                    )   \\  (                    )
       +-------\\-----------+    \\ +--------------------+
                \\                \\        
           +-----\\---------+      \\----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )       (  |L3 Router2|  )
           (  +----------+  )       (  +----------+  )
           +--------\\------+       +-----//---------+
              Prefix1\\                  //Prefix2
            +---------\\---+        +---//---------+	   
            ( +----------+ )        ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +/-------------+
                           \        /
                            \      /
                             +----+
                             |I/F |
                       +-----+ 1  +-----+
                       |     +----+     |
                       |      Host      |
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce7-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1, L2 Entity2</c>
			  <c>L3 Router1, L3 Router2</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1, Router2</c>

			</texttable>
	  </section>



    <section title="Scenario 8: A host with multiple I/F to single L2 network and single L3 network">
        <t>
		This scenario illustrates a host with multiple interfaces that are connected to single layer 2 network and single layer 3 network. We assume that in this scenario, although the host has multiple interfaces but only single interface is activated and connected to layer 2 and layer 3 network at a time. It is same case of scenario 1. This scenario is a general network configuration now a days. In this case, there is no issues as an aspects of MIF. 
		</t>

			<figure anchor='fig9-sce8' title="A host with multiple I/F to single L2 and L3 network">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +--------------------+
                \\
           +-----\\---------+       +----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )       (  |L3 Router2|  )
           (  +----------+  )       (  +----------+  )
           +--------\\------+       +----------------+
                     \\Prefix1
            +---------\\---+        +--------------+	   
            ( +----------+ )        ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +--------------+
                           \        
                            \      
                          +---+  +---+
                          |I/F|  |I/F| 
                       +--+ 1 +--+ 2 +--+
                       |  +---+  +---+  |
                       |      Host      |
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce8-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1</c>
			  <c>L3 Router1</c>
			  <c>(Prefix1), (1, 1)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>


      <section title="Scenario 9: A host with multiple I/F to multiple L2 networks and single L3 network(same link and same subnet)">
        <t>
		This scenario illustrates a host with multiple interfaces that are connected to multiple layer 2 networks and single layer 3 network. Although, multiple layer 2 entity is used, in layer 3 operation's aspect, same link and same subnet is used. In this case, the host has only one prefix information and other MIF issues do not exist except for the choosing proper network interface. 
		</t>

			<figure anchor='fig10-sce9' title="A host with multiple I/F to multiple L2 networks and single L3 network">
				<artwork>
      +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +--------------------+
                \\
           +-----\\---------+       +----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1| ===      (  |L3 Router2|  )
           (  +----------+  ) \\    (  +----------+  )
           +--------\\------+  \\   +----------------+
              Prefix1\\         \\Prefix1
            +---------\\---+     \\ +--------------+	   
            ( +----------+ )       == +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +/-------------+
                           \        /
                            \      /
                          +---+  +---+
                          |I/F|  |I/F| 
                       +--+ 1 +--+ 2 +--+
                       |  +---+  +---+  |
                       |      Host      |
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce9-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1, L2 Entity2</c>
			  <c>L3 Router1</c>
			  <c>(Prefix1), (1, 1)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>



      <section title="Scenario 10: A host with multiple I/F to multiple L2 networks and single L3 network(same link and different subnet)">
        <t>
		This scenario illustrates a host with multiple interfaces that are connected to multiple layer 2 networks and single layer 3 network. In layer 3 operation's aspect, same link but different subnet is used. Because the host receives two different prefix information from same router, MIF issues exist in this case. The host can have two IP addresses and two default routers. The host must decide which IP address and which default router should be used to make proper connection. 
		</t>

			<figure anchor='fig11-sce10' title="A host with multiple I/F to multiple L2 networks and single L3 network">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +--------------------+
                \\
           +-----\\---------+       +----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1| ===      (  |L3 Router2|  )
           (  +----------+  ) \\    (  +----------+  )
           +--------\\------+  \\   +----------------+
              Prefix1\\         \\Prefix2
            +---------\\---+     \\ +--------------+	   
            ( +----------+ )       == +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +/-------------+
                           \        /
                            \      /
                          +---+  +---+
                          |I/F|  |I/F| 
                       +--+ 1 +--+ 2 +--+
                       |  +---+  +---+  |
                       |      Host      |
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce10-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1, L2 Entity2</c>
			  <c>L3 Router1</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>


      <section title="Scenario 11: A host with multiple I/F to single L2 network and multiple L3 networks">
        <t>
		This scenario illustrates a host with multiple interfaces that are connected to single layer 2 networks and multiple layer 3 networks. Because the host is connected to different router, it receives different prefix information. So, MIF issues exist in this case. The host can have two IP addresses and two default routers and the host must decide which IP address and which default router should be used. In this case, only Router 1 is connected to public network, the host must decide which default router should be used to connect to public network. 
		</t>

			<figure anchor='fig12-sce11' title="A host with multiple I/F to single L2 networks and multiple L3 networks">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +-------//-----------+
                \\                         //
           +-----\\---------+       +-----//---------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )      === |L3 Router2|  )
           (  +----------+  )    // (  +----------+  )
           +--------\\------+   //  +----------------+
              Prefix1\\        //Prefix2
            +---------\\---+  //    +--------------+	   
            ( +----------+ ===      ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\\_____   +--------------+
                           \     \    
                            \     \  
                          +---+  +---+
                          |I/F|  |I/F| 
                       +--+ 1 +--+ 2 +--+
                       |  +---+  +---+  |
                       |      Host      |
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce11-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1</c>
			  <c>L3 Router1, L3 Router2</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>


      <section title="Scenario 12: A host with multiple I/F to single L2 network and multiple L3 networks">
        <t>
		This scenario illustrates a host with multiple interfaces that are connected to single layer 2 networks and multiple layer 3 networks. Because the host is connected to different router, it receives different prefix information. So, MIF issues exist in this case. The host can have two IP addresses and two default routers and the host must decide which IP address and which default router should be used. In this case, both Router 1 and Router 2 are connected to public network, the host can use any default router to connect to public network. 
		</t>

			<figure anchor='fig13-sce12' title="A host with multiple I/F to single L2 network and multiple L3 networks">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks     =====    (      Networks      )
       (                    )   \\  (                    )
       +-------\\-----------+    \\ +--------------------+
                \\                \\        
           +-----\\---------+      \\----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )      === |L3 Router2|  )
           (  +----------+  )    // (  +----------+  )
           +--------\\------+   //  +----------------+
              Prefix1\\        //Prefix2
            +---------\\---+  //    +--------------+	   
            ( +----------+ ===      ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\\_____   +--------------+
                           \     \    
                            \     \  
                          +---+  +---+
                          |I/F|  |I/F| 
                       +--+ 1 +--+ 2 +--+
                       |  +---+  +---+  |
                       |      Host      |
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce12-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1</c>
			  <c>L3 Router1, L3 Router2</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1, Router2</c>
			</texttable>
	  </section>


      <section title="Scenario 13: A host with multiple I/F to multiple L2 networks and multiple L3 networks">
        <t>
		This scenario illustrates a host with multiple interfaces that are connected to multiple layer 2 networks and multiple layer 3 networks. Because the host is connected to different layer 2 entity and different router, it receives different prefix information. So, MIF issues exist in this case. The host can have two IP addresses and two default routers and the host must decide which IP address and which default router should be used. In this case, only Router 1 is connected to public network, the host must decide which default router should be used to connect to public network. 
		</t>

			<figure anchor='fig14-sce13' title="A host with multiple I/F to multiple L2 networks and multiple L3 networks">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks      )       (      Networks      )
       (                    )       (                    )
       +-------\\-----------+       +-----------//-------+
                \\                             //
           +-----\\---------+       +---------//-----+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )       (  |L3 Router2|  )
           (  +----------+  )       (  +----------+  )
           +--------\\------+       +-----//---------+
              Prefix1\\                  //Prefix2
            +---------\\---+        +---//---------+	   
            ( +----------+ )        ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +/-------------+
                           \        /
                            \      /
                          +---+  +---+
                          |I/F|  |I/F| 
                       +--+ 1 +--+ 2 +--+
                       |  +---+  +---+  |
                       |      Host      |
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce13-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1, L2 Entity2</c>
			  <c>L3 Router1, L3 Router2</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1</c>
			</texttable>
	  </section>


      <section title="Scenario 14: A host with multiple I/F to multiple L2 networks and multiple L3 networks">
        <t>
		This scenario illustrates a host with multiple interfaces that are connected to multiple layer 2 networks and multiple layer 3 networks. Because the host is connected to different layer 2 entity and different router, it receives different prefix information. So, MIF issues exist in this case. The host can have two IP addresses and two default routers and the host must decide which IP address and which default router should be used. In this case, both Router 1 and Router 2 are connected to public network, the host can use any default router to connect to public network.
		</t>

			<figure anchor='fig15-sce14' title="A host with multiple I/F to multiple L2 networks and multiple L3 networks">
				<artwork>
       +--------------------+       +--------------------+
       (                    )       (                    )
       (       Public       )       (      Private       )
       (      Networks     =====    (      Networks      )
       (                    )   \\  (                    )
       +-------\\-----------+    \\ +--------------------+
                \\                \\        
           +-----\\---------+      \\----------------+   
           (  +----------+  )       (  +----------+  )
           (  |L3 Router1|  )       (  |L3 Router2|  )
           (  +----------+  )       (  +----------+  )
           +--------\\------+       +-----//---------+
              Prefix1\\                  //Prefix2
            +---------\\---+        +---//---------+	   
            ( +----------+ )        ( +----------+ )
            ( |L2 Entity1| )        ( |L2 entity2| )
            ( +----------+ )        ( +----------+ )
            +-------------\+        +/-------------+
                           \        /
                            \      /
                          +---+  +---+
                          |I/F|  |I/F| 
                       +--+ 1 +--+ 2 +--+
                       |  +---+  +---+  |
                       |      Host      |
                       +----------------+
				</artwork>
			</figure>

			<texttable anchor="sce14-table" title="Status of a host">
			  <ttcol align="center">L2 counter part</ttcol>
			  <ttcol align="center">L3 counter part</ttcol>
			  <ttcol align="center">(L3 information), (# of IP address, # of default router)</ttcol>
			  <ttcol align="center">Path to Pub. Net.</ttcol>
			  <c>L2 Entity1, L2 Entity2</c>
			  <c>L3 Router1, L3 Router2</c>
			  <c>(Prefix1, Prefix2), (2, 2)</c>
			  <c>via Router1, Router2</c>
			</texttable>
	  </section>

      <section title="Remarks of analysis of usage scenarios">
        <t>
		It is understood that MIF working group tries to describe the issues of attaching to multiple networks on hosts. In some point, it seems that MIF issues are not directly related to the configuration of layer 2 network and layer 3 network, because we are focusing on host itself in MIF. But, after we describe the usage scenarios of multiple interfaces, we found that there are many possible usage scenarios and MIF issues exist in some scenarios and do not exist in other scenarios. To make effective works in MIF, we must find which scenario we should focus on. The optimal MIF's goal should be worked with irrelevant of the network configuration of layer 2 network and layer 3 network. 

		In describing scenarios, a host with single interface looks like having similar MIF issues with a host with multiple interfaces if we assume some particular access technology such as CDMA. It is needed to discuss whether MIF working group includes this special cases or not. 
		</t>

	  </section>

    </section>


    <section title="Conclusions">
        <t>
		When a host has multiple interfaces, the host can use heterogeneous network interfaces and it can provide ubiquitous access. In this document, we showed the issues when a host has multiple network interfaces as an aspect of host's operations with the focusing on routing issues such as source address and default router selection. If a host is able to use multiple interfaces simultaneously, the host must consider the proper mapping between network interface and destination address. And the asymmetric routing path may make the communication fail. In this document, we enumerate the usage scenarios of multiple interfaces in a  host with the relation between layer 2 network and layer 3 network. We hope whether which scenario belongs to MIF scope and identify practical problems of multiple interfaces in each scenario.
		</t>
    </section>



    <!--section anchor="Acknowledgements" title="Acknowledgements">
      <t>This template was derived from an initial version written by Pekka
      Savola and contributed by him to the xml2rfc project.</t>

      <t>This document is part of a plan to make xml2rfc indispensable <xref
      target="DOMINATION"></xref>.</t>
    </section-->

    <!-- Possibly a 'Contributors' section ... -->

    <section anchor="Security" title="Security Considerations">
      <t>
	  This document doesn't intend to provide the MIF security analysis but one will be required.
	  </t>
    </section>

    <section anchor="IANA" title="IANA Considerations">
      <t>This document has no actions for IANA.</t>
    </section>

  </middle>

  <!--  *****BACK MATTER ***** -->

  <back>
    <!-- References split into informative and normative -->

    <!-- There are 2 ways to insert reference entries from the citation libraries:
     1. define an ENTITY at the top, and use "ampersand character"RFC2629; here (as shown)
     2. simply use a PI "less than character"?rfc include="reference.RFC.2119.xml"?> here
        (for I-Ds: include="reference.I-D.narten-iana-considerations-rfc2434bis.xml")

     Both are cited textually in the same manner: by using xref elements.
     If you use the PI option, xml2rfc will, by default, try to find included files in the same
     directory as the including file. You can also define the XML_LIBRARY environment variable
     with a value containing a set of directories to search.  These can be either in the local
     filing system or remote ones accessed by http (http://domain/dir/... ).-->

    <references title="Normative References">
		&RFC3775;
	
		&RFC3963;

	</references>

    <references title="Informative References">

      <!-- A reference written by by an organization not a person. -->
		<reference anchor="I-D.blanchet-mif-problem-statement">
		   <front>
			   <title>Multiple Interfaces Problem Statement, draft-blanchet-mif-problem-statement-01 (work in progress)</title>
			   <author initials="M." surname="Blanchet" fullname="">
			   <organization/>
			   </author>
			   <date month="June" year="2009"/>
		   </front>
		</reference>

    </references>


  </back>
</rfc>
