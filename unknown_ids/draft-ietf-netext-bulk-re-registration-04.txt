


Netext Working Group                                    F. Abinader, Ed.
Internet-Draft                             Instituto Nokia de Tecnologia
Intended status: Standards Track                      S. Gundavelli, Ed.
Expires: January 3, 2012                                        K. Leung
                                                                   Cisco
                                                             S. Krishnan
                                                                Ericsson
                                                               D. Premec
                                                            Unaffiliated
                                                            July 2, 2011


           Bulk Re-registration Support for Proxy Mobile IPv6
               draft-ietf-netext-bulk-re-registration-04

Abstract

   For extending the lifetime of a mobility session, the Proxy Mobile
   IPv6 specification requires the mobile access gateway to send a Proxy
   Binding Update message to the local mobility agent on a per-session
   basis.  In the absence of signaling semantics for performing
   operations with group specific scope, it results in significant
   amount of signaling traffic on a periodic basis between a given
   mobile access gateway and a local mobility anchor.  This document
   defines an optimization to the re-registration and revocation
   operations in Proxy Mobile IPv6 for performing operations with group
   specific scope by allowing the use of a group identifier.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 3, 2012.

Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the



Abinader, et al.         Expires January 3, 2012                [Page 1]

Internet-Draft            Bulk Re-registration                 July 2011


   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Conventions & Terminology  . . . . . . . . . . . . . . . . . .  4
     2.1.  Conventions  . . . . . . . . . . . . . . . . . . . . . . .  4
     2.2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  Bulk Registration Overview . . . . . . . . . . . . . . . . . .  4
     3.1.  Motivation for bulk re-registration  . . . . . . . . . . .  4
     3.2.  Bulk re-registration operation . . . . . . . . . . . . . .  6
       3.2.1.  BULK_ADD_MN operation  . . . . . . . . . . . . . . . .  7
       3.2.2.  BULK_REMOVE_MN operation . . . . . . . . . . . . . . .  7
       3.2.3.  BULK_REREG_SET operation . . . . . . . . . . . . . . .  8
       3.2.4.  BULK_TERMINATE_SET operation . . . . . . . . . . . . .  9
   4.  Message formats  . . . . . . . . . . . . . . . . . . . . . . . 10
     4.1.  Extensions to Proxy Binding Update Message . . . . . . . . 10
     4.2.  Extensions to Proxy Binding Acknowledgment Message . . . . 11
     4.3.  Mobile Node Group Identifier Option  . . . . . . . . . . . 11
     4.4.  Status Codes . . . . . . . . . . . . . . . . . . . . . . . 12
   5.  Protocol Considerations  . . . . . . . . . . . . . . . . . . . 12
     5.1.  MAG Considerations . . . . . . . . . . . . . . . . . . . . 13
       5.1.1.  Requesting a Bulk Re-Registration Group Identifier . . 13
       5.1.2.  Sending a Bulk Re-registration Operation Request . . . 14
     5.2.  LMA Considerations . . . . . . . . . . . . . . . . . . . . 14
       5.2.1.  Assigning a Bulk Re-Registration Group Identifier  . . 15
       5.2.2.  Handling a Bulk Re-registration Operation Request  . . 16
   6.  Protocol Configuration Variables . . . . . . . . . . . . . . . 18
     6.1.  Local Mobility Anchor - Configuration Variables  . . . . . 18
     6.2.  Mobile Access Gateway - Configuration Variables  . . . . . 19
   7.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 19
   8.  Security Considerations  . . . . . . . . . . . . . . . . . . . 20
   9.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 20
   10. Normative References . . . . . . . . . . . . . . . . . . . . . 20
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 21





Abinader, et al.         Expires January 3, 2012                [Page 2]

Internet-Draft            Bulk Re-registration                 July 2011


1.  Introduction

   The Proxy Mobile IPv6 base specification [RFC5213] requires the
   Mobile Node Identifier (MN-ID) option to be present in the mobility
   signaling messages, such as in the Proxy Binding Update and Proxy
   Binding Acknowledgement messages.  It essentially limits the
   operational scope of the signaling messages to a single mobile node.
   These signaling messages lack the capability to identify a set of
   mobile nodes which have a common characteristic and perform
   operations on the entire group.

   There is a need to have semantics for identifying a set of mobile
   nodes, so protocol operations can be performed on the entire group.
   The use of a group identifier in protocol operations can extend the
   scope of the operation to a larger set.  A group identifier
   associated with a set of mobile nodes enables the ability to perform
   protocol operation on this set of mobile nodes via a single
   transaction.  The group identifier also provides a more optimal
   mechanism for protocol operation which would otherwise require
   multiple atomic transactions on a per mobile node basis.  Following
   are some of the use-cases where the group identifier can be used.

   o  In a blade architecture system running the local mobility anchor
      service, all the mobile node sessions anchored on a given card can
      belong to a single group.  When a failure occurs on a specific
      card, the local mobility anchor can initiate the revocation
      signaling to the mobile access gateway by sending a single
      revocation request carrying the group identifier.

   o  For periodic re-registrations, the mobile access gateway have the
      option to send a single re-registration message for all the mobile
      nodes that belong to a group by having the mobile access gateway
      send a Proxy Binding Update to the local mobility anchor with the
      associated group identifier.

   o  The mobile access gateway or the local mobility anchor can choose
      to revoke the registration of all mobile nodes associated with a
      specific group.  In such cases the mobile access gateway or the
      local mobility anchor can perform the binding revocation signaling
      using the group identifier associated with a specific set of
      mobile nodes.

   The document defines a new mobility option, Mobile Node Group
   Identifier option, that can be used by a local mobility anchor and a
   mobile access gateway in the signaling messages for performing
   protocol operations with group specific scope.  It also defines the
   applicability of the group identifier in operations such as binding
   re-registration and binding revocations [RFC5846] .



Abinader, et al.         Expires January 3, 2012                [Page 3]

Internet-Draft            Bulk Re-registration                 July 2011


2.  Conventions & Terminology

2.1.  Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.2.  Terminology

   All the mobility related terms used in this document are to be
   interpreted as defined in the base Proxy Mobile IPv6 specifications
   [RFC5213] and [RFC5844].  Additionally, this document uses the
   following abbreviations:

   Group Identifier

      An opaque identifier that identifies a set of mobile nodes
      mobility sessions, that are part of a common logical group.  This
      identifier is generated by the local mobility anchor and will be
      unique to each group.  The specifics on how a given local mobility
      anchor groups different mobility sessions is out side the scope of
      this document.

   Bulk Registration

      A binding update operation that has group specific scope.  A
      binding operation is typically associated with a specific mobility
      session.  However, a Bulk Registration operation is associated
      with multiple mobility sessions.

   Bulk Registration Set

      It is a set of mobile node's mobility sessions that are part of
      the same logical group and thereby sharing a common group
      identifier.


3.  Bulk Registration Overview

3.1.  Motivation for bulk re-registration

   In a Proxy Mobile IPv6 domain a local mobility anchor serves multiple
   mobile access gateways and the capacity of that node with respect to
   the number of mobility sessions it can host is quite high.  It is
   typically in the order of few millions of sessions.  As the number of
   mobility sessions that the local mobility anchor hosts goes up, so
   will be the amount of signaling traffic related to periodic session



Abinader, et al.         Expires January 3, 2012                [Page 4]

Internet-Draft            Bulk Re-registration                 July 2011


   refresh or sesson revocation traffic.  The following simple formula
   gives an estimate of the average number of re-registration
   transactions per second as a function of the number of registered
   mobility sessions and the binding lifetime

   Transactions/sec = (Number of hosted mobility sessions) / (binding
   lifetime * 4)

   For a scenario of 500,000 MNs and the binding lifetime of half an
   hour this gives: 500,000 MNs / 1,800 sec = 277 transactions/sec

   Based on the above formula and example scenario it is apparent that
   the default PMIPv6 re-registration process where the mobile access
   gateway sends a unique binding refresh message for each mobility
   session is inefficient or suboptimal.  These re-registration messages
   consume significant amount of network resources, both in terms of
   processing power and in terms of network bandwidth and both the ends.

   This document proposes an optimization of the Proxy Mobile IPv6 re-
   registration process by which the signaling load for re-registration
   can be reduced to a single transaction per mobile access gateway (the
   best case scenario), irrespective of the number of attached mobile
   nodes.  According to this proposal, a mobile access gateway requests
   the local mobility anchor to add a MN into a bulk re-registration set
   by setting the bulk registration flag (B) in the first PBU message
   sent to the local mobility anchor, relative to the initial attachment
   of the MN to the mobile access gateway.  The PBAck message sent in
   response contains the Mobile Node Group Identifier mobility option,
   defined on Section 4.3.  In the context of bulk re-registrations the
   Mobile Node Group Identifier is an opaque identifier that is
   allocated by the local mobility anchor which uniquely identifies the
   bulk registration set to which an MN is added.

   A mobile access gateway requests a bulk re-registration for a set of
   MNs by sending a single PBU message which includes a Mobile Node
   Group Identifier option, and the local mobility anchor then extends
   the binding lifetime of all the MNs which belong to the specific
   group (identified by the Mobile Node Group Identifier option).  By
   using this method, the mobile access gateway and local mobility
   anchor MAY accomplish the re-registration of MNs attached to a mobile
   access gateway in a single transaction.  The number of re-
   registration transactions at the local mobility anchor becomes
   independent of the number of attached MNs; instead it is dependent
   only on the number of Group-ID sets at a mobile access gateway (i.e.
   bulk registration sets).

   In addition to minimizing the signaling overhead associated with the
   lifetime extension of the mobility bindings, the mobile access



Abinader, et al.         Expires January 3, 2012                [Page 5]

Internet-Draft            Bulk Re-registration                 July 2011


   gateway and local mobility anchor can use a single timer per bulk
   registration set to monitor the binding lifetime of all the mobility
   sessions instead of an individual timer per mobility session

3.2.  Bulk re-registration operation

   The bulk re-registration mechanism allows the mobile access gateway
   and the local mobility anchor to extend the binding lifetime for a
   number of MNs with a single transaction.  The mobile access gateway
   and local mobility anchor maintain a set of MNs that can be re-
   registered in bulk mode.  Such a set is called a bulk registration
   set, and is a subset of the MNs attached to a mobile access gateway.
   There can be multiple bulk registration sets for a given mobile
   access gateway-local mobility anchor pair; however, there can be only
   one mobile access gateway and one local mobility anchor associated
   with a given bulk registration set at any instance in time.

   There are two basic operations related to bulk registration sets
   which MAY be requested by the mobile access gateway for any given MN,
   namely BULK_ADD_MN or the addition of a MN to some bulk registration
   set (to be determined by the local mobility anchor) as specified on
   Section 3.2.1, and BULK_REMOVE_MN or the the removal of a MN from
   some bulk re-registration set, as specified in Section 3.2.2.  In the
   case of the removal of a single MN from a bulk registration set
   (BULK_REMOVE_MN), the local mobility anchor MAY also take a
   unilateral decision to remove the MN, as specified on Section 3.2.2.

   In addition to these basic bulk registration set operations related
   to the scope of a single MN, the mobile access gateway MAY also
   request two additional bulk registration set operations which are
   related to the scope of all MNs contained on a given bulk
   registration set.  The first of such operations is the BULK_REREG_SET
   operation (see Section 3.2.3), which allows the mobile access gateway
   to request the local mobility anchor to perform a collective re-
   registration all MNs within a given bulk registration set with a
   single atomic operation.  The second of such operations is the
   BULK_TERMINATE_SET operation (see Section 3.2.4), which allows the
   mobile access gateway to request the local mobility anchor to remove
   all MNs previously contained in a given bulk registration set,
   meaning that all MNs previously in that bulk registration set MUST be
   individually registered again by the mobile access gateway on the
   local mobility anchor.  Regarding this second operation
   (BULK_TERMINATE_SET), not only the mobile access gateway MAY make the
   request but also the local mobility anchor MAY unilaterally decide
   (for any given reason not covered by this document) that the mobility
   binding of all MNs previously contained on a given bulk registration
   set MUST be terminated, in which case the local mobility anchor uses
   the proper mechanism described in Section 3.2.4.



Abinader, et al.         Expires January 3, 2012                [Page 6]

Internet-Draft            Bulk Re-registration                 July 2011


   The following sub-sections expand on the following operations:

   o  BULK_ADD_MN

   o  BULK_REMOVE_MN

   o  BULK_REREG_SET

   o  BULK_TERMINATE_SET

3.2.1.  BULK_ADD_MN operation

   Initially the bulk registration set is empty. mobile access gateway
   requests to add individual MNs to the bulk registration set (while at
   the same time refreshing the MN binding itself) by sending a regular
   PBU message that (a) identifies an individual MN with its MN-ID and
   (b) sets the bulk re-registration flag in the message to 1.  Based on
   the received bulk re-registration flag on the PBU message, the local
   mobility anchor takes the decision whether to add the MN to a bulk
   registration set or not.  If the local mobility anchor decides for
   including the MN on a bulk registration set, it responds to the
   mobile access gateway with a PBAck message where (a) the bulk
   registration flag (B) set to 1 and (b) the bulk registration set to
   which the MN was added is represented by the Mobile Node Group ID
   option.  If, instead, the local mobility anchor decides for reject
   the addition of the MN on a bulk registration set, the local mobility
   anchor processes the PBU message as if the bulk registration flag was
   not set, and responds with PBAck message where the bulk re-
   registration flag is set to 0.

   There MAY be different aspects involved in the local mobility anchor
   decision process whether to include or not a MN on a bulk
   registration set upon a request by the mobile access gateway via a
   PBU message with the the bulk registration flag (B) in the message
   set to 1.  However, they MAY be implementation or domain specific,
   and therefore are outside the scope of this specification.

3.2.2.  BULK_REMOVE_MN operation

   A mobile access gateway MAY remove a single MN from the bulk
   registration set in which it is currently included by sending a
   regular PBU message to the local mobility anchor identifying the MN
   to be removed (i.e.  MN-ID) and with the bulk re-registration flag
   set to 0.  This PBU message not only informs the local mobility
   anchor to remove the MN from its current bulk registration set, but
   also requests to refresh the binding of that MN as well, just as a
   regular PBU message would do.  The local mobility anchor then
   responds with a regular PBAck message where the bulk registration



Abinader, et al.         Expires January 3, 2012                [Page 7]

Internet-Draft            Bulk Re-registration                 July 2011


   flag set to 0 and the MN-ID that identifies that MN, therefore
   indicating to the mobile access gateway that the binding of such MN
   was refreshed.

   The local mobility anchor itself MAY also decide (for some
   implementation or domain specific reason not covered on this
   specification) to remove a single MN from its current bulk
   registration set, in which case it sends a non-solicited regular
   PBAck message to the mobile access gateway, with the the bulk
   registration flag set to 0 and with the MN identification field (i.e.
   MN-ID).  This message not only informs that a given MN previously
   contained in a bulk re-registration set was removed, but also that
   the binding of such MN was also refreshed.  If the lifetime value in
   the non-solicited PBAck message is set to a value different than 0,
   this MUST indicate to the mobile access gateway that the MN is no
   longer on a bulk registration set but the binding of the MN in the
   local mobility anchor is indeed refreshed and valid, and therefore
   this MN refreshing timer MUST be controlled separately in a proper
   way, just as a regular MN as per the [RFC5213].  If however the the
   lifetime value indicated in the non-solicited PBAck message is set to
   0, it not only indicates that the MN was removed from the bulk
   registration set, but also that the binding of that MN on the local
   mobility anchor itself has expired, and therefore is no longer valid.

3.2.3.  BULK_REREG_SET operation

   Once there is a non-empty bulk registration set registered at the
   local mobility anchor (with one or more MNs), the mobile access
   gateway can request to extend the binding lifetime for all MNs
   belonging to such bulk registration set by sending a PBU message with
   the bulk registration (B) flag set and by including the Mobile Node
   Group ID identifying the bulk registration set itself, which value
   was previously received from the local mobility anchor.  Such PBU
   message lacks any options that identify an individual MN.  In
   particular, the mobile access gateway omits both the MN-ID (Mobile
   Node Identifier) and the HNP (Home Network Prefix) options.

   mobile access gateway MAY also include multiple instances of the
   Mobile Node Group Identifier option in a single PBU message only if
   the intent is to request lifetime refreshment for several bulk
   registration sets at the same time.  Even further, the mobile access
   gateway MAY even request to re-register all bulk re-registration sets
   previously established with the local mobility anchor by sending a
   single PBU message where there is a single Mobile Node Group
   Identifier option with the value of all bits set to 1 (see
   Section 4.3 for more information).  However, PBU messages that try to
   extend binding time to some bulk registration sets while at the same
   time terminating bindings with other bulk registration sets (e.g. by



Abinader, et al.         Expires January 3, 2012                [Page 8]

Internet-Draft            Bulk Re-registration                 July 2011


   setting zero lifetime) in the same PBU message are not possible, as
   this PBU message would be ambiguous in determining which bulk
   registration sets would be refreshed and which bulk registration sets
   would be terminated.  As a consequence, if for some reason those two
   classes of operations need to be performed concurrently, they MUST be
   done with the use of separate PBU messages.

   Upon the receive of the PBU message with the bulk registration (B)
   bit set and by including the Mobile Node Group ID instance(s)
   identifying the bulk registration set(s) to re-register (i.e. refresh
   the binding of each MN belonging to each bulk registration set
   informed), the local mobility anchor extends the mobility binding of
   all MNs that are members of the indicated bulk registration set(s)
   and responds with the PBAck message echoing the received Mobile Node
   Group Identifier mobility options, in special with the bulk
   registration (B) flag set and including the Mobile Node Group ID
   instance(s) identifying the bulk registration set(s) re-registered.

3.2.4.  BULK_TERMINATE_SET operation

   A mobile access gateway MAY request to terminate any given bulk
   registration set at any moment with a single atomic operation, which
   implicates (a) in the expiration of the mobility bindings of all the
   MNs belonging to that bulk registration set on the local mobility
   anchor at the same time and (b) on the termination of the bulk
   registration set itself on both the mobile access gateway and the
   local mobility anchor.  For that, the mobile access gateway sends a
   PBU message with the bulk registration flag (B) set to 1, sets the
   lifetime value to zero and informs the bulk registration set to the
   local mobility anchor by including the Group I-D option in the
   message.  Here, the mobile access gateway MAY also perform the
   termination of more than one bulk registration sets with a single
   atomic operation, in which case the PBU message contains the multiple
   mobile node Group I-D options representing these multiple bulk
   registration sets.  Finally, the mobile access gateway MAY also
   request to terminate all bulk registration sets, in which case it
   SHOULD send the Group I-D option with the value of all bits set to 1
   (see Section 4.3 for more information).

   Upon receive of such PBU message indicating a bulk registration
   termination request, the local mobility anchor expires the mobility
   bindings of all the MNs belonging to all the bulk registration sets
   specified in the PBU message and extinguish the representations of
   the bulk registration sets themselves.  Then, the local mobility
   anchor sends back a PBAck message to the mobile access gateway,
   reproducing all the mobility options informed on the original PBU
   message, including the bulk registration flag (B) set to 1, the
   lifetime value set to zero and the Group I-Ds originally mentioned.



Abinader, et al.         Expires January 3, 2012                [Page 9]

Internet-Draft            Bulk Re-registration                 July 2011


4.  Message formats

   This section identifies the extensions to Proxy Mobile IPv6 binding
   update messages that are required for supporting this specification.

4.1.  Extensions to Proxy Binding Update Message

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                   |            Sequence #         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |A|H|L|K|M|R|P|F|T|B| Reserved  |            Lifetime           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   .                                                               .
   .                        Mobility options                       .
   .                                                               .
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                                 Figure 1

   A new flag, Bulk Registration (B) flag is defined in the Proxy
   Binding Update message specified in [RFC5213].  The bit-value of Bulk
   Registration (B) flag in the flags field of the message will be
   TBD(0x0040 - subject to IANA approval).

   Bulk Registration Flag (B):

   If the bulk registration flag (B) is set to a value of (1), it serves
   as a request to the local mobility anchor to include the mobile
   node's session to the bulk registration set.  If the bulk
   registration flag (B) is set to a value of (0), the local mobility
   anchor MUST exclude the mobile node's session from the bulk
   registration set and thus any any operations with bulk scope will not
   be applied to the mobile node's session.

   All other fields in the Proxy Binding Update message and the mobility
   options that can be carried in the message and any related
   considerations confirm to the base Proxy Mobile IPv6 specifications
   [RFC5213] and [RFC5844].









Abinader, et al.         Expires January 3, 2012               [Page 10]

Internet-Draft            Bulk Re-registration                 July 2011


4.2.  Extensions to Proxy Binding Acknowledgment Message

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                   |   Status      |K|R|P|T|B| Res.|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         Sequence #            |           Lifetime            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   .                                                               .
   .                        Mobility options                       .
   .                                                               .
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

              Figure 2: Proxy Binding Acknowledgment Message

   A new flag, Bulk Registration (B) flag is defined in the Proxy
   Binding Acknowledgment message specified in [RFC5213].  The bit-value
   of Bulk Registration (B) flag in the flags field of the message is
   TBD (0x01 - subject to IANA approval).

   Bulk Registration Flag (B):

   If the bulk registration flag (B) is set to a value of (1), it serves
   as an indication to the mobile access gateway that the mobile node's
   session was successfully added to the bulk registration set.  The
   value of flag MUST NOT be set to the value of (1), if the value of
   the (B) flag in the Proxy Binding Update message that it received
   from the mobile access gateway was not set to a value of (1).

   All other fields in the Proxy Binding Acknowledgment message and the
   mobility options that can be carried in the message and any related
   considerations confirm to the base Proxy Mobile IPv6 specifications,
   [RFC5213] and [RFC5844].

4.3.  Mobile Node Group Identifier Option

   A new option, Mobile Node Group Identifier option is defined for
   using it in Proxy Mobile IPv6 signaling messages exchanged between a
   local mobility anchor and a mobile access gateway.  This option is
   used for carrying the mobile node's group identifier.  There can be
   multiple instances of this option in a given signaling message,
   however, each of the instance SHOULD have a different sub-type.  The
   alignment requirement for this option is 4n.

   The type value for this option is TBD (46 - subject to IANA approval)



Abinader, et al.         Expires January 3, 2012               [Page 11]

Internet-Draft            Bulk Re-registration                 July 2011


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type     |   Length      |           Sub-type            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Mobile Node Group Identifier                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

               Figure 3: Mobile Node Group Identifier Option

   Type
      <IANA>

   Length
      8-bit unsigned integer indicating the length in octets of the
      option, excluding the type and length fields.  The value for this
      field MUST be set to a value of (6).

   Sub-type
      Identifies the specific group type.  This number space will be
      managed by the IANA.  The sub-type value of (1) is reserved for
      Bulk Re-Registration and Revocation group and the sub-type value
      of (255) is reserved for the group, all nodes attached to the
      mobile access gateway that have mobility sessions on a given local
      mobility anchor.

   Mobile Node Group Identifier   A 32-bit field containing the mobile
      node's group identifier.

   The group identifier reflects the group affiliation that is local to
   a specific LMA-MAG pair.

4.4.  Status Codes

   This document defines the following new Status codes values for use
   in the Proxy Binding Acknowledgement message.  These values are to be
   allocated from the same numbering space, as defined in Section 6.1.8
   of [RFC3775].

   INVALID_MOBILE_NODE_GROUP_IDENTIFIER: IANA

      Invalid group identifier value in the request


5.  Protocol Considerations






Abinader, et al.         Expires January 3, 2012               [Page 12]

Internet-Draft            Bulk Re-registration                 July 2011


5.1.  MAG Considerations

   The following considerations MUST be applied by the mobile access
   gateway.

   The conceptual Binding Update List entry data structure maintained by
   the mobile access gateway, described in Section 6.1 of [RFC5213],
   MUST be extended to store the mobile node's group identifier.  The
   mobile access gateway SHOULD maintain distinct bulk registration sets
   for each local mobility anchor and there could be several such sets
   on a per mobile access gateway basis.

5.1.1.  Requesting a Bulk Re-Registration Group Identifier

   The following sections identify the considerations for requesting the
   local mobility anchor to assigned a Bulk Re-registration and
   Revocation group identifier for the mobility session, so the mobile
   access gateway can use the group identifier when requesting re-
   registration or revocation operation with group specific scope.

   o  When sending a Proxy Binding Update message to the local mobility
      anchor, the mobile access gateway MAY choose to request the local
      mobility anchor to enable bulk re-registration and revocation
      support for the mobility session associated with that Proxy
      Binding Update request.  When making such request, the bulk
      registration flag (B) in the request MUST be set to a value of
      (1).  The decision to request the bulk re-registration mode for a
      mobile node is a matter of local policy at the mobile access
      gateway and is controlled by the configuration variable,
      RequestBulkRegAndRevSupportForMobilitySession.

   o  Upon receiving the Proxy Binding Acknowledgment message with
      status code value set to (0) (Proxy Binding Update accepted), the
      bulk registration flag (B) in the reply is set to a value of (1)
      and there is a mobile node group identifier option present, the
      message serves as a hint that the local mobility anchor has
      enabled bulk registration support for the mobility session and
      that the mobile access gateway MAY use the group identifier when
      requesting re-registration or revocation operation with group
      specific scope.  The group identifier value in Binding Update List
      entry MUST also be updated to include the assigned group
      identifier.

   o  At any point of time, the mobile access gateway chooses to request
      the local mobility anchor to disable bulk re-registration and
      revocation support for a mobility session, it MUST send a Proxy
      Binding Update message with the bulk registration (B) flag set to
      a value of (0).  This message is sent as a normal re-registration



Abinader, et al.         Expires January 3, 2012               [Page 13]

Internet-Draft            Bulk Re-registration                 July 2011


      request for lifetime extension.  Considerations from section 6.9.1
      [RFC5213] MUST be applied.

5.1.2.  Sending a Bulk Re-registration Operation Request

   The following section identifies the considerations for mobile access
   gateway for including a mobile node's mobility session to bulk re-
   registration group.

   o  For extending the lifetime of all mobility sessions that share the
      same group identifier, the mobile access gateway MAY choose to
      send a Bulk re-registration request.  For making such request, it
      can send a Proxy Binding Update message to the local mobility
      anchor including the Mobile Node Group Identifier option.  The
      identifier value in the option MUST be set to the identifier of
      the group for which bulk re-registration operation is being
      requested.  The message MUST NOT include Mobile Node Identifier
      option [RFC5213], Home Network Prefix option [RFC5213], or the
      IPv4 Home Address Request option [RFC5844].  All the
      Considerations from section 5.3.3 [RFC5213] MUST be followed when
      sending this request, with exception related to the use of Mobile
      Node Group Identifier option in place of the individual session
      identifiers.

   o  When requesting binding revocation for all the sessions that share
      the same group identifier, the mobile access gateway MAY choose to
      send a Bulk revocation request.  For making such request, it can
      send a Binding Revocation Indication message to the local mobility
      anchor including the Mobile Node Group Identifier option.  The
      identifier value in the option MUST be set to the identifier of
      the group for which bulk re-registration operation is being
      requested.  The message MUST NOT include Mobile Node Identifier
      option [RFC5213], Home Network Prefix option [RFC5213], or the
      IPv4 Home Address Request option [RFC5844].  All the
      Considerations from section 9.2 [RFC5846] MUST be followed when
      sending this request, with exception related to the use of Mobile
      Node Group Identifier option in place of the individual session
      identifiers.

5.2.  LMA Considerations

   For supporting this specification, the following considerations MUST
   be applied by the local mobility anchor when processing Proxy Mobile
   IPv6 signaling messages.

   The conceptual Binding Cache entry data structure maintained by the
   local mobility anchor, described in Section 5.1 of [RFC5213] must be
   extended to store the mobile node's Bulk Re-Registration and



Abinader, et al.         Expires January 3, 2012               [Page 14]

Internet-Draft            Bulk Re-registration                 July 2011


   Revocation group identifier.

5.2.1.  Assigning a Bulk Re-Registration Group Identifier

   This section identifies the considerations for local mobility anchor
   for assigning a Bulk Re-registration and Revocation group identifier
   to a mobility session.

   o  The local mobility anchor will process a received Proxy Binding
      Update message as specified in [RFC5213].  However, if the bulk
      registration flag (B) in the received Proxy Binding Update message
      is set to a value of (1), or if it includes a Mobile Node Group
      Identifier option, the local mobility anchor applies the following
      additional considerations.

   o  If the bulk registration flag (B) in the received Proxy Binding
      Update message is set to a value of (1) and if the Mobile Node
      Group Identifier option is not present in the request, the message
      serves as a request to the local mobility anchor to include the
      mobile node's session to the bulk re-registration and revocation
      set.  Upon successful processing and acceptance of the Proxy
      Binding Update, the local mobility anchor MAY choose to enable
      bulk re-registration and revocation mode support for this mobility
      session by including the mobility session to the bulk re-
      registration and revocation set.  The decision whether to enable
      bulk re-registration and revocation mode for that mobility session
      is a matter of local policy and is controlled by the configuration
      variable, AcceptBulkRegAndRevSupportForMobilitySession.

   o  For enabling the bulk re-registration and revocation mode support
      for the mobility session, the local mobility anchor MAY choose to
      associate the mobility session with a specific group of mobility
      sessions.  The specific details on how the local mobility anchor
      associates the given mobile node's mobility session to a specific
      bulk re-registration and revocation set is outside the scope of
      this document.  The group identifier field in the Binding Cache
      entry is updated with the identifier of the group to which the
      mobility session is associated.

   o  If the bulk re-registration and revocation mode support is enabled
      for the mobile node's mobility session, the local mobility anchor
      MUST send the group identifier of the bulk re-registration and
      revocation set as part of the Mobile Node Group Identifier option
      in the Proxy Binding Acknowledgment message that it sends to the
      mobile access gateway.  The bulk registration flag (B) in the
      Proxy Binding Acknowledgment message MUST be set to value of (1).





Abinader, et al.         Expires January 3, 2012               [Page 15]

Internet-Draft            Bulk Re-registration                 July 2011


   o  If the bulk re-registration and revocation mode support is not
      enabled for the mobile node's mobility session, the local mobility
      anchor MUST NOT include the Mobile Node Group Identifier option
      with a sub-type value of (1) in the Proxy Binding Acknowledgment
      reply that it sends to the mobile access gateway.  Furthermore,
      bulk registration flag (B) in the Proxy Binding Acknowledgment
      message MUST be set to value of (0).

   o  If the received Proxy Binding Update message is not a bulk re-
      registration request, (i.e., bulk registration (B) flag is set to
      a value of (0) and the Mobile Node Group Identifier option is not
      present), but is a request for extending the lifetime of an
      existing mobility session which is already part of a bulk re-
      registration set, then the local mobility anchor MUST process the
      request as specified in [RFC5213].  However, the value of (0) bulk
      registration (B) flag in the message serves as a request for the
      local mobility anchor to remove the session from performing bulk
      re-registration and revocation operations.  Upon accepting the
      request, the mobility session MUST be removed from the bulk re-
      registration and revocation set.  The value of the group
      identifier in the Binding Cache entry must be set to the value of
      (0).

   o  Any time the local mobility anchor detects that the mobile node
      has roamed and changed its point of attachment to a new mobile
      access gateway, it SHOULD also update the group identifier of the
      mobility session.  As part of sending the Proxy Binding
      Acknowledgment to the new mobile access gateway, it MUST include
      the updated group identifier in the Mobile Node Group identifier
      option.  However, if the if the received Proxy Binding Update from
      the new mobile access gateway did not have bulk registration (B)
      flag set to a value of (1), then it MUST NOT include the mobility
      session in any of bulk re-registration and revocation groups and
      MUST NOT include the Mobile Node Group identifier option with the
      sub-type value of (1).

   o  Any time a mobile node's mobility session is de-registered by the
      mobile access gateway, or the session is revoked for
      administrative or any other reasons, the mobility session MUST
      also be removed from the bulk re-registration and revocation set.
      set.

5.2.2.  Handling a Bulk Re-registration Operation Request

   The following are the considerations related to handling bulk re-
   registration request.





Abinader, et al.         Expires January 3, 2012               [Page 16]

Internet-Draft            Bulk Re-registration                 July 2011


   o  Any time the local mobility anchor receives a Proxy Binding Update
      message with a Mobile Node Group Identifier option present in the
      request and with sub-type value of (1) (bulk registration group),
      the local mobility anchor MUST consider the request as a Bulk Re-
      registration request, with the request scope for extending the
      lifetime of all the mobility sessions that share the same group
      identifier present in the Mobile Node Group Identifier option.
      However, if the received request also includes a Mobile Node
      Identifier option [RFC5213], Home Network Prefix option [RFC5213],
      or the IPv4 Home Address Request option [RFC5844] the local
      mobility anchor MUST consider this as an invalid message; it must
      reject the Proxy Binding Update message and send a Proxy Binding
      Acknowledgement message with the Status field set to
      INVALID_MOBILE_NODE_GROUP_IDENTIFIER (Invalid group identifier
      value in the request).

   o  There can be multiple instances of the Mobile Node Group
      Identifier option with sub-type value of (1), present in the
      request.  However, the group identifier value in each of these
      options MUST be different.  Currently, this specification only
      support sub-type value of (1).  If this requirement is not met,
      the local mobility anchor must reject the Proxy Binding Update
      message and send a Proxy Binding Acknowledgement message with the
      Status field set to INVALID_MOBILE_NODE_GROUP_IDENTIFIER (Invalid
      group identifier value in the request).  The local mobility anchor
      MUST consider the message as a request for extending the lifetime
      of all the mobility sessions that are associated to each of group
      identifier from the Mobile Node Group Identifier option.

   o  Upon accepting the Bulk Re-registration request, the local
      mobility anchor SHOULD extend the lifetime for all the mobility
      sessions that are part of bulk registration sets identified by the
      group identifier option(s) included in the message.
      Considerations from [RFC5213] MUST be applied for extending the
      lifetime of a mobile node's session.  It MUST also send a Proxy
      Binding Acknowledgment message with the Status field value set to
      0 (Proxy Binding Update accepted).  The lifetime field in the
      message MUST be set to the allocated lifetime for all the mobility
      sessions.  The message MUST also include the Mobile Node Group
      Identifier option, with the identifier value copied from the
      Mobile Node Group Identifier option present in the received Proxy
      Binding Update message.

   o  If the local mobility anchor rejects the bulk re-registration
      request for any administrative reason, then it MUST NOT update the
      lifetime in the binding cache entries of any of the mobile nodes
      identified by the group identifier.  The local mobility anchor
      SHOULD send a Proxy Binding Acknowledgment indicating the reason



Abinader, et al.         Expires January 3, 2012               [Page 17]

Internet-Draft            Bulk Re-registration                 July 2011


      for the rejection in the status code.

   o  Any time the local mobility anchor receives a Binding Revocation
      Indication Message [RFC5846], with a Mobile Node Group Identifier
      option present in the request and with sub-type value of (1) (bulk
      re-registration and revocation group), the local mobility anchor
      MUST consider the request as a Bulk Revocation request, with the
      request scope for revoking of all the mobility sessions that share
      the same group identifier present in the Mobile Node Group
      Identifier option.  However, if the received request also includes
      a Mobile Node Identifier option [RFC5213], Home Network Prefix
      option [RFC5213], or the IPv4 Home Address Request option
      [RFC5844] the local mobility anchor MUST consider this as an
      invalid message; it must reject the Binding Revocation Indication
      message and send a Binding Revocation Acknowledgement message with
      the Status field set to a value of 128 (Binding Does NOT Exist).
      All the considerations from [RFC5846] apply when processing
      binding revocation request, expect making the scope of the
      operation apply to a set of mobility sessions identified by the
      group identifier present in the request.

   o  Upon accepting the Binding Revocation Indication request and
      completing the operation, the local mobility anchor MUST send a
      Binding Revocation Acknowledgement message with the Status field
      set to a value of 0 (success).  The message MUST include the
      Mobile Node Group Identifier option, with the identifier value
      copied from the Mobile Node Group Identifier option present in the
      received Binding Revocation Indication message.


6.  Protocol Configuration Variables

6.1.  Local Mobility Anchor - Configuration Variables

   The local mobility anchor MUST allow the following variables to be
   configured by the system management.  The configured values for these
   protocol variables MUST survive server reboots and service restarts.

   AcceptBulkRegAndRevSupportForMobilitySession

      This flag indicates whether or not the local mobility anchor
      should accept the request from the mobile access gateway to enable
      Bulk Re-Registration and Revocation support for the mobility
      session.  The default value for this flag is set to (1),
      indicating that it SHOULD accept the request from the mobile
      access gateway.  If the value of the flag is set to (0), the local
      mobility anchor MUST deny the request.




Abinader, et al.         Expires January 3, 2012               [Page 18]

Internet-Draft            Bulk Re-registration                 July 2011


6.2.  Mobile Access Gateway - Configuration Variables

   The mobile access gateway MUST allow the following variables to be
   configured by the system management.  The configured values for these
   protocol variables MUST survive server reboots and service restarts.

   RequestBulkRegAndRevSupportForMobilitySession

      This flag indicates whether or not the mobile access gateway
      should request the local mobility anchor to enable Bulk Re-
      Registration and Revocation support for the mobility session.  The
      default value for this flag is set to (1), indicating that the the
      mobile access gateway MUST set the bulk registration flag (B) in
      the Proxy Binding Update request.  If the flag is set to a value
      of (0), the mobile access gateway MUST set the bulk registration
      flag (B) in the Proxy Binding Update request to a value of (1).


7.  IANA Considerations

   This document requires the following five IANA actions.

   o  Action-1: This specification defines a new flag (B) to the Proxy
      Binding Update message, specified in [RFC5213].  This flag is
      described in Section 4.1.  The value of the flag (B) needs to be
      allocated from the Binding Update Flags registry.

   o  Action-2: This specification defines a new flag (B) to the Proxy
      Binding Acknowledgment message, specified in [RFC5213].  This flag
      is described in Section 4.2.  The value of the flag (B) needs to
      be allocated from the Binding Acknowledgment Flags registry.

   o  Action-3: This specification defines a new Mobility Header option,
      the Mobile Node Group Identifier option.  This option is described
      in Section 4.3.  The Type value for this option needs to be
      assigned from the same numbering space as allocated for the other
      mobility options [RFC3775].

   o  Action-4: The Sub-type field of the Mobile Node Group Identifier
      option introduces a new number space.  This number space needs to
      be managed by IANA, under the Registry, Mobile Node Group
      Identifier Type Registry.  This specification reserves the sub-
      type value of (1) and (255).  Approval of new sub-type values are
      to be made through IANA Expert Review.

   o  Action-5: This document also defines new status values, used in
      Proxy Binding Acknowledgement message, as described in
      Section 4.4.  These values are to be assigned from the same number



Abinader, et al.         Expires January 3, 2012               [Page 19]

Internet-Draft            Bulk Re-registration                 July 2011


      space as allocated for other Status codes [RFC3775].  Each of
      these allocated values have to be greater than 128.

   INVALID_MOBILE_NODE_GROUP_IDENTIFIER

   o  Invalid group identifier value in the request: IANA


8.  Security Considerations

   The Mobile Node Group Identifier option defined in this specification
   is for use in Proxy Binding Update and Proxy Binding Acknowledgement
   messages.  This option is carried like any other mobility header
   option as specified in [RFC3775] and does not require any other
   special security considerations.

   As per [RFC5213], the Mobile Node Identifier option, which carries
   the identification of the mobile node is always present in the Proxy
   Mobile IPv6 signaling messages.  When these signaling messages are
   not privacy protected by IPsec or any other mechanism, it can result
   in compromising the privacy of the user to an attacker monitoring
   these messages.  Similarly, when carrying the Mobile Node Group
   Identifier option in Proxy Mobile IPv6 signaling messages with no
   privacy protection turned on, the same vulnerability will be present.
   Specifically, the group affiliation of the user when exposed can
   result in compromising the privacy of the user or the location
   information.

   The Bulk binding update operations specified in this document, do not
   introduce any new security threat or vulnerability to the Proxy
   Mobile IPv6 protocol security.


9.  Acknowledgements

   The authors would like to specially thank Jouni Korhonen and
   Basavaraj Patil for their reviews and inputs to the document.

   The authors would like to acknowledge all the prior discussions on
   this topic in netlmm mailing list.


10.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3775]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support



Abinader, et al.         Expires January 3, 2012               [Page 20]

Internet-Draft            Bulk Re-registration                 July 2011


              in IPv6", RFC 3775, June 2004.

   [RFC5213]  Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K.,
              and B. Patil, "Proxy Mobile IPv6", RFC 5213, August 2008.

   [RFC5844]  Wakikawa, R. and S. Gundavelli, "IPv4 Support for Proxy
              Mobile IPv6", RFC 5844, May 2010.

   [RFC5846]  Muhanna, A., Khalil, M., Gundavelli, S., Chowdhury, K.,
              and P. Yegani, "Binding Revocation for IPv6 Mobility",
              RFC 5846, June 2010.


Authors' Addresses

   Fuad Abinader (editor)
   Instituto Nokia de Tecnologia
   Av. Torquato Tapajos, 7200 - Km. 12 - Col Terra Nova
   Manaus, AM  69048-660
   BRAZIL

   Email: fuad.junior@indt.org.br


   Sri Gundavelli (editor)
   Cisco
   170 West Tasman Drive
   San Jose, CA  95134
   USA

   Phone:
   Fax:
   Email: sgundave@cisco.com
   URI:


   Kent Leung
   Cisco
   170 West Tasman Drive
   San Jose, CA  95134
   USA

   Phone:
   Fax:
   Email: kleung@cisco.com
   URI:





Abinader, et al.         Expires January 3, 2012               [Page 21]

Internet-Draft            Bulk Re-registration                 July 2011


   Suresh Krishnan
   Ericsson
   8400 Decarie Blvd.
   Town of Mount Royal, QC
   Canada

   Phone: +1 514 345 7900 x42871
   Fax:
   Email: suresh.krishnan@ericsson.com
   URI:


   Domagoj Premec
   Unaffiliated


   Email: domagoj.premec@gmail.com


































Abinader, et al.         Expires January 3, 2012               [Page 22]

