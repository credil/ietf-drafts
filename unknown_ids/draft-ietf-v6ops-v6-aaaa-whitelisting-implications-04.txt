


IPv6 Operations                                             J. Livingood
Internet-Draft                                                   Comcast
Intended status: Informational                              May 29, 2011
Expires: November 30, 2011


                IPv6 AAAA DNS Whitelisting Implications
         draft-ietf-v6ops-v6-aaaa-whitelisting-implications-04

Abstract

   The objective of this document is to describe the practice of
   whitelisting of DNS recursive resolvers in order to limit AAAA
   resource records responses, which contain IPv6 addresses, hereafter
   referred to as DNS Whitelisting, as well as the implications of this
   emerging practice and what alternatives or variations may exist.
   This practice is a type of IPv6 transition mechanism used by domains,
   as a method for incrementally transitioning inbound traffic to a
   domain from IPv4 to IPv6 transport.  The audience for this document
   is the Internet community generally, particularly IPv6 implementers.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on November 30, 2011.

Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



Livingood               Expires November 30, 2011               [Page 1]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   2.  How DNS Whitelisting Works . . . . . . . . . . . . . . . . . .  5
     2.1.  Description of the Operation of DNS Whitelisting . . . . .  6
     2.2.  Comparison with Blacklisting . . . . . . . . . . . . . . .  8
   3.  What Problems Are Implementers Trying To Solve?  . . . . . . .  8
     3.1.  IPv6-Related Impairment  . . . . . . . . . . . . . . . . .  9
     3.2.  Volume-Based Concerns  . . . . . . . . . . . . . . . . . . 10
     3.3.  Free Versus Subscription Services  . . . . . . . . . . . . 10
   4.  Concerns Regarding DNS Whitelisting  . . . . . . . . . . . . . 10
   5.  Similarities to Other DNS Operations . . . . . . . . . . . . . 13
     5.1.  Similarities to Split DNS  . . . . . . . . . . . . . . . . 13
     5.2.  Similarities to DNS Load Balancing . . . . . . . . . . . . 13
   6.  Possible Deployment Scenarios  . . . . . . . . . . . . . . . . 14
     6.1.  Deploying DNS Whitelisting On An Ad Hoc Basis  . . . . . . 14
     6.2.  Deploying DNS Whitelisting Universally . . . . . . . . . . 15
   7.  Implications of DNS Whitelisting . . . . . . . . . . . . . . . 16
     7.1.  Architectural Implications . . . . . . . . . . . . . . . . 16
     7.2.  Public IPv6 Address Reachability Implications  . . . . . . 17
     7.3.  Operational Implications . . . . . . . . . . . . . . . . . 18
       7.3.1.  De-Whitelisting May Occur  . . . . . . . . . . . . . . 18
       7.3.2.  Authoritative DNS Server Operational Implications  . . 18
       7.3.3.  DNS Recursive Resolver Server Operational
               Implications . . . . . . . . . . . . . . . . . . . . . 19
       7.3.4.  Monitoring Implications  . . . . . . . . . . . . . . . 20
       7.3.5.  Implications of Operational Momentum . . . . . . . . . 21
       7.3.6.  Troubleshooting Implications . . . . . . . . . . . . . 21
       7.3.7.  Additional Implications If Deployed On An Ad Hoc
               Basis  . . . . . . . . . . . . . . . . . . . . . . . . 21
     7.4.  Homogeneity May Be Encouraged  . . . . . . . . . . . . . . 22
     7.5.  Technology Policy Implications . . . . . . . . . . . . . . 22
     7.6.  IPv6 Adoption Implications . . . . . . . . . . . . . . . . 24
     7.7.  Implications with Poor IPv4 and Good IPv6 Transport  . . . 24
     7.8.  Implications for Users of Third-Party DNS Recursive
           Resolvers  . . . . . . . . . . . . . . . . . . . . . . . . 25
   8.  General Implementation Variations  . . . . . . . . . . . . . . 26
     8.1.  Implement DNS Whitelisting Universally . . . . . . . . . . 26
     8.2.  Implement DNS Whitelisting On An Ad Hoc Basis  . . . . . . 26
     8.3.  Do Not Implement DNS Whitelisting  . . . . . . . . . . . . 26
       8.3.1.  Solve Current End User IPv6 Impairments  . . . . . . . 26
       8.3.2.  Gain Experience Using IPv6 Transition Names  . . . . . 27



Livingood               Expires November 30, 2011               [Page 2]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


       8.3.3.  Implement DNS Blacklisting . . . . . . . . . . . . . . 27
   9.  Is DNS Whitelisting a Recommended Practice?  . . . . . . . . . 28
   10. Security Considerations  . . . . . . . . . . . . . . . . . . . 28
     10.1. DNSSEC Considerations  . . . . . . . . . . . . . . . . . . 29
     10.2. Authoritative DNS Response Consistency Considerations  . . 29
   11. Privacy Considerations . . . . . . . . . . . . . . . . . . . . 30
   12. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 30
   13. Contributors . . . . . . . . . . . . . . . . . . . . . . . . . 30
   14. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 31
   15. References . . . . . . . . . . . . . . . . . . . . . . . . . . 32
     15.1. Normative References . . . . . . . . . . . . . . . . . . . 32
     15.2. Informative References . . . . . . . . . . . . . . . . . . 33
   Appendix A.  Document Change Log . . . . . . . . . . . . . . . . . 35
   Appendix B.  Open Issues . . . . . . . . . . . . . . . . . . . . . 37
   Author's Address . . . . . . . . . . . . . . . . . . . . . . . . . 39




































Livingood               Expires November 30, 2011               [Page 3]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


1.  Introduction

   This document describes the emerging practice of whitelisting of DNS
   recursive resolvers in order to limit AAAA resource record (RR)
   responses, which contain IPv6 addresses, hereafter referred to as DNS
   Whitelisting.  The document explores the implications of this
   emerging practice are and what alternatives may exist.  When
   implemented, DNS Whitelisting in practice means that a domain's
   authoritative DNS will return a AAAA resource record to DNS recursive
   resolvers [RFC1035] on the whitelist, while returning no AAAA
   resource records to DNS resolvers which are not on the whitelist.
   This practice is a type of IPv6 transition mechanism used by domains,
   as a method for incrementally transitioning inbound traffic to a
   domain from IPv4 to IPv6 transport.  The practice appears to have
   first been used by major web content sites (sometimes described
   herein as "high-traffic domains"), which have specific concerns
   relating to maintain a high-quality user experience for all of their
   users during their transition to IPv6.

   Critics of the practice of DNS Whitelisting have articulated several
   concerns.  Among these are that:

   o  DNS Whitelisting is a very different behavior from the current
      practice concerning the publishing of IPv4 address resource
      records,

   o  that it may create a two-tiered Internet,

   o  that policies and decision-making for whitelisting and de-
      whitelisting are opaque or likely to cause conflict,

   o  that DNS Whitelisting reduces interest in the deployment of IPv6,

   o  that new operational and management burdens are created,

   o  that the practice does not scale,

   o  that it violates a basic premise of cross-Internet
      interoperability by requiring prior arrangements,

   o  and that the costs and negative implications of DNS Whitelisting
      outweigh the perceived benefits.

   This document explores the reasons and motivations for DNS
   Whitelisting Section 3.  It also explores the concerns regarding this
   practice, and whether and when the practice is recommended Section 9.
   Readers will hopefully better understand what DNS Whitelisting is,
   why some parties are implementing it, and what criticisms of the



Livingood               Expires November 30, 2011               [Page 4]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   practice exist.


2.  How DNS Whitelisting Works

   At a high level, using a whitelist means no traffic is permitted to
   the destination host unless the originating host's IP address is
   contained in the whitelist.  In contrast, using a blacklist means
   that all traffic is permitted to the destination host unless the
   originating host's IP address is contained in the blacklist.

   DNS Whitelisting is implemented in authoritative DNS servers, not in
   DNS recursive resolvers.  These authoritative servers implement IP
   address-based restrictions on AAAA query responses.  So far, DNS
   Whitelisting has been primarily implemented by web server operators
   deploying IPv6-enabled services, though this practice would affect
   any protocols and services within a domain.  For a given operator of
   a website, such as www.example.com, the operator essentially applies
   an access control list (ACL) on the authoritative DNS servers for the
   domain example.com.  The ACL is populated with the IPv4 and/or IPv6
   addresses or prefix ranges of DNS recursive resolvers on the
   Internet, which have been authorized to receive AAAA resource record
   responses.  These DNS recursive resolvers are operated by third
   parties, such as ISPs, universities, governments, businesses, and
   individual end users.  If a DNS recursive resolver IS NOT matched in
   the ACL, then AAAA resource records will NOT be sent in response to a
   query for a hostname in the example.com domain.  However, if a DNS
   recursive resolver IS matched in the ACL, then AAAA resource records
   will be sent in response to a query for a given hostname in the
   example.com domain.  While these are not network-layer access
   controls they are nonetheless access controls that are a factor for
   end users and other parties like network operators, especially as
   networks and hosts transition from one network address family to
   another (IPv4 to IPv6).

   In practice, DNS Whitelisting generally means that a very small
   fraction of the DNS recursive resolvers on the Internet (those in the
   whitelist ACL) will receive AAAA responses.  The large majority of
   DNS resolvers on the Internet will therefore receive only A resource
   records containing IPv4 addresses.  Thus, quite simply, the
   authoritative server hands out different answers depending upon who
   is asking; with IPv4 and IPv6 resource records for all those the
   authorized whitelist, and only IPv4 resource records for everyone
   else.  See Section 2.1 and Figure 1 for a description of how this
   works.

   DNS Whitelisting also works independently of whether an authoritative
   DNS server, DNS recursive resolver, or end user host uses IPv4



Livingood               Expires November 30, 2011               [Page 5]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   transport, IPv6, or both.  So, for example, whitelisting may prevent
   sending AAAA responses even in those cases where the DNS recursive
   resolver has queried the authoritative server over IPv6 transport, or
   where the end user host's original query to the DNS recursive
   resolver was over IPv6 transport.  One important reason for this is
   that even though the DNS recursive resolver may have no IPv6-related
   impairments, this is not a reliable predictor of whether the same is
   true of the end user host.  This also means that a DNS whitelist can
   contain both IPv4 and IPv6 addresses.

   Finally, DNS Whitelisting can be deployed in two primary ways:
   universally on a global basis, or on an ad hoc basis.  Deployment on
   a universal deployment basis means that DNS Whitelisting is
   implemented on all authoritative DNS servers, across the entire
   Internet.  In contrast, deployment on an ad hoc basis means that only
   some authoritative DNS servers, and perhaps even only a few,
   implement DNS Whitelisting.  These two potential deployment models
   are described in Section 6.

2.1.  Description of the Operation of DNS Whitelisting

   The system logic of DNS Whitelisting is as follows:

   1.  The authoritative DNS server for example.com receives DNS queries
       for the A (IPv4) and/or AAAA (IPv6) address resource records for
       the FQDN www.example.com, for which AAAA (IPv6) resource records
       exist.

   2.  The authoritative DNS server checks the IP address (IPv4, IPv6,
       or both) of the DNS recursive resolver sending the AAAA (IPv6)
       query against the access control list (ACL) that is the DNS
       whitelist.

   3.  If the DNS recursive resolver's IP address IS matched in the ACL,
       then the response to that specific DNS recursive resolver can
       contain AAAA (IPv6) address resource records.

   4.  If the DNS recursive resolver's IP address IS NOT matched in the
       ACL, then the response to that specific DNS recursive resolver
       cannot contain AAAA (IPv6) address resource records.  In this
       case, the server should return a response with the response code
       (RCODE) being set to 0 (No Error) with an empty answer section
       for the AAAA record query.








Livingood               Expires November 30, 2011               [Page 6]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   ---------------------------------------------------------------------
   A query is sent from a DNS recursive resolver that IS NOT on the DNS
   whitelist:

               Request                      Request
           www.example.com                  www.example.com
                 AAAA    +-------------+     AAAA    +-----------------+
     ++--++   ---------> |  RESOLVER   |  ---------> | www.example.com |
     ||  ||       A      | **IS NOT**  |      A      | IN A exists     |
   +-++--++-+ ---------> |     ON      |  ---------> | IN AAAA exists  |
   +--------+     A      | example.com |      A      |                 |
      Host    <--------- |  WHITELIST  |  <--------- |                 |
    Computer   A Record  +-------------+  A Record   +-----------------+
               Response   DNS Recursive   Response       example.com
              (only IPv4)   Resolver     (only IPv4)    Authoritative
                              #1                           Server
   ---------------------------------------------------------------------
   A query is sent from a DNS recursive resolver that IS on the DNS
   Whitelist:

               Request                      Request
           www.example.com                  www.example.com
                AAAA     +-------------+     AAAA    +-----------------+
     ++--++   ---------> |  RESOLVER   |  ---------> | www.example.com |
     ||  ||       A      |   **IS**    |      A      | IN A exists     |
   +-++--++-+ ---------> |     ON      |  ---------> | IN AAAA exists  |
   +--------+   AAAA     | example.com |     AAAA    |                 |
      Host    <--------- |  WHITELIST  |  <--------- |                 |
    Computer      A      |             |      A      |                 |
              <--------- |             |  <--------- |                 |
              A and AAAA +-------------+ A and AAAA  +-----------------+
               Record     DNS Recursive   Record        example.com
              Responses     Resolver     Responses      Authoritative
              (IPv4+IPv6)      #2        (IPv4+IPv6)       Server
   ---------------------------------------------------------------------

              Figure 1: DNS Whitelisting - Functional Diagram














Livingood               Expires November 30, 2011               [Page 7]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


  ---------------------------------------------------------------------
  Resolver 1 - IS NOT ON the DNS Whitelist
  Resolver 2 - IS ON the DNS Whitelist
  ---------------------------------------------------------------------
  Host 1                      Resolver 1          Authoritative Server
  Query A and AAAA    -----> Query A and AAAA    ----> Receive A and
  for www.example.com        for www.example.com       AAAA queries

  A (IPv4)   <------------- A (IPv4) <--------------- NOT on Whitelist
  response                  response                return only A (IPv4)
  ---------------------------------------------------------------------
  Host 2                       Resolver 2          Authoritative Server
  Query A and AAAA    -----> Query A and AAAA    ----> Receive A and
  for www.example.com        for www.example.com       AAAA queries

  A (IPv4)   <------------- A (IPv4) and <------------ IS on Whitelist
  AAAA (IPv6)               AAAA (IPv6)                return A (IPv4)
  responses                 responses                  and AAAA (IPv6)
  ---------------------------------------------------------------------

           Figure 2: DNS Whitelisting - Request/Response Diagram

2.2.  Comparison with Blacklisting

   With DNS Whitelisting, DNS recursive resolvers can receive AAAA
   resource records only if they are on the whitelist.  In contrast,
   blacklisting would be the opposite whereby all DNS recursive
   resolvers can receive AAAA resource records unless they are on the
   blacklist.  So a whitelist contains a list of hosts allowed
   something, whereby a blacklist contains a list of hosts disallowed
   something.  While the distinction between the concepts of
   whitelisting and blacklisting are important, this is noted
   specifically since some implementers of DNS Whitelisting may choose
   to transition to DNS Blacklisting before returning to a state without
   address-family-related ACLs in their authoritative DNS servers.  It
   is unclear when and if it would be appropriate to change from
   whitelisting to blacklisting.  Nor is it clear how implementers will
   judge the network conditions to have changed sufficiently to justify
   disabling AAAA resource record access controls.


3.  What Problems Are Implementers Trying To Solve?

   Implementers are attempting to protect users of their domain from
   having a negative experience (poor performance) when they receive DNS
   response containing AAAA resource records or when attempting to use
   IPv6 transport.  Therefore there are two concerns which relate to
   this practice; one of which relates to IPv6-related impairment and



Livingood               Expires November 30, 2011               [Page 8]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   the other which relates to the maturity or stability of IPv6
   transport for high-traffic domains.

   Finally, some domains, have run IPv6 experiments whereby they added
   AAAA resource records and observed and measured errors [Heise Online
   Experiment], which should be important reading for any domain
   contemplating either the use of DNS Whitelisting or simply adding
   IPv6 addressing to their site.

3.1.  IPv6-Related Impairment

   Some implementers have observed that when they added AAAA resource
   records to their authoritative DNS servers in order to support IPv6
   access to their content that a small fraction of end users had slow
   or otherwise impaired access to a given web site with both AAAA and A
   resource records.  The fraction of users with such impaired access
   has been estimated to be as high as 0.078% of total Internet users
   [IETF-77-DNSOP] [NW-Article-DNSOP] [Evaluating IPv6 Adoption] [IPv6
   Brokenness].  In these situations, DNS recursive resolvers are added
   to the DNS Whitelist only when the measured level of impairment of
   the hosts using that resolver declines to some level acceptable by
   the implementer.

   As a result of this impairment affecting end users of a given domain,
   a few high-traffic domains have either implemented DNS Whitelisting
   or are considering doing so [NW-Article-DNS-WL] [IPv6 Whitelist
   Operations].  While it is outside the scope of this document to
   explore the various reasons why a particular user's system (host) may
   have impaired IPv6 access, for the users who experience this
   impairment it has a very real performance impact.  It would affect
   access to all or most dual stack services to which the user attempts
   to connect.  This negative end user experience can range from
   somewhat slower than usual (as compared to native IPv4-based access),
   to extremely slow, to no access to the domain whatsoever.  In
   essence, whether the end user even has an IPv6 address or not (they
   probably only have an IPv4 address), merely by receiving a AAAA
   record response the user either cannot access a FQDN or it is so slow
   that the user gives up and assumes the destination is unreachable.

   In addition, at least one high-traffic domain has noted that they
   have received requests to not send DNS responses with AAAA resource
   records to particular resolvers.  In this case, DNS recursive
   resolvers operators have expressed a short-term concern that their
   IPv6 network infrastructure is not yet ready to handle the large
   traffic volume that may be associated with the hosts in their network
   connecting to the websites of these domains.  These end user networks
   may also have other tools at their disposal in order to address this
   concern, including applying rules to network equipment such as



Livingood               Expires November 30, 2011               [Page 9]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   routers and firewalls (this will necessarily vary by the type of
   network, as well as the technologies used and the design of a given
   network), as well as configuration of their DNS recursive resolvers
   (though modifying or suppressing AAAA resource records in a DNSSEC-
   signed domain on a Security-Aware Resolver will be problematic
   Section 10.1).

3.2.  Volume-Based Concerns

   Some implementers are trying to gradually add IPv6 traffic to their
   domain since they may find that network operations, tools, processes
   and procedures are less mature for IPv6 as compared to IPv4.  While
   for domains with small to moderate traffic volumes, whether by the
   count of end users or count of bytes transferred, high-traffic
   domains receive such a level of usage that it is prudent to undertake
   any network changes gradually or in a manner which minimizes any risk
   of disruption.  For example, one can imagine for one of the top ten
   sites globally that the idea of suddenly turning on a significant
   amount of IPv6 traffic might be quite daunting.  DNS Whitelisting may
   therefore offer such high-traffic domains one potential method for
   incrementally enabling IPv6.  Thus, some implementers with high-
   traffic domains plan to use DNS Whitelisting is a necessary, though
   temporary, risk reduction tactic intended to ease their transition to
   IPv6 and minimize any perceived risk in such a transition.

3.3.  Free Versus Subscription Services

   It is also worth noting the differences between domains containing
   primarily subscription-based services compared to those containing
   primarily free services.  In the case of free services, such as
   search engines, end users have no direct billing relationship with
   the domain and can switch sites simply by changing the address they
   enter into their browser (ignoring other value added services which
   may tie a user?s preference to a given domain or otherwise create
   switching costs).  As a result, such domains explain that they
   believe they are more sensitive to the quality of the services within
   their domain since if the user has issues when they turn on IPv6,
   then that user could switch to another domain that is not using IPv6.


4.  Concerns Regarding DNS Whitelisting

   The implications relating to DNS Whitelisting are further enumerated
   here and in Section 7.

   Some parties in the Internet community, including ISPs, are concerned
   that the practice of DNS Whitelisting for IPv6 address resource
   records represents a departure from the generally accepted practices



Livingood               Expires November 30, 2011              [Page 10]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   regarding IPv4 address resource records in the DNS on the Internet
   [Whitelisting Concerns].  These parties explain their belief that
   once an authoritative server operator adds an A record (IPv4) to the
   DNS, then any DNS recursive resolver on the Internet can receive that
   A record in response to a query.  By extension, this means that any
   of the hosts connected to any of these DNS recursive resolvers can
   receive the IPv4 address resource records for a given FQDN.  This
   enables new server hosts which are connected to the Internet, and for
   which a fully qualified domain name (FQDN) such as www.example.com
   has been added to the DNS with an IPv4 address record, to be almost
   immediately reachable by any host on the Internet.  In this case,
   these new servers hosts become more and more widely accessible as new
   networks and new end user hosts connect to the Internet over time,
   capitalizing on and increasing so-called "network effects" (also
   called network externalities).  It also means that the new server
   hosts do not need to know about these new networks and new end user
   hosts in order to make their content and applications available to
   them, in essence that each end in this end-to-end model is
   responsible for connecting to the Internet and once they have done so
   they can connect to each other without additional impediments or
   middle networks or intervening networks or servers knowing about
   these end points and whether one is allowed to contact the other.

   In contrast, the concern is that DNS Whitelisting may fundamentally
   change this model.  In the altered DNS Whitelisting end-to-end model,
   one end (where the end user is located) cannot readily connect to the
   other end (where the content is located), without parts of the middle
   (DNS recursive resolvers) used by one end (the client, or end user
   hosts) being known to an intermediary (authoritative nameservers) and
   approved for access to the resource at the end.  As new networks
   connect to the Internet over time, those networks need to contact any
   and all domains which have implemented DNS Whitelisting in order to
   apply to be added to their DNS whitelist, in the hopes of making the
   content and applications residing on named server hosts in those
   domains accessible by the end user hosts on that new network.
   Furthermore, this same need to contact all domains implementing DNS
   Whitelisting also applies to all pre-existing (but not whitelisted)
   networks connected to the Internet.

   In the current IPv4 Internet when a new server host is added to the
   Internet it is generally widely available to all end user hosts; when
   DNS Whitelisting of IPv6 resource records is used, these new server
   hosts are not accessible via a FQDN by any end user hosts until such
   time as the operator of the authoritative DNS servers for those new
   server hosts expressly authorizes access to those new server hosts by
   adding DNS recursive resolvers around the Internet to the ACL.  This
   has the potential to be a significant change in reachability of
   content and applications by end users and networks as these end user



Livingood               Expires November 30, 2011              [Page 11]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   hosts and networks transition to IPv6, resulting in more (but
   different) breakage.  A concern expressed is that if much of the
   content that end users are most interested in is not accessible as a
   result, then end users and/or networks may resist adoption of IPv6 or
   actively seek alternatives to it, such as using multi-layer network
   address translation (NAT) techniques like NAT444
   [I-D.shirasaki-nat444] on a long-term basis.  There is also concern
   that this practice could disrupt the continued increase in Internet
   adoption by end users if they cannot simply access new content and
   applications but must instead contact the operator of their DNS
   recursive resolver, such as their ISP or another third party, to have
   their DNS recursive resolver authorized for access to the content or
   applications that interests them.  Meanwhile, these parties say, over
   99.9% of the other end users that are also using that same network or
   DNS recursive resolver are unable to access the IPv6-based content,
   despite their experience being a positive one.

   While in Section 1 the level of IPv6-related impairment has been
   estimated to be as high as 0.078% of Internet users, which is a
   primary motivation cited for the practice of DNS Whitelisting, it is
   not clear if the level of IPv4-related impairment is more or less
   that this percentage (which in any case is likely to have declined
   since its original citation).  Indeed, as at least one document
   reviewer has pointed out, it may simply be that websites are only
   measuring IPv6 impairments and not IPv4 impairments, whether because
   IPv6 is new or whether those websites are simply unable to or are
   otherwise not in a position to be able to measure IPv4 impairment
   (since this could result in no Internet access whatsoever).  As a
   result, it is worth considering that IPv4-related impairment could
   exceed that of IPv6-related impairment and that such IPv4-related
   impairment may have simply been accepted as "background noise" on the
   Internet for a variety of reasons.  Of course, this comparison of the
   level of worldwide IPv6 impairments to IPv4 impairments is
   speculation, as the author is not aware of any good measurement of
   IPv4-related impairments which are comparable in nature to the IPv6-
   related impairment measurements which have recently been conducted
   around the world.

   An additional concern is that the IP address of a DNS recursive
   resolver is not a precise indicator of the IPv6 preparedness, or lack
   of IPv6-related impairments, of end user hosts which query (use) a
   particular DNS recursive resolver.  While the DNS recursive resolver
   may be an imperfect proxy for judging IPv6 preparedness, it is at
   least one of the best available methods at the current time.







Livingood               Expires November 30, 2011              [Page 12]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


5.  Similarities to Other DNS Operations

   Some aspects of DNS Whitelisting may be considered similar to other
   common DNS operational techniques which are explored below.

5.1.  Similarities to Split DNS

   DNS Whitelisting has some similarities to so-called split DNS,
   briefly described in Section 3.8 of [RFC2775].  When split DNS is
   used, the authoritative DNS server returns different responses
   depending upon what host has sent the query.  While [RFC2775] notes
   the typical use of split DNS is to provide one answer to hosts on an
   Intranet and a different answer to hosts on the Internet, the essence
   is that different answers are provided to hosts on different
   networks.  This is basically the way that DNS Whitelisting works,
   whereby hosts on different networks which use different DNS recursive
   resolvers, receive different answers if one DNS recursive resolver is
   on the whitelist and the other is not.

   In [RFC2956], Internet transparency and Internet fragmentation
   concerns regarding split DNS are detailed in Section 2.1.  [RFC2956]
   further notes in Section 2.7, concerns regarding split DNS and that
   it "makes the use of Fully Qualified Domain Names (FQDNs) as endpoint
   identifiers more complex."  Section 3.5 of [RFC2956] further
   recommends that maintaining a stable approach to DNS operations is
   key during transitions such as the one to IPv6 that is underway now,
   stating that "Operational stability of DNS is paramount, especially
   during a transition of the network layer, and both IPv6 and some
   network address translation techniques place a heavier burden on
   DNS."

5.2.  Similarities to DNS Load Balancing

   DNS Whitelisting also has some similarities to DNS load balancing.
   There are of course many ways that DNS load balancing can be
   performed.  In one example, multiple IP address resource records (A
   and/or AAAA) can be added to the DNS for a given FQDN.  This approach
   is referred to as DNS round robin [RFC1794].  DNS round robin may
   also be employed where SRV resource records are used [RFC2782].

   In another example, one or more of the IP address resource records in
   the DNS will direct traffic to a load balancer.  That load balancer,
   in turn, may be application-aware, and pass the traffic on to one or
   more hosts connected to the load balancer which have different IP
   addresses.  In cases where private IPv4 addresses are used [RFC1918],
   as well as when public IP addresses are used, those end hosts may not
   be directly reachable without passing through the load balancer first
   .  As such, while the IP address resource records have been added to



Livingood               Expires November 30, 2011              [Page 13]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   the DNS, the end hosts are not necessarily directly reachable, which
   is in a small way similar to one aspect of DNS Whitelisting.

   Additionally, a geographically-aware authoritative DNS server may be
   used, as is common with Content Delivery Networks (CDNs) or Global
   Load Balancing (GLB, also referred to as Global Server Load
   Balancing, or GSLB), whereby the IP address resource records returned
   to a resolver in response to a query will vary based on the estimated
   geographic location of the resolver [Resolvers in the Wild].  CDNs
   perform this function in order to attempt to direct hosts to connect
   to the nearest content cache.  As a result, one can see some
   similarities with DNS Whitelisting insofar as different IP address
   resource records are selectively returned to resolvers based on the
   IP address of each resolver (or other imputed factors related to that
   IP address).  However, what is different is that in this case the
   resolvers are not deliberately blocked from receiving DNS responses
   containing an entire class of addresses; this load balancing function
   strives to perform a content location-improvement function and not an
   access control function.


6.  Possible Deployment Scenarios

   In considering how DNS Whitelisting may emerge more widely, there are
   two main deployment scenarios, which are explored below.

   In either of these deployment scenarios, it is possible that
   reputable third parties could create and maintain DNS whitelists, in
   much the same way that blacklists are distributed and used for
   reducing email spam.  In the email context, a mail operator
   subscribes to one or more of these lists and as such the operational
   processes for additions and deletions to the list are managed by a
   third party.  A similar model could emerge for DNS Whitelisting,
   whether deployment occurs universally or on an ad hoc basis.

   An additional factor in either scenario is that a DNS recursive
   resolver operator will have to determine whether or not DNS
   Whitelisting has been implemented for a domain, since the absence of
   AAAA resource records may simply be indicative that the domain has
   not yet added IPv6 addressing for the domain, rather than that they
   have done so but are using DNS Whitelisting.  This will be
   challenging at scale.

6.1.  Deploying DNS Whitelisting On An Ad Hoc Basis

   The most likely deployment scenario is where some authoritative DNS
   server operators implement DNS Whitelisting but many or most others
   do not do so.  What can make this scenario challenging from the



Livingood               Expires November 30, 2011              [Page 14]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   standpoint of a DNS recursive resolver operator is determining which
   domains implement DNS Whitelisting, particularly since a domain may
   not do so as they initially transition to IPv6, and may instead do so
   later.  Thus, a DNS recursive resolver operator may initially believe
   that they can receive AAAA responses as a domain adopts IPv6, but
   then notice via end user reports that they no longer receive AAAA
   responses due to that domain adopting DNS Whitelisting.  Of course, a
   domain's IPv6 transition may be effectively invisible to DNS
   recursive resolver operators due to the effect of DNS Whitelisting.

   One benefit of DNS Whitelisting being deployed on an ad hoc basis is
   that only the domains that are interested in doing so would have to
   upgrade their authoritative DNS servers in order to implement the
   ACLs necessary to perform DNS Whitelisting.  Some domains have
   proposed or are implementing this and are manually updating their
   whitelist, while other such as CDNs have discussed the possibility of
   an automated method for doing so.

   In this potential deployment scenario, it is also possible that a
   given domain will implement DNS Whitelisting temporarily.  A domain,
   particularly a high-traffic domain, may choose to do so in order to
   ease their transition to IPv6 through a selective deployment and
   minimize any perceived risk in such a transition.  In addition, it is
   possible that one or more DNS Whitelist clearinghouses may emerge,
   providing implementers with a way to subscribe to a whitelist in a
   manner similar to that used on email servers for blacklists.

6.2.  Deploying DNS Whitelisting Universally

   The less likely deployment scenario is one where DNS Whitelisting is
   implemented on all authoritative DNS servers, across the entire
   Internet.  While this scenario seems less likely than ad hoc
   deployment due to some parties not sharing the concerns that have so
   far motivated the use of DNS Whitelisting, it is nonetheless
   conceivable that it could be one of the ways in which DNS
   Whitelisting is deployed, though such a universal deployment could be
   considered harmful and problematic.

   In order for this deployment scenario to occur, it is likely that DNS
   Whitelisting functionality would need to be built into all
   authoritative DNS server software, and that all operators of
   authoritative DNS servers would have to upgrade their software and
   enable this functionality.  It is likely that new IETF Request for
   Comment (RFC) documents would need to be developed which describe how
   to properly configure, deploy, and maintain DNS Whitelisting.  As a
   result, it is unlikely that DNS Whitelisting would, at least in the
   next several years, become universally deployed.  Furthermore, these
   DNS whitelists are likely to vary on a domain-by-domain basis,



Livingood               Expires November 30, 2011              [Page 15]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   depending upon a variety of factors.  Such factors may include the
   motivation of each domain owner, the location of the DNS recursive
   resolvers in relation to the source content, as well as various other
   parameters that may be transitory in nature, or unique to a specific
   end user host type.  It is probably unlikely that a single
   clearinghouse for managing whitelisting is possible; it will more
   likely be unique to the source content owners and/or domains which
   implement DNS whitelists (so multiple clearinghouses are certainly
   possible).


7.  Implications of DNS Whitelisting

   There are many implications of DNS Whitelisting.  The key
   implications are detailed below.

7.1.  Architectural Implications

   DNS Whitelisting modifies the end-to-end model and the general notion
   of spontaneous interoperability of the architecture that prevails on
   the Internet today.  This is because this approach moves additional
   access control information and policies into the middle of the DNS
   resolution path of the IPv6-addressed Internet, which generally did
   not exist before on the IPv4-addressed Internet, and it requires some
   type of prior registration with authoritative servers.  This poses
   some risks noted in [RFC3724].  In explaining the history of the end-
   to-end principle [RFC1958] states that one of the goals is to
   minimize the state, policies, and other functions needed in the
   middle of the network in order to enable end-to-end communications on
   the Internet.  In this case, the middle network should be understood
   to mean anything other than the end hosts involved in communicating
   with one another.  Some state, policies, and other functions have
   always been necessary to enable such end-to-end communication, but
   the goal of the approach has been to minimize this to the greatest
   extent possible.

   It is also possible that DNS Whitelisting could place at risk some of
   the observed benefits of the end-to-end principle, as listed in
   Section 4.1 of [RFC3724], such as protection of innovation.
   [RFC3234] details issues and concerns regarding so-called
   middleboxes, so there may also be parallel concerns with the DNS
   Whitelisting approach, especially concerning modified DNS servers
   noted in Section 2.16 of [RFC3234], as well as more general concerns
   noted in Section 1.2 of [RFC3234] about the introduction of new
   failure modes.  In particular, there may be concerns that
   configuration is no longer limited to two ends of a session, and that
   diagnosis of failures and misconfigurations becomes more complex.




Livingood               Expires November 30, 2011              [Page 16]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   Two additional sources worth considering as far as implications for
   the end-to-end model are concerned are [Tussle in Cyberspace] and
   [Rethinking the Internet].  In [Tussle in Cyberspace], the authors
   note concerns regarding the introduction of new control points, as
   well as "kludges" to the DNS, as risks to the goal of network
   transparency in the end-to-end model.  Some parties concerned with
   the emerging use of DNS Whitelisting have shared similar concerns,
   which may make [Tussle in Cyberspace] an interesting and relevant
   document.  In addition, [Rethinking the Internet] reviews similar
   issues that may be of interest to readers of this document.

   Also, it is somewhat possible that DNS Whitelisting could affect some
   of the architectural assumptions which underlie parts of Section 2 of
   [RFC4213] which outlines the dual stack approach to the IPv6
   transition.  DNS Whitelisting could modify the behavior of the DNS,
   as described in Section 2.2 of [RFC4213] and could require different
   sets of DNS servers to be used for hosts that are (using terms from
   that document) IPv6/IPv4 nodes, IPv4-only nodes, and IPv6-only nodes.
   As such, broad use of DNS Whitelisting may necessitate the review
   and/or revision (though revision is unlikely to be neccessary) of
   standards documents which describe dual-stack and IPv6 operating
   modes, dual-stack architecture generally, and IPv6 transition
   methods, including but not limited to [RFC4213].

7.2.  Public IPv6 Address Reachability Implications

   It is a critical to understand that the concept of reachability
   described here depends upon a knowledge of an address in the DNS.
   Thus, in order to establish reachability to an end point, a host is
   dependent upon looking up an IP address in the DNS when a FQDN is
   used.  When DNS Whitelisting is used, it is quite likely that an
   IPv6-enabled end user host could connect to an example server host
   using the IPv6 address, even though the FQDN associated with that
   server host is restricted via a DNS whitelist.  Since most Internet
   applications and hosts such as web servers depend upon the DNS, and
   as end users connect to FQDNs such as www.example.com and do not
   remember or wish to type in an IP address, the notion of reachability
   described here should be understood to include knowledge of how to
   associate a name with a network address.

   The predominant experience of end user hosts and servers on the IPv4-
   addressed Internet today is that when a new server with a public IPv4
   address is added to the DNS, that a FQDN is immediately useful for
   reaching it.  This is a generalization and in Section 5 there are
   examples of common cases where this may not necessarily be the case.
   For the purposes of this argument, that concept of accessibility is
   described as "pervasive reachability".  It has so far been assumed
   that the same expectations of pervasive reachability would exist in



Livingood               Expires November 30, 2011              [Page 17]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   the IPv6-addressed Internet.  However, if DNS Whitelisting is
   deployed, this will not be the case since only end user hosts using
   DNS recursive resolvers that are included in the ACL of a given
   domain using DNS Whitelisting would be able to reach new servers in
   that given domain via IPv6 addresses.  The expectation of any end
   user host being able to connect to any server (essentially both
   hosts, just at either end of the network), defined here as "pervasive
   reachability", will change to "restricted reachability" with IPv6.

   Establishing DNS Whitelisting as an accepted practice in the early
   phases of mass IPv6 deployment could establish it as an integral part
   of how IPv6 DNS resource records are deployed globally.  This risks
   DNS Whitelisting living on for decades as a key foundational element
   of domain name management on the Internet.

7.3.  Operational Implications

   This section explores some of the operational implications which may
   occur as a result of, are related to, or become necessary when
   engaging in the practice of DNS Whitelisting.

7.3.1.  De-Whitelisting May Occur

   It is possible for a DNS recursive resolver added to a whitelist to
   then be removed from the whitelist, also known as de-whitelisting.
   Since de-whitelisting can occur, through a decision by the
   authoritative server operator, the domain owner, or even due to a
   technical error, an operator of a DNS recursive resolver will have
   new operational and monitoring requirements and/or needs as noted in
   Section 7.3.3, Section 7.3.4, Section 7.3.6, and Section 7.5.  One
   particular risk is that, especially when a high-traffic domain de-
   whitelists a large network, this may cause a sudden and dramatic
   change to networks since a large volume of traffic will then switch
   from IPv6 to IPv4.  This can have dramatic effects on those being de-
   whitelisted as well as on other interconnected networks.  In some
   cases, IPv4 network links may rapidly become congested and users of
   affected networks will experience network access impairments well
   beyond the domain which performed the de-whitelisting.  Thus, once
   "operational stability" has been achieved between a whitelisting and
   whitelisted party, then de-whitelisting should generally not occur
   except in cases of operational emergencies, and there should be
   opportunities for joint troubleshooting or at least for advance
   warning to affected parties.

7.3.2.  Authoritative DNS Server Operational Implications

   DNS Whitelisting serves as a critical infrastructure service; to be
   useful it needs careful and extensive administration, monitoring and



Livingood               Expires November 30, 2011              [Page 18]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   operation.  Each new and essential mechanism creates substantial
   follow-on support costs.

   Operators of authoritative servers (which are frequently
   authoritative for multiple domain names) will need to maintain an ACL
   on a server-wide basis affecting all domains, or on a domain-by-
   domain basis.  As a result, operational practices and software
   capabilities may need to be developed in order to support such
   functionality.  In addition, processes may need to be put in place to
   protect against inadvertently adding or removing IP addresses, as
   well as systems and/or processes to respond to such incidents if and
   when they occur.  For example, a system may be needed to record DNS
   Whitelisting requests, report on their status along a workflow, add
   IP addresses when whitelisting has been approved, remove IP addresses
   when they have been de-whitelisted, log the personnel involved and
   timing of changes, schedule changes to occur in the future, and to
   roll back any inadvertent changes.

   Operators may also need implement new forms of monitoring in order to
   apply change control, as noted briefly in Section 7.3.4.

   It is important for operators of authoritative servers to recognize
   that the operational burden is likely to increase dramatically over
   time, as more and more networks transition to IPv6.  As a result, the
   volume of new DNS Whitelisting requests will increase over time,
   potentially at an extraordinary growth rate, which will place an
   increasing burden on personnel, systems, and/or processes.  Operators
   should also consider that any supporting systems, including the
   authoritative servers themselves, may experience reduced performance
   when a DNS whitelist becomes quite large.

7.3.3.  DNS Recursive Resolver Server Operational Implications

   For operators of DNS recursive resolvers, coping with DNS
   Whitelisting becomes expensive in time and personnel as the practice
   scales up.  These operators include ISPs, enterprises, universities,
   governments; a wide range of organization types with a range of DNS-
   related expertise.  They will need to implement new forms of
   monitoring, as noted briefly in Section 7.3.4.  But more critically,
   such operators will need to add people, processes, and systems in
   order to manage large numbers of DNS Whitelisting applications.
   Since there is no common method for determining whether or not a
   domain is engaged in DNS Whitelisting, operators will have to apply
   to be whitelisted for a domain based upon one or more end user
   requests, which means systems, processes, and personnel for handling
   and responding to those requests will also be necessary.

   When operators apply for DNS Whitelisting for all domains, that may



Livingood               Expires November 30, 2011              [Page 19]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   mean doing so for all registered domains.  Thus, some system would
   have to be developed to discover whether each domain has been
   whitelisted or not, which is touched on in Section 6 and may vary
   depending upon whether DNS Whitelisting is universally deployed or is
   deployed on an ad hoc basis.

   These operators (of DNS recursive resolvers) will need to develop
   processes and systems to track the status of all DNS Whitelisting
   applications, respond to requests for additional information related
   to these applications, determine when and if applications have been
   denied, manage appeals, and track any de-whitelisting actions.

   Given the large number of domains in existence, the ease with which a
   new domain can be added, and the continued strong growth in the
   numbers of new domains, readers should not underestimate the
   potential significance in personnel and expense that this could
   represent for such operators.  In addition, it is likely that systems
   and personnel may also be needed to handle new end user requests for
   domains for which to apply for DNS Whitelisting, and/or inquiries
   into the status of a whitelisting application, reports of de-
   whitelisting incidents, general inquiries related to DNS
   Whitelisting, and requests for DNS Whitelisting-related
   troubleshooting by these end users.

7.3.4.  Monitoring Implications

   Once a DNS recursive resolver has been whitelisted for a particular
   domain, then the operator of that DNS recursive resolver may need to
   implement monitoring in order to detect the possible loss of DNS
   Whitelisting in the future.  This DNS recursive resolver operator
   could configure a monitor to check for a AAAA response in the
   whitelisted domain, as a check to validate continued status on the
   DNS whitelist.  The monitor could then trigger an alert if at some
   point the AAAA responses were no longer received, so that operations
   personnel could begin troubleshooting, as outlined in Section 7.3.6.

   Also, authoritative DNS server operators are likely to need to
   implement new forms of monitoring.  In this case, they may desire to
   monitor for significant changes in the size of the whitelist within a
   certain period of time, which might be indicative of a technical
   error such as the entire ACL being removed.  Authoritative DNS server
   operators may also wish to monitor their workflow process for
   reviewing and acting upon DNS Whitelisting applications and appeals,
   potentially measuring and reporting on service level commitments
   regarding the time an application or appeal can remain at each step
   of the process, regardless of whether or not such information is
   shared with parties other than that authoritative DNS server
   operator.



Livingood               Expires November 30, 2011              [Page 20]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


7.3.5.  Implications of Operational Momentum

   It seems plausible that once DNS Whitelisting is implemented it will
   be very difficult to deprecate such technical and operational
   practices.  This assumption is based on an understanding of human
   nature, not to mention physics.  For example, as Sir Isaac Newton
   noted, "Every object in a state of uniform motion tends to remain in
   that state of motion unless an external force is applied to it" [Laws
   of Motion].  Thus, once DNS Whitelisting is implemented it is quite
   likely that it would take considerable effort to deprecate the
   practice and remove it everywhere on the Internet; it may otherwise
   simply remain in place in perpetuity.  To illustrate this point, one
   could consider for example that there are many email servers
   continuing to attempt to query anti-spam DNS blocklists which have
   long ago ceased to exist.

7.3.6.  Troubleshooting Implications

   The implications of DNS whitelisted present many challenges, as
   detailed throughout Section 7.  These challenges may negatively
   affect the end users' ability to troubleshoot, as well as that of DNS
   recursive resolver operators, ISPs, content providers, domain owners
   (where they may be different from the operator of the authoritative
   DNS server for their domain), and other third parties.  This may make
   the process of determining why a server is not reachable via a FQDN
   significantly more complex and time-consuming.

7.3.7.  Additional Implications If Deployed On An Ad Hoc Basis

   As more domains choose to implement DNS Whitelisting, and more
   networks become IPv6-capable and request to be whitelisted, scaling
   up operational processes, monitoring, and ACL updates will become
   more difficult.  The increased rate of change and increased size of
   whitelists will increase the likelihood of configuration and other
   operational errors.

   It is unclear when and if it would be appropriate to change from
   whitelisting to blacklisting.  It is clear that trying to coordinate
   this across the Internet is likely be be impossible, so such a change
   to blacklisting would happen on a domain-by-domain basis (if at all).

   Finally, some implementers consider DNS Whitelisting to be a
   temporary measure.  As such, it is not clear how these implementers
   will judge the network conditions to have changed sufficiently to
   justify disabling DNS Whitelisting (or Blacklisting, or other AAAA
   resource record access controls) and/or what the process and timing
   will be in order to discontinue this practice.




Livingood               Expires November 30, 2011              [Page 21]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   One further implication is that an end user with only an IPv4
   address, using a DNS resolver which has not been whitelisted by any
   domains, would not be able to get any AAAA resource records.  In such
   a case, this could give that end user the incorrect impression that
   there is no IPv6-based content on the Internet since they are unable
   to discover any IPv6 addresses via the DNS.

7.4.  Homogeneity May Be Encouraged

   A broad trend on the Internet is a move toward more heterogeneity.
   One manifestation of this is in an increasing number, variety, and
   customization of end user hosts, including home networks, operating
   systems, client software, home network devices, and personal
   computing devices.  This trend appears to have had a positive effect
   on the development and growth of the Internet.  This trend has
   enabled end user to connect any technically compliant device or use
   any technically compatible software to connect to the Internet.  Not
   only does this trend towards greater heterogeneity reduce the control
   which is exerted in the middle of the network, described positively
   in [Tussle in Cyberspace], [Rethinking the Internet], and [RFC3724],
   but it also appears to help to enable greater and more rapid
   innovation at the edges.

   Some forms of so-called "network neutrality" principles around the
   world include the notion that any IP-capable device should be able to
   connect to a network, which seems to encourage heterogeneity.  These
   principles are often explicitly encouraged by application providers
   given the reasons noted above, though some of these same providers
   may also be implementing DNS Whitelisting.  This is ironic, as one
   implication of the adoption of DNS Whitelisting is that in encourages
   a move back towards homogeneity.  This is because some implementers
   have expressed a preference for greater levels of control by networks
   over end user hosts in order to attempt to enforce technical
   requirements intended to reduce IPv6-related impairments.  This
   return to an environment of more homogenous and/or controlled end
   user hosts could have unintended side effects on and counter-
   productive implications for future innovation at the edges of the
   network.

7.5.  Technology Policy Implications

   A key technology policy implication concerns the policies relating to
   the process of reviewing an application for DNS Whitelisting, and the
   decision-making process regarding whitelisting for a domain.
   Important questions may include whether these policies have been
   fully and transparently disclosed, are non-discriminatory, and are
   not anti-competitive.  A related implication is whether and what the
   process for appeals is, when a domain decides against adding a DNS



Livingood               Expires November 30, 2011              [Page 22]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   recursive resolver to the whitelist.  Key questions here may include
   whether appeals are allowed, what the process is, what the expected
   turn around time is, and whether the appeal will be handled by an
   independent third party or other entity/group.

   Further implications arise when de-whitelisting occurs.  Questions
   that may naturally be raised in such a case include whether the
   criteria for de-whitelisting have been fully and transparently
   disclosed, are non-discriminatory, and are not anti-competitive.
   Additionally, the question of whether or not there was a cure period
   available prior to de-whitelisting, during which troubleshooting
   activities, complaint response work, and corrective actions may be
   attempted, and whether this cure period was a reasonable amount of
   time.

   It is also conceivable that whitelisting and de-whitelisting
   decisions could be quite sensitive to concerned parties beyond the
   operator of the domain which has implemented DNS Whitelisting and the
   operator of the DNS recursive resolver, including end users,
   application developers, content providers, advertisers, public policy
   groups, governments, and other entities, which may also seek to
   become involved in or express opinions concerning whitelisting and/or
   de-whitelisting decisions.  Lastly, it is conceivable that any of
   these interested parties or other related stakeholders may seek
   redress outside of the process a domain has establishing for DNS
   Whitelisting and de-whitelisting.

   A final concern is that decisions relating to whitelisting and de-
   whitelisting may occur as an expression of other commercial,
   governmental, and/or cultural conflicts, given the new control point
   which has been established with DNS Whitelisting.  For example, in
   one imagined scenario, a domain could withhold adding a network to
   their DNS Whitelisting unless that network agreed to some sort of
   financial payment, legal agreement, agreement to sever a relationship
   with a competitor of the domain, etc.  In another example, a music-
   oriented domain may be engaged in some sort of dispute with an
   academic network concerning copyright infringement concerns within
   that network, and may choose to de-whitelist that network as a
   negotiating technique in some sort of commercial discussion.  In a
   final example, a major email domain may choose to de-whitelist a
   network due to that network sending some large volume of spam.  Thus,
   it seems possible that DNS Whitelisting and de-whitelisting could
   become a vehicle for adjudicating other disputes, and that this may
   well have intended and unintended consequences for end users which
   are affected by such decisions and are unlikely to be able to express
   a strong voice in such decisions.





Livingood               Expires November 30, 2011              [Page 23]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


7.6.  IPv6 Adoption Implications

   As noted in Section 4, the implications of DNS Whitelisting may drive
   end users and/or networks to delay, postpone, or cancel adoption of
   IPv6, or to actively seek alternatives to it.  Such alternatives may
   include the use of multi-layer network address translation (NAT)
   techniques like NAT444 [I-D.shirasaki-nat444], which these parties
   may decide to pursue on a long-term basis to avoid the perceived
   costs and aggravations related to DNS Whitelisting.  This could of
   course come at the very time that the Internet community is trying to
   get these very same parties interested in IPv6 and motivated to begin
   the transition to IPv6.  As a result, parties that are likely to be
   concerned over the negative implications of DNS Whitelisting could
   logically be concerned of the negative effects that this practice
   could have on the adoption of IPv6 if it became widespread or was
   adopted by majors Internet domains or other major parties in the
   Internet ecosystem.

   At the same time, as noted in Section 3, some high-traffic domains
   may find the prospect of transitioning to IPv6 daunting without
   having some short-term ability to incrementally control the amount
   and source of IPv6 traffic to their domains.  Lacking such controls,
   some domains may choose to substantially delay their transition to
   IPv6.

7.7.  Implications with Poor IPv4 and Good IPv6 Transport

   It is possible that there could be situations where the differing
   quality of the IPv4 and IPv6 connectivity of an end user could cause
   complications in accessing content which is in a whitelisted domain,
   when the end user's DNS recursive resolver is not on that whitelist.
   While today most end users' IPv4 connectivity is typically superior
   to IPv6 connectivity (if such connectivity exists at all), there
   could be implications when the reverse is true and and end user has
   markedly superior IPv6 connectivity as compared to IPv4.  This is
   admittedly theoretical but could become a factor as the transition to
   IPv6 continues and IPv4 address availability within networks becomes
   strained.

   For example, in one possible scenario, a user is issued IPv6
   addresses by their ISP and has a home network and devices or
   operating systems which fully support IPv6.  As a result this
   theoretical user has very good IPv6 connectivity.  However, this end
   user's ISP may have exhausted their available pool of unique IPv4
   address, and so that ISP uses NAT in order to reuse IPv4 addresses.
   So for IPv4 content, the end user must send their IPv4 traffic
   through some additional network element (e.g.  NAT, proxy, tunnel
   server).  Use of this additional network element may cause the end



Livingood               Expires November 30, 2011              [Page 24]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   user to experience sub-optimal IPv4 connectivity when certain
   protocols or applications are used.  This user then has good IPv6
   connectivity but impaired IPv4 connectivity.  Furthermore, this end
   user's DNS recursive resolver is not whitelisted by the authoritative
   server for a domain that the user is trying to access, meaning the
   end user only gets A record responses for their impaired IPv4
   transport rather than also AAAA record responses for their stable and
   well-performing IPv6 transport.  Thus, the user's poor IPv4
   connectivity situation is potentially exacerbated by not having
   access to a given domain's IPv6 content since they must use the
   address family with relatively poor performance.

7.8.  Implications for Users of Third-Party DNS Recursive Resolvers

   In most cases it is assumed that end users will make use of DNS
   recursive resolvers which are operated by their network provider,
   whether that is an ISP, campus network, enterprise network, or some
   other type of access network.  However there are also cases where an
   end user has changed their DNS server IP addresses in their device's
   operating system to those of another party which operates DNS
   recursive resolvers independently of end user access networks.  In
   these cases, an authoritative DNS server may receive a query from a
   DNS recursive resolver in one network, though the end user sending
   the original query to the DNS recursive resolver is in an entirely
   different network.  It may therefore be more challenging for a DNS
   whitelist implementer to determine the level of IPv6-related
   impairment when such third-party DNS recursive resolvers are used,
   given the wide variety of end user access networks which may be used
   and that this mix may change in unpredictable ways over time.

   There may also be cases where end users are using a network where the
   assigned DNS recursive resolver has not been whitelisted by a
   particular authoritative DNS server, but where the end user knows
   that a particular third-party DNS recursive resolver has been
   whitelisted.  While in most cases the end user will be able to switch
   to use that third-party's servers, some access networks may prevent
   switching to any DNS recursive resolvers other than those authorized
   by or residing within a given access network.  While the blocking of
   third-party DNS recursive resolvers may be observed in many types of
   networks such as ISPs, campus networks, and enterprise networks, this
   may most often be observed in the specialized networks setup in
   hotels, conference centers, coffee shops, and similar access
   networks.  In these cases, end users may be frustrated at their
   inability to access content over IPv6 as a result of their access
   network preventing them from using a whitelisted third-party DNS
   recursive resolver.  This may also result in complaints to both the
   operator of the authoritative DNS server which has implemented
   whitelisting as well as to the access network operator.



Livingood               Expires November 30, 2011              [Page 25]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


8.  General Implementation Variations

   This section outlines several possible approaches which may be
   followed when considering DNS Whitelisting and associated IPv6-
   related issues.

8.1.  Implement DNS Whitelisting Universally

   One obvious approach is to implement DNS whitelisted universally, and
   to do so using some sort of centralized registry of DNS Whitelisting
   policies, contracts, processes, or other information.  Such an
   approach is also considered harmful and problematic, and almost
   certain not to happen.

8.2.  Implement DNS Whitelisting On An Ad Hoc Basis

   DNS Whitelisting is now being adopted on an ad hoc, or domain-by-
   domain basis.  Therefore, only those domains interested in DNS
   Whitelisting would need to adopt the practice, though as noted herein
   discovering that a given domain has done so may be problematic.  Also
   in this scenario, ad hoc use by a particular domain may be a
   temporary measure that has been adopted to ease the transition of the
   domain to IPv6 over some short-term timeframe.

8.3.  Do Not Implement DNS Whitelisting

   As an alternative to adopting DNS Whitelisting, the Internet
   community generally can choose not to implement DNS Whitelisting,
   perpetuating the current predominant authoritative DNS operational
   model on the Internet.  As a result is is then up to end users with
   IPv6-related impairments to discover and fix those impairments,
   though clearly other parties including end user host operating system
   developers can play a critical role [I-D.ietf-v6ops-happy-eyeballs].

8.3.1.  Solve Current End User IPv6 Impairments

   A further extension of not implementing DNS Whitelisting, is to also
   endeavor to actually fix the underlying technical problems that have
   prompted the consideration of DNS Whitelisting in the first place, as
   an alternative to trying to apply temporary workarounds to avoid the
   symptoms of underlying end user IPv6 impairments.  A first step is
   obviously to identify which users have such impairments, which would
   appear to be possible, and then to communicate this information to
   end users.  Such end user communication is likely to be most helpful
   if the end user is not only alerted to a potential problem but is
   given careful and detailed advice on how to resolve this on their
   own, or where they can seek help in doing so.  Section 11 may also be
   relevant in this case.



Livingood               Expires November 30, 2011              [Page 26]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   One challenge with this option is the potential difficulty of
   motivating members of the Internet community to work collectively
   towards this goal, sharing the labor, time, and costs related to such
   an effort.  Of course, since just such a community effort is now
   underway for IPv6, it is possible that this would call for only a
   moderate amount of additional work [World IPv6 Day].

   Despite any potential challenges, many in the Internet community are
   already working towards this goal and/or have expressed a general
   preference for this approach.

8.3.2.  Gain Experience Using IPv6 Transition Names

   Another alternative is for domains to gain experience using an FQDN
   which has become common for domains beginning the transition to IPv6;
   ipv6.example.com and www.ipv6.example.com.  This can be a way for a
   domain to gain IPv6 experience and increase IPv6 use on a relatively
   controlled basis, and to inform any plans for DNS Whitelisting with
   experience.  While this is a good first step to functionally test and
   prepare a domain for IPv6, the utility of the tactic is limited since
   users must know the transition name, the traffic volume will be low,
   and the traffic is unlikely to be representative of the general
   population of end users, among other reasons.

8.3.3.  Implement DNS Blacklisting

   Some domains may wish to be more permissive than if they adopted DNS
   Whitelisting Section 8.2, but not still have some level of control
   over returning AAAA record responses Section 8.3.  An alternative in
   this case may be to employ DNS blacklisting, which would enable all
   DNS recursive resolvers to receive AAAA record responses except for
   the relatively small number that are listed in the blacklist.  This
   could enable an implementer to only prevent such responses where
   there has been a relatively high level of IPv6-related impairments,
   until such time as these impairments can be fixed or otherwise
   meaningfully reduced to an acceptable level.

   This approach is likely to be significantly less labor intensive for
   an authoritative DNS server operator, as they would presumably focus
   on a smaller number of DNS recursive resolvers than if they
   implemented whitelisting.  Thus, these authoritative DNS server
   operators would only need to communicate with a few DNS recursive
   resolver operators rather than potentially all such operators.  This
   should result in lower labor, systems, and process requirements,
   which should be beneficial to all parties.  This is not to say that
   there will be no time required to work with those operators affected
   by a blacklist, simply that there are likely to be fewer such
   interactions and that each such interaction may be shorter in



Livingood               Expires November 30, 2011              [Page 27]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   duration.

   Of course one downside of this approach may be that the perception of
   being blocked (blacklisted) is sometimes worse that not being
   permitted to have access (whitelisted).  However, the email industry
   has a long experience with blacklists and, very generally speaking,
   blacklists tend to be effective and well received when it is easy to
   discover if a server is on a blacklist, if there is a transparent and
   easily understood process for requesting removal from a blacklist,
   and if the decision-making criteria for placing a server on a
   blacklist is transparently disclosed and perceived as fair.


9.  Is DNS Whitelisting a Recommended Practice?

   Opinions in the Internet community concerning whether or not DNS
   Whitelisting is a recommended practice are understandably quite
   varied.  However, there is clear consensus that DNS Whitelisting is
   at best a useful tactic a domain may choose to use as they transition
   to IPv6.  In particular, some high-traffic domains view DNS
   Whitelisting as one of the few practical and low-risk approaches
   enabling them to transition to IPv6, without which their transition
   may not take place for some time.  However, there is also consensus
   is that this practice is acceptable only in the short-term and that
   it will not scale over the long-term.  Thus, some domains may find
   DNS Whitelisting a beneficial temporary tactic in their transition to
   IPv6.  Such temporary use during the transition to IPv6 is broadly
   accepted within the community, so long as it does not become a long-
   term practice.

   World IPv6 Day, sponsored by the Internet Society [World IPv6 Day],
   is scheduled to occur on June 8, 2011.  This will be an opportunity
   for domains to add AAAA resource records to the DNS without using DNS
   Whitelisting.  As a result, this is likely an excellent opportunity
   for domains to evaluate the utility or necessity of DNS Whitelisting,
   even in the short-term.  A major German news website, Heise Online,
   also ran a similar IPv6 experiment whereby they added AAAA resource
   records and observed and measured any errors [Heise Online
   Experiment], which is important reading for any domain contemplating
   either the use of DNS Whitelisting or simply adding IPv6 addressing
   to their site.


10.  Security Considerations

   If DNS Whitelisting is adopted, then organizations which apply DNS
   Whitelisting policies in their authoritative servers should have
   procedures and systems which do not allow unauthorized parties to



Livingood               Expires November 30, 2011              [Page 28]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   either remove whitelisted DNS resolvers from the whitelist or add
   non-whitelisted DNS resolvers to the whitelist, just as all
   configuration settings for name servers should be protected by
   appropriate procedures and systems.  Should such unauthorized
   additions or removals from the whitelist can be quite damaging, and
   result in content providers and/or ISPs to incur substantial support
   costs resulting from end user and/or customer contacts.  As such,
   great care must be taken to control access to the whitelist for an
   authoritative server.

   In addition, two other key security-related issues should be taken
   into consideration:

10.1.  DNSSEC Considerations

   DNS security extensions defined in [RFC4033], [RFC4034], and
   [RFC4035] use cryptographic digital signatures to provide origin
   authentication and integrity assurance for DNS data.  This is done by
   creating signatures for DNS data on a Security-Aware Authoritative
   Name Server that can be used by Security-Aware Resolvers to verify
   the answers.  Since DNS Whitelisting is implemented on an
   authoritative server, which provides different answers depending upon
   which resolver server has sent a query, the DNSSEC chain of trust is
   not altered.  Even though the authoritative server will not always
   return a AAAA resource record when one exists, respective A resource
   records and AAAA resource records can and should both be signed.
   Therefore there are no DNSSEC implications per se.  However, any
   implementer of DNS Whitelisting should be careful if they implement
   both DNSSEC signing of their domain and also DNS Whitelisting of that
   same domain.  Specifically, those domains should ensure that resource
   records are being appropriately and reliably signed, which may
   present incremental operational and/or technical challenges.

   However, as noted in Section 3, end user networks may also choose to
   implement tools at their disposal in order to address IPv6-related
   impairments.  One of those possible tools could involve unspecified
   changes to the configuration of their DNS recursive resolvers.  If it
   is a Security-Aware Resolver, modifying or suppressing AAAA resource
   records for a DNSSEC-signed domain will be problematic and could
   break the chain of trust established with DNSSEC.

10.2.  Authoritative DNS Response Consistency Considerations

   In addition to the considerations raised in Section 10.1, it is
   conceivable that security concerns may arise when end users or other
   parties notice that the responses sent from an authoritative DNS
   server appear to vary from one network or one DNS recursive resolver
   to another.  This may give rise to concerns that, since the



Livingood               Expires November 30, 2011              [Page 29]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   authoritative responses vary that there is some sort of security
   issue and/or some or none of the responses can be trusted.  While
   this may seem a somewhat obscure concern, domains nonetheless may
   wish to consider this when contemplating whether or not to pursue DNS
   Whitelisting.


11.  Privacy Considerations

   As noted in Section 8.3.1, there may be methods to detect IPv6-
   related impairments for a particular end user.  For example, this may
   be possible when an end user visits the website of a particular
   domain.  In that example, there are likely no privacy considerations
   in automatically communicating to that end user that the domain has
   detected a particular impairment.  However, if that domain decided to
   share information concerning that particular end user with their
   network operator or another party, then the visited domain may wish
   to in some manner advise the end user of this or otherwise seek to
   obtain the user's consent to such information sharing.  This may be
   achieved in a wide variety of ways, from presenting a message asking
   the user for consent (which will of course help them solve a
   technical problem of which they are likely unaware) to adding this to
   a domain's website terms of use / service.  Such information sharing
   and communication of such sharing to end users may well vary by
   geographic area and/or legal jurisdiction.  Thus, a domain should
   consider any potential privacy issues these sorts of scenarios.

   To the extent that domains or network operators decide to publish
   impairment statistics, they should not identify individual hosts,
   host identifiers, or users.


12.  IANA Considerations

   There are no IANA considerations in this document.


13.  Contributors

   The following people made significant textual contributions to this
   document and/or played an important role in the development and
   evolution of this document:

   - John Brzozowski

   - Chris Griffiths

   - Tom Klieber



Livingood               Expires November 30, 2011              [Page 30]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   - Yiu Lee

   - Rich Woundy


14.  Acknowledgements

   The author and contributors also wish to acknowledge the assistance
   of the following individuals or groups.  Some of these people
   provided helpful and important guidance in the development of this
   document and/or in the development of the concepts covered in this
   document.  Other people assisted by performing a detailed review of
   this document, and then providing feedback and constructive criticism
   for revisions to this document.  All of this was helpful and
   therefore the following individuals merit acknowledgement:

   - Bernard Aboba

   - Jari Arkko

   - Frank Bulk

   - Brian Carpenter

   - Dave Crocker

   - Ralph Droms

   - Wesley Eddy

   - Adrian Farrel

   - Stephen Farrell

   - Tony Finch

   - Karsten Fleischhauer

   - Wesley George

   - Philip Homburg

   - Jerry Huang

   - Ray Hunter

   - Joel Jaeggli




Livingood               Expires November 30, 2011              [Page 31]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   - Erik Kline

   - Suresh Krishnan

   - Victor Kuarsingh

   - John Leslie

   - John Mann

   - Danny McPherson

   - Martin Millnert

   - Russ Mundy

   - Thomas Narten

   - Pekka Savola

   - Robert Sparks

   - Barbara Stark

   - Joe Touch

   - Hannes Tschofenig

   - Tina Tsou

   - Members of the Broadband Internet Technical Advisory Group (BITAG)


15.  References

15.1.  Normative References

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, November 1987.

   [RFC1918]  Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and
              E. Lear, "Address Allocation for Private Internets",
              BCP 5, RFC 1918, February 1996.

   [RFC1958]  Carpenter, B., "Architectural Principles of the Internet",
              RFC 1958, June 1996.

   [RFC2775]  Carpenter, B., "Internet Transparency", RFC 2775,



Livingood               Expires November 30, 2011              [Page 32]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


              February 2000.

   [RFC2956]  Kaat, M., "Overview of 1999 IAB Network Layer Workshop",
              RFC 2956, October 2000.

   [RFC3234]  Carpenter, B. and S. Brim, "Middleboxes: Taxonomy and
              Issues", RFC 3234, February 2002.

   [RFC3724]  Kempf, J., Austein, R., and IAB, "The Rise of the Middle
              and the Future of End-to-End: Reflections on the Evolution
              of the Internet Architecture", RFC 3724, March 2004.

   [RFC4033]  Arends, R., Austein, R., Larson, M., Massey, D., and S.
              Rose, "DNS Security Introduction and Requirements",
              RFC 4033, March 2005.

   [RFC4034]  Arends, R., Austein, R., Larson, M., Massey, D., and S.
              Rose, "Resource Records for the DNS Security Extensions",
              RFC 4034, March 2005.

   [RFC4035]  Arends, R., Austein, R., Larson, M., Massey, D., and S.
              Rose, "Protocol Modifications for the DNS Security
              Extensions", RFC 4035, March 2005.

   [RFC4213]  Nordmark, E. and R. Gilligan, "Basic Transition Mechanisms
              for IPv6 Hosts and Routers", RFC 4213, October 2005.

15.2.  Informative References

   [Evaluating IPv6 Adoption]
              Colitti, L., Gunderson, S., Kline, E., and T. Refice,
              "Evaluating IPv6 adoption in the Internet", Passive and
              Active Management (PAM) Conference 2010, April 2010,
              <http://www.google.com/research/pubs/archive/36240.pdf>.

   [Heise Online Experiment]
              Heise.de, "World IPv6 Day - June 8, 2011", Heise.de
              Website http://www.h-online.com, January 2011, <http://
              www.h-online.com/features/
              The-big-IPv6-experiment-1165042.html>.

   [I-D.ietf-v6ops-happy-eyeballs]
              Wing, D. and A. Yourtchenko, "Happy Eyeballs: Trending
              Towards Success with Dual-Stack Hosts",
              draft-ietf-v6ops-happy-eyeballs-02 (work in progress),
              May 2011.

   [I-D.shirasaki-nat444]



Livingood               Expires November 30, 2011              [Page 33]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


              Yamagata, I., Shirasaki, Y., Nakagawa, A., Yamaguchi, J.,
              and H. Ashida, "NAT444", draft-shirasaki-nat444-03 (work
              in progress), January 2011.

   [IETF-77-DNSOP]
              Gashinsky, I., "IPv6 & recursive resolvers: How do we make
              the transition less painful?", IETF 77 DNS Operations
              Working Group, March 2010,
              <http://www.ietf.org/proceedings/77/slides/dnsop-7.pdf>.

   [IPv6 Brokenness]
              Anderson, T., "Measuring and Combating IPv6 Brokenness",
              Reseaux IP Europeens (RIPE) 61st Meeting, November 2010,
              <http://ripe61.ripe.net/presentations/162-ripe61.pdf>.

   [IPv6 Whitelist Operations]
              Kline, E., "IPv6 Whitelist Operations", Google Google IPv6
              Implementors Conference, June 2010, <http://
              sites.google.com/site/ipv6implementors/2010/agenda/
              IPv6_Whitelist_Operations.pdf>.

   [Laws of Motion]
              Newton, I., "Mathematical Principles of Natural Philosophy
              (Philosophiae Naturalis Principia Mathematica)",
              Principia Mathematical Principles of Natural Philosophy
              (Philosophiae Naturalis Principia Mathematica), July 1687,
              <http://en.wikipedia.org/wiki/Newton's_laws_of_motion>.

   [NW-Article-DNS-WL]
              Marsan, C., "Google, Microsoft, Netflix in talks to create
              shared list of IPv6 users", Network World , March 2010, <h
              ttp://www.networkworld.com/news/2010/
              032610-dns-ipv6-whitelist.html>.

   [NW-Article-DNSOP]
              Marsan, C., "Yahoo proposes 'really ugly hack' to DNS",
              Network World , March 2010, <http://www.networkworld.com/
              news/2010/032610-yahoo-dns.html>.

   [RFC1794]  Brisco, T., "DNS Support for Load Balancing", RFC 1794,
              April 1995.

   [RFC2782]  Gulbrandsen, A., Vixie, P., and L. Esibov, "A DNS RR for
              specifying the location of services (DNS SRV)", RFC 2782,
              February 2000.

   [Resolvers in the Wild]
              Ager, B., Smaragdakis, G., Muhlbauer, W., and S. Uhlig,



Livingood               Expires November 30, 2011              [Page 34]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


              "Comparing DNS Resolvers in the Wild", ACM Sigcomm
              Internet Measurement Conference 2010, November 2010,
              <http://conferences.sigcomm.org/imc/2010/papers/p15.pdf>.

   [Rethinking the Internet]
              Blumenthal, M. and D. Clark, "Rethinking the design of the
              Internet: The end to end arguments vs. the brave new
              world", ACM Transactions on Internet Technology Volume 1,
              Number 1, Pages 70-109, August 2001, <http://
              dspace.mit.edu/bitstream/handle/1721.1/1519/
              TPRC_Clark_Blumenthal.pdf>.

   [Tussle in Cyberspace]
              Braden, R., Clark, D., Sollins, K., and J. Wroclawski,
              "Tussle in Cyberspace: Defining Tomorrow's Internet",
              Proceedings of ACM Sigcomm 2002, August 2002, <http://
              groups.csail.mit.edu/ana/Publications/PubPDFs/
              Tussle2002.pdf>.

   [Whitelisting Concerns]
              Brzozowski, J., Griffiths, C., Klieber, T., Lee, Y.,
              Livingood, J., and R. Woundy, "IPv6 DNS Whitelisting -
              Could It Hinder IPv6 Adoption?", ISOC Internet Society
              IPv6 Deployment Workshop, April 2010, <http://
              www.comcast6.net/
              IPv6_DNS_Whitelisting_Concerns_20100416.pdf>.

   [World IPv6 Day]
              The Internet Society, "World IPv6 Day - June 8, 2011",
              Internet Society Website http://www.isoc.org,
              January 2011, <http://isoc.org/wp/worldipv6day/>.


Appendix A.  Document Change Log

   [RFC Editor: This section is to be removed before publication]

   -04: Made changed based on feedback received during IESG review.
   This does NOT include updated from the more general IETF last call -
   that will be in a -05 version of the document.  Per Ralph Droms,
   change the title of 6.2 from "Likely Deployment Scenarios" to
   "Possible Deployment Scenarios", as well as changes to improve the
   understanding of sentences in Sections 2, 3, 4, and 8.2.  Per Adrian
   Farrel, made a minor change to Section 3.  Per Robert Sparks, to make
   clear in Section 2 that whitelisting is done on authoritative servers
   and not DNS recursive resolvers, and to improve Section 8.3 and add a
   reference to I-D.ietf?v6ops?happy?eyeballs.  Per Wesley Eddy, updated
   Section 7.3.2 to address operational concerns and re-titled Section 8



Livingood               Expires November 30, 2011              [Page 35]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   from "Solutions" to "General Implementation Variations".  Per Stephen
   Farrell, added text to Section 8.1 and Section 6.2, with a reference
   to 8.1 in the Introduction, to say that universal deployment is
   considered harmful.  Added text to Section 2 per the v6ops list
   discussion to indicate that whitelisting is independent of the IP
   address family of the end user host or resolver.  There was also
   discussion with the IESG to change the name of the draft to IPv6 DNS
   Resolver Whitelisting or IPv6 AAAA DNS Resolver Whitelisting (as
   suggested originally by John Mann) but there was not a strong
   consensus to do so.  Added a new section 7.7, at the suggestion of
   Philip Homburg.  Per Joe Touch, added a new Section 8.4 on
   blacklisting as an alternative, mentioned blacklisting in Section 2,
   added a new Section 7.8 on the use of 3rd party resolvers, and
   updated section 6.2 to change Internet Draft documents to RFCs.
   Minor changes from Barbara Stark.  Changes to the Privacy
   Considerations section based on feedback from Alissa Cooper.  Changed
   "highly-trafficked" domains to "high-traffic" domains.  Per Bernard
   Aboba, added text noting that a whitelist may be manually or
   automatically updated, contrasting whitelisting with blacklisting,
   reorganized Section 3, added a note on multiple clearinghouses being
   possible.  Per Pekka Savola, added a note regarding multiple
   clearinghouses to the Ad Hoc section, corrected grammar in Section
   7.5, reworded Section 7.3.7, corrected the year in a RIPE reference
   citation.  Also incorporated general feedback from the Broadband
   Internet Technical Advisory Group.  Per Jari Arkko, simplified the
   introduction to the Implications section, played down possible
   impacts on RFC 4213, added caveats to Section 8.3.2 on the utility of
   transition names, re-wrote Section 9.  Updated the Abstract and
   Introduction, per errors noted by Tony Finch.  Updated the Security
   Considerations based on feedback from Russ Mundy.  Per Ray Hunter,
   added some text to the De-Whitelisting implications section regarding
   effects on networks of switching from IPv6 to IPv4.  Updated 7.3.1
   per additional feedback from Karsten Fleischhauer.  Per Dave Crocker,
   added a complete description of the practice to the Abstract, added a
   note to the Introduction that the operational impacts are
   particularly acute at scale, added text to Intro to make clear this
   practice affects all protocols and not just HTTP, added a new query/
   response diagram, added text to the Abstract and Introduction noting
   that this is an IPv6 transition mechanism, and too many other changes
   to list.

   -03: Several changes suggested by Joel Jaeggli at the end of WGLC.
   This involved swapping the order of Section 6.1 and 6.2, among other
   changes to make the document more readable, understandable, and
   tonally balanced.  As suggested by Karsten Fleischhauer, added a
   reference to RFC 4213 in Section 7.1, as well as other suggestions to
   that section.  As suggested by Tina Tsou, made some changes to the
   DNSSEC section regarding signing.  As suggested by Suresh Krishnan,



Livingood               Expires November 30, 2011              [Page 36]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   made several changes to improve various sections of the document,
   such as adding an alternative concerning the use of ipv6.domain,
   improving the system logic section, and shortening the reference
   titles.  As suggested by Thomas Narten, added some text regarding the
   imperfection of making judgements as to end user host impairments
   based upon the DNS recursive resolver's IP and/or network.  Finally,
   made sure that variations in the use of 'records' and 'resource
   records' was updated to 'resource records' for uniformity and to
   avoid confusion.

   -02: Called for and closed out feedback on dnsop and v6ops mailing
   lists.  Closed out open feedback items from IETF 79.  Cleared I-D
   nits issues, added a section on whether or not this is recommended,
   made language less company-specific based on feedback from Martin
   Millnert, Wes George, and Victor Kuarsingh.  Also mentioned World
   IPv6 Day per Wes George's suggestion.  Added references to the ISOC
   World IPv6 Day and the Heise.de test at the suggestion of Jerry
   Huang, as well as an additional implication in 7.3.7.  Made any
   speculation on IPv4 impairment noted explicitly as such, per feedback
   from Martin Millnert.  Added a reference to DNS SRV in the load
   balancing section.  Added various other references.  Numerous changes
   suggested by John Brzozowski in several sections, to clean up the
   document.  Moved up the section on why whitelisting is performed to
   make the document flow more logically.  Added a note in the ad hoc
   deployment scenario explaining that a deployment may be temporary,
   and including more of the perceived benefits of this tactic.  Added a
   Privacy Considerations section to address end-user detection and
   communication.

   -01: Incorporated feedback received from Brian Carpenter (from 10/19/
   2010), Frank Bulk (from 11/8/2010), and Erik Kline (from 10/1/2010).
   Also added an informative reference at the suggestion of Wes George
   (from from 10/22/2010).  Closed out numerous editorial notes, and
   made a variety of other changes.

   -00: First version published as a v6ops WG draft.  The preceding
   individual draft was
   draft-livingood-dns-whitelisting-implications-01.  IMPORTANT TO NOTE
   that no changes have been made yet based on WG and list feedback.
   These are in queue for a -01 update.


Appendix B.  Open Issues

   [RFC Editor: This section is to be removed before publication]






Livingood               Expires November 30, 2011              [Page 37]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


   1.  RFC Editor: Please consider shortening the names of the non-RFC
       references.

   2.  Ensure references are in the proper section (normative/
       informative)

   3.  JD Falk question - should I add a sub-section to 9 to explain how
       best to implement if you did it? (transparent/published policies,
       SLA on decision making,etc.)

   4.  Per Ray Hunter - "Which is why my original posting suggested that
       the WG might wish to express a concern about anyone making
       assumptions about any undocumented architectural links between
       DNS and transport, and also suggest that operators of aaaa
       whitelists (party X) should disclose their aaaa methodology and
       data, and that they should not share whitelist data with other
       aaaa operators in an uncontrolled manner, so that at least Party
       Y could see what was happening and why, and also have a chance of
       correcting it."

   5.  Per Joe Touch, consider moving section 8 to just after section 3.
       (only do so after -04)

   6.  Per Dave Crocker, this is a bit long-winded and should be edited
       down - in particular removing mentions of 'parties' in various
       parts ("I suggest merely noting that there are concerns and then
       listing and discussing the concerns, rather than adding text to
       attribute the concerns to others, even if the conclusion of your
       text is that a particular concern is not valid.") (and ""These
       parties explain their belief" is an example of personalization
       that is not needed.  This isn't about the believers.  It is about
       possible problems.").  John Leslie concurs - feels it should be
       simplified.

   7.  Per Pekka Savola and Stephen Farrell, should universal deployment
       be removed completely (consider after -04).

   8.  Per Jari Arkko, review the document again after -04 to ensure the
       right tone and that all motivations are properly accounted for.

   9.  Per Dave Crocker - do we need to change the name from
       whitelisting to an alternate term?  Dave suggests "IPv6 Resolver
       Whitelisting" or "IPv6 DNS Response Preference List" or "DNS
       Response Content Preference List".  Tony Finch suggests: So I
       suggest retitling the document "IPv6 DNS resolver whitelisting"
       and revising the terminology throughout to match.  Mark Andrews
       also suggests "DNS resolver whitelisting for AAAA resolution".
       John Leslie suggests "AAAA-blocking".



Livingood               Expires November 30, 2011              [Page 38]

Internet-Draft   IPv6 AAAA DNS Whitelisting Implications        May 2011


Author's Address

   Jason Livingood
   Comcast Cable Communications
   One Comcast Center
   1701 John F. Kennedy Boulevard
   Philadelphia, PA  19103
   US

   Email: jason_livingood@cable.comcast.com
   URI:   http://www.comcast.com








































Livingood               Expires November 30, 2011              [Page 39]

