<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
	<!-- References are listed here so that they can be called via Entity attributes later -->
		<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
		<!ENTITY RFC3667 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3667.xml">
		]>
	 
		<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
		
		<!-- PROCESSING INSTRUCTIONS - GENERAL -->
		<!-- EACH ONE STARTS WITH '?' BELOW -->
		
		<!-- give errors on I-D nits and perform DTD validation -->
		<!-- control the table of contents (ToC) -->
		<?rfc strict='yes' ?>
		
		<?rfc toc='yes'?>
		<!-- generate a ToC -->

		<!-- the number of levels of subsections in ToC. default: 3 -->
		<?rfc tocdepth='4'?>
		
		<!-- END GENERAL PROCESSING -->
		
		<!-- PROCESSING INSTRUCTIONS - CONTROL OF REFERENCES -->
		
		<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
		<?rfc symrefs='yes'?>
		
		<!-- sort the reference entries alphabetically -->
		<!-- control vertical white space -->
		<?rfc sortrefs='yes' ?>
		
		<!-- do not start each main section on a new page -->
		<?rfc compact='yes' ?>
				
		<!-- keep one blank line between list items -->
		<?rfc subcompact='no' ?>
		
		<!-- END REFERENCE PROCESSING -->
		
    <rfc ipr='full3978' docName='draft-livingood-woundy-p4p-experiences-00' category='info'>
  	<!-- category values: std, bcp, info, exp, and historic
     ipr values: full3978, noModification3978, noDerivatives3978
     you can add the attributes updates="NNNN" and obsoletes="NNNN" 
     they will automatically be output with "(if approved)" -->
		
			<!-- FRONT SECTION -->
    	<front>
				<title abbrev='Comcast P4P Experiences'>
				Comcast's ISP Experiences In a Recent P4P Technical Trial
				</title>
				
		    <!-- add role='editor' attribute to author tag below for the editors if appropriate -->

        <author initials='C.' surname='Griffiths' fullname='Chris Griffiths'>
					<organization abbrev='Comcast'>
					Comcast Cable Communications
					</organization>
					<address>
						<postal>
        			<street>One Comcast Center</street>
        			<street>1701 John F. Kennedy Boulevard</street>
        			<city>Philadelphia</city> 
							<region>PA</region>
        			<code>19103</code>
        			<country>US</country>
						</postal>
    				<email>chris_griffiths@cable.comcast.com</email>
    				<uri>http://www.comcast.com</uri>
					</address>
				<!-- author role='editor' is an optional value here -->
				</author>				
				

        <author initials='J.' surname='Livingood' fullname='Jason Livingood'>
					<organization abbrev='Comcast'>
					Comcast Cable Communications
					</organization>
					<address>
						<postal>
        			<street>One Comcast Center</street>
        			<street>1701 John F. Kennedy Boulevard</street>
        			<city>Philadelphia</city> 
							<region>PA</region>
        			<code>19103</code>
        			<country>US</country>
						</postal>
    				<email>jason_livingood@cable.comcast.com</email>
    				<uri>http://www.comcast.com</uri>
					</address>
				<!-- author role='editor' is an optional value here -->
				</author>
				
			<author initials="R." surname="Woundy" fullname="Richard Woundy">
				<organization abbrev="Comcast">
				Comcast Cable Communications
				</organization>
				<address>
					<postal>
						<street>27 Industrial Avenue</street>
						<city>Chelmsford</city>
						<region>MA</region>
						<code>01824</code>
						<country>US</country>
					</postal>
					<email>richard_woundy@cable.comcast.com</email>
					<uri>http://www.comcast.com</uri>
				</address>
				<!-- author role='editor' is an optional value here -->
				</author>

        <date day='27' month='October' year='2008' />
				
				<!-- META-DATA DECLARATIONS -->
    		<area>TBD Area</area>
				
				<!-- WG name at the upperleft corner of the doc; 'Internet Engineering Task Force' is fine for individual submissions.  -->
    		<workgroup>Internet Engineering Task Force (ALTO)</workgroup>
    
		    <!-- Keywords will be incorporated into HTML output files in a meta tag but they have no effect on text or nroff output. If you submit your draft to the RFC Editor, the keywords will be used for the search engine. -->
				<keyword>RFC</keyword>
								
    		<keyword>Request for Comments</keyword>
				
    		<keyword>I-D</keyword>
				
    		<keyword>Internet-Draft</keyword>
				
    		<keyword>XML</keyword>
				
    		<keyword>Extensible Markup Language</keyword>
				
				<keyword>ISP</keyword>
				
				<keyword>Internet Service Provide</keyword>
				
				<keyword>P2P</keyword>
				
				<keyword>Peer-to-Peer</keyword>
				
				<keyword>P4P</keyword>
				
				<keyword>Proactive Network Provider Participation for P2P</keyword>

				<keyword>DCIA</keyword>
				
				<keyword>Distributed Computing Industry Association</keyword>
				
        <abstract>
        <t>This document describes the experiences of Comcast, a large cable broadband Internet Service Provider (ISP) in the U.S., in a recent Proactive Network Provider Participation for P2P (P4P) technical trial.  This trial used iTracker technology being considered by the IETF, as part of what is currently known as the Application Layer Transport Optimization (ALTO) Birds of a Feather (BoF).</t>
    		</abstract>
				<!-- END META-DATA DECLARATIONS -->

			</front>
			<!-- END FRONT SECTION -->
			
			<!-- MIDDLE SECTION -->
			<middle>
      	<section anchor='ReqLang' title='Requirements Language' toc='include'>
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <xref target="RFC2119">RFC 2119</xref>.</t>
      </section>
			
				<section anchor='intro' title='Introduction' toc='include'>
				<t>Comcast is a large broadband ISP, based in the U.S., serving the majority of its customers via cable modem technology.  A trial was recently conducted with Pando Networks, Yale, and several ISP members of the P4P Working Group, which is part of the Distributed Computing Industry Association (DCIA). Comcast is a member of the P4P Working Group, whose mission is to work with Internet service providers (ISPs), peer to peer (P2P) companies, and technology researchers to develop "P4P" mechanisms that accelerate distribution of content and optimize utilization of ISP network resources. P4P theoretically allows P2P networks to optimize traffic within each ISP, reducing the volume of data traversing the ISP's infrastructure and creating a more manageable flow of data. P4P can also accelerate P2P downloads for end users.</t>  

				<t>P4P's so-called "iTracker" technology was conceptually discussed with the IETF at the Peer to Peer Infrastructure (P2Pi) Workshop held on May 22, 2008, at the Massachusetts Institute of Technology (MIT).  This work was discussed in greater detail at the 72nd meeting of the IETF, in Dublin, Ireland, in the ALTO BoF on July 29, 2008.  Since that time, discussion of iTrackers has continued with participants of the ALTO BoF and P2Pi Workshop, as the IETF community plans for a second BoF at the 73rd meeting of the IETF in November, 2008.  At IETF 72, Comcast offered to share P4P trial data with the community, and to present this in some detail at the next ALTO BoF.</t>

				<t>The P4P trial was conducted, in cooperation with Pando, Yale, and three other P4P member ISPs, from July 2 to July 17, 2008.  This was the first P4P trial over a cable broadband network.  The trial used a Pando P2P client, and Pando distributed a special 21 MB licensed video file as in order to measure the effectiveness of P4P iTrackers. A primary objective of the trial was to measure the effects that increasing the localization of P2P swarms would have on P2P uploads, P2P downloads, and ISP networks, in comparison to normal P2P activity.</t>
	
				</section>
				
				<section anchor='Details' title='High-Level Details' toc='include'>
				
				<t>There were five different swarms for the content used in the trial.  The first was a random P2P swarm, as a control group.  The second, third, and fourth used different P4P iTrackers: Generic, Coarse Grained, and Fine Grained.  The fifth was a proprietary Pando mechanism.  (The results of the fifth swarm, while very good, are not included here since our focus is on open standards and a mechanism which may be leveraged for the benefit of the entire community of P2P clients.) During the trial, there were 15,518 downloads to Comcast-based P2P clients.  Comcast deployed an iTracker server in our production network to support this trial, and configued multiple iTracker files to provide varying levels of localization to clients.</t>
				
				<t>In the trial itself, a P2P client begins a P2P session by querying a pTracker, which runs and manages the P2P network.  The pTracker occasionally queries the iTracker, which in this case was maintained by Comcast, the ISP.  Other ISPs either managed their own iTracker or used Pando or Yale to host their iTracker files.  The iTracker returns network toplogy information to the pTracker, which then communicates with P2P clients, in order to enable P2P clients to make network-aware decisions regarding peers.</t>

				</section>
	
				<section anchor='Results' title='High-Level Trial Results' toc='include'>

				<t>Trial data was collected by Pando Networks and Yale University, and raw trial results were shared with Comcast and all of the other ISPs involved in the trial.  Analysis of the raw results was performed by Pando and Yale, and these organizations delivered an analysis of the P4P trial.  Using the raw data, Comcast also analyzed the trial results.  Furthermore, the raw trial results for Comcast were shared with Net Forecast, Inc., which performed an independent analysis of the trial for Comcast.</t>
				
				<t>The results of the trial indicated that P4P can improve the speed of downloads to P2P clients.  In addition, P4P was effective in localizing P2P traffic within the Comcast network.</t>				

				<texttable anchor="table_ex" title="IETF Meetings in 2005">
   			 	<ttcol align='center'>Swarm</ttcol>
    			<ttcol align='center'>Global Avg bps</ttcol>
    			<ttcol align='center'>Change</ttcol>
					<ttcol align='center'>Comcast Avg bps</ttcol>
					<ttcol align='center'>Change</ttcol>
    			
					<c>Random (Control)</c>
					<c>144,045 bps</c>
    			<c>n/a</c>
    			<c>254,671 bps</c>
    			<c>n/a</c>
					
					<c>----------</c>
					<c>----------</c>
    			<c>----------</c>
    			<c>----------</c>
    			<c>----------</c>
					
					<c>P4P Fine Grained</c>
					<c>162,344 bps</c>
    			<c>+13%</c>
    			<c>402,043 bps</c>
    			<c>+57%</c>
					
					<c>----------</c>
					<c>----------</c>
    			<c>----------</c>
    			<c>----------</c>
    			<c>----------</c>
					
					<c>P4P Generic Weight</c>
					<c>163,205 bps</c>
    			<c>+13%</c>
    			<c>463,782 bps</c>
    			<c>+82%</c>
					
					<c>----------</c>
					<c>----------</c>
    			<c>----------</c>
    			<c>----------</c>
    			<c>----------</c>
					
					<c>P4P Coarse Grained</c>
					<c>166,273 bps</c>
    			<c>+15%</c>
    			<c>471,218 bps</c>
    			<c>+85%</c>

    			<postamble>Data from trial.</postamble>
				</texttable>


				<t>An analysis of the effects of P4P on upstream utilization and Internet transit was also interesting.  It did not appear that P4P significantly increased upstream utilization in our access network; in essence uploading was already occuring no matter what and P4P in and of itself did not appear to materially increase uploading for this specific, licensed content.  (P4P is not intended as a solution for the potential of network congestion to occur.)  Random was 143,236 MB and P4P Generic Weight was 143,143 MB, while P4P Coarse Grained was 139,669 MB.  We also observed that P4P reduced outgoing Internet traffic by an average of 34% at peering points. Random was 134,219 MB and P4P Generic Weight was 91,979 MB, while P4P Coarse Grained was 86,652 MB.</t> 

				<t>In terms of downstream utilization, we observed that P4P reduced incoming Internet traffic by an average of 80% at peering points.  Random was 47,013 MB and P4P Generic Weight was 8,610 MB, while P4P Coarse Grained was 7,764 MB. However, we did notice that download activity in our access network increased somewhat, from 56,030 MB for Random, to 59,765 MB for P4P Generic Weight, and 60,781 MB for P4P Coarse Grained.</t>

				<t>During the trial, downloads peaked at 24,728 per day, per swarm, or nearly 124,000 per day for all five swarms.  The swarm size peaked at 11,703 peers per swarm, or nearly 57,000 peers for all five swarms.  We observed a comparable number of downloads in each of the five swarms.</t>
					
				</section>
				
				<section anchor='P4P iTracker Diffs' title='Differences Between P4P iTrackers' toc='include'>
				
			 		<section anchor='Fine' title='P4P Fine Grained' toc='include'>
				
					<t>To be completed</t>
				
					</section>
					
					<section anchor='Coarse' title='P4P Coarse Grained' toc='include'>
				
					<t>To be completed</t>
				
					</section>
					
					<section anchor='Generic' title='P4P Generic Weighted' toc='include'>
				
					<t>To be completed</t>
				
					</section>
				
				</section>
				
				
				<section anchor='Next Steps' title='Next Steps' toc='include'>
				
				<t>One objective of this document is to share with the IETF community the results of one P4P trial in a large broadband network, given skepticism regarding both the benefits to P2P users and to ISPs.  From the perspective of P2P users, P4P potentially delivers faster P2P downloads.  At the same time, ISPs can increase the localization of swarms, enabling them to reduce bytes flowing over transit points, while also delivering an optimized P2P experience to customers.</t>
				
				<t>We believe these results can inform the technical discussion in the IETF over how to use iTracker mechanisms.  Should such a mechanism be standardized, the use of ISP-provided iTrackers should probably be an opt-in feature for P2P users, or at least a feature of which they are explicitly aware of and which has been enabled by default in a particular P2P client.  In this way, P2P users could choose to opt-in either explicitly or by their choice of P2P client in order to choose to use the iTracker to improve performance, which benefits both the user and the ISP at the same time.  Importantly in terms of privacy, the iTracker makes available only network topology information, and would not in its current form enable an ISP, via the iTracker, to determine what P2P clients were downloading what content.</t>
				
				<t>It is also possible that an iTracker type of mechanism, in combination with a P2P cache, could further improve P2P download performance, which merits further study.  In addition, this was a limited trial that, while very promising, indicates a need for additional technical investigation and trial work.  Such follow-up study should explore the effects of P4P when more P2P client software variants are involved, with larger swarms, and with additional and more technically diverse content (file size, file type, duration of content, etc.).</t>
								
				</section>
	
				<section title='Security Considerations'>
            <t>To be developed.</t>
        </section>
				
				<section title='IANA Considerations'>
            <t>There are no IANA considerations in this document.</t>
        </section>
			
				<section title='Acknowledgements'>
        	<t>The authors wish to acknowledge the hard work of all of the P4P working group members, and specifically the focused efforts of the teams at both Pando and Yale for the trial itelf.  Finally, the authors recognize and appreciate Peter Sevcik and John Bartlett, of NetForecast, Inc., for their valued independent analysis of the trial results.</t>
        </section>	
				
        <!-- appendix -->
    	</middle>
			<!-- END MIDDLE SECTION -->
			
			<!-- BACK SECTION -->
			<back>
			
      	<references title='Normative References'>
					
					&RFC2119;

				
				
				</references>
				
		 

				
				
				</back>
			<!-- END BACK SECTION -->
        	
					
				<!-- CHANGE LOG -->
					<!-- 
					v00-1 2008-10-27  Jason creates first version
					-->	
					
					



			
			
    </rfc>

		
		<!-- FOR REFERENCE -->
		<!-- less than is &lt -->
		<!-- ampersand is &amp -->
		<!-- apostrophe is &apos -->
		<!-- quotation is &quot -->