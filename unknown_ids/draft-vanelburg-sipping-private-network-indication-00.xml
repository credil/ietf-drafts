<?xml version="1.0" encoding="iso-8859-1"?>
<!-- comment -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">

<?rfc toc="yes" ?>
<?rfc compact="yes" ?>
<?rfc sortrefs="no" ?>
<rfc ipr="full3978" category="info" docName="draft-vanelburg-sipping-private-network-indication-00.txt">
<front>
    <title abbrev="private network indication">
           Requirements for explicit private network indication
    </title>
    <author initials="J.F.J." surname="van Elburg" fullname="Hans Erik van Elburg">
      <organization>Ericsson Telecommunicatie B.V.</organization>
      <address>
	<postal>
          <street>Ericssonstraat 2</street>
	  <code>5121 ML</code> 
	  <city>Rijen</city> 
	  <country>The Netherlands</country>
 	</postal>
	<email>HansErik.van.Elburg@ericsson.com</email>
      </address>
    </author>
    <author initials="K." surname="Drage" fullname="Keith Drage">
      <organization>Alcatel-Lucent</organization>
      <address>
	<postal>
          <street>The Quadrant, Stonehill Green, Westlea</street>
	  <code>SN5 7DJ</code> 
	  <city>Swindon</city> 
	  <country>UK</country>
 	</postal>
	<email>drage@alcatel-lucent.com</email>
      </address>
    </author>

    <date year="2008" />
    <area>Transport</area>
    <workgroup>SIPPING Working Group</workgroup>
    <keyword>SIP</keyword>
    <keyword>enterprise</keyword>
    <keyword>corporate</keyword>
    <keyword>private</keyword>
   <abstract>
    <t>
This document describes why a private network indication is needed. A private network indication allows other nodes in a network to treat private network traffic to a different set of rules then public network traffic. The indication also distinguishes one private network from another private network.
    </t>
    </abstract>
</front>
<middle>

<section title="Introduction" anchor="sec-introduction">
  <section title="General" anchor="sec-intro-general">
    <t>
    ETSI TISPAN defines Next Generation Networks (NGN) which uses the 3rd-Generation Partnership Project (3GPP) IMS (IP Multimedia Subsystem) which in turn uses SIP (RFC3261 <xref target="RFC3261"/>) as its main signalling protocol. (For more information on the IMS, a detailed description can be found in 3GPP TS 23.228 <xref target="3GPP.23.228"/> and 3GPP TS 24.229 <xref target="3GPP.24.229"/>.) 
    </t>
  </section>
  <section title="Business communication" anchor="sec-intro-buscom">
    <t>
    In the context of its work on business communiction support in public next generation networks (NGN), ETSI TISPAN has identified a framework <xref target="ETSI.181.019"/> for the support of business communication capabilities by the NGN. As well as the direct attachment of Next Generation Corporate Network (NGCN) equipment, this includes the capability to "host" functionality relating to the enterprise network within the NGN itself.
    </t>
    <t>
    These hosting arrangements are:
    <list style="format %c)">
      <t>virtual leased line, where NGCN sites are interconnected through the NGN;</t>
      <t>business trunking application, where the NGN hosts transit capabilities between NGCN's, break-in capabilities from NGN to NGCN and break-out capabilities from NGCN to NGN; and</t>
      <t>hosted enterprise services, where an NGN hosts originating  and/or terminating business communication capabilities for business communication users that are directly attached to an NGN.</t>
    </list>
    </t>
    <t>
    ETSI TISPAN has requirements that can be met by the introduction of an explicit indication for private network traffic.
    </t>
    <t>The traffic generated or received by an NGN on behalf of a private network can be either: 
    <list style="symbols">
    <t>
    public network traffic: traffic sent to the NGN for processing according to normal rules of the NGN. This type of traffic is known as public network traffic; 
    </t>
    <t>
    private network traffic: traffic sent to the NGN for processing according to an agreed set of rules specific to an enterprise. This type of traffic is known as private network traffic. Private network traffic is normally within a single enterprise, but private network traffic can also exist between two different enterprises if not precluded for regulatory reasons. 
    </t>
    </list>
    </t>
  </section>
  <section title="Indication types" anchor="sec-intro-indtypes">
  <t>
  A private network indication as proposed by this document should not be confused with an indication to the local user that the remote user is in the same private network. This has traditionally resulted in PBXs providing distinctive ringing on incoming calls, but has also been used as input to services provided to the end user, e.g. different forwarding conditions and so on. Traditionally, this has only been applied where the call does not enter the public network at all, but we regard that limitation as a technical limitation rather than as one precluded by the desires of the service (i.e. traditionally there has been no special indication of this and it has relied on calling line identity, and for calls coming in over the public network, one would both need reliable transfer of calling line identity, and the authentication that it really was that calling line identity, as the end user would not like a false indication that this is a private network internal call when it is in fact someone wishing to use that indication for fraudulent purposes. There may be a need for such a explicit indication, but that is not covered by this document.
  </t>
  <t>
Rather private network indication as proposed by this document is an indication to each and every network element traversed that this is private network traffic as opposed to public network traffic. This indication is not for the end user on the private network. It is an indication that special service arrangements apply for an enterprise, and therefore it is an indication of service on behalf of an enterprise, not an indication of service to an end private network (NGCN) user.
  </t>
  <t>
  In order to allow NGN IMS nodes to perform different processing ETSI TISPAN formulated the following requirements on NGN:   
  <list style="numbers">
  <t>
  The NGN shall distinguish public network traffic from private network traffic. 
  </t>
  <t>
  The NGN shall distinguish private network traffic belonging to one enterprise from that belonging to another enterprise. 
  </t>
  </list>
  </t>
  <t>
  To sumarize a few example reasons for a public telecommunication network to make the distinction between the two types of traffic:
  <list style="symbols">
  <t>
  Different regulations apply to the two types of traffic, most notably lawfull intercept regquirements. Another example is emergency calls may be handled differently depending on the type of traffic.
  </t>
  <t>
  Different charging regimes may apply.
  </t>
  <t>
  Call recording for business reasons (e.g. quality control, training, non-repudiation) might apply only to a specific type of traffic.
  </t>
  <t>
  Different levels of signalling and/or media transparency may apply to the different types of traffic.
  </t>
  </list>
  </t>
  <t>
  The indication is not regarded as appropriate as an indication from the end UA attached to an NGCN or hosted enterprise service equipment in the NGN. In this case any mixture of traffic relates to two or more distinct users, one belonging to the enterprise network and receiving service from that enterprise network, and one belonging to the NGN and receiving service from that network. Any distinction between the traffic to such a UA should be based on the authentication arrangements performed with each of the service networks.
  </t>
  <t>There are several reasons why there is a need for an explicit indication in the signalling:
  <list style="numbers">
    <t>As calling  and target addresses can not in all cases be used to determine whether a certain call is to be treated as private or public network traffic.</t>
    <t> Separate nodes in the network need to be able to act on the type of traffic being handled, when implicit schemes would be used it would require distribution of such enterprise specific logic over multiple nodes of multiple operators. That is clearly not a manageable architecture.</t>
    <t>There may be cases where treating the call as a public network call allthough both participants are from the same enterprise is advantegous to the enterprise.</t>
  </list>
  </t>
  <t>Given the above background this document will formulate requirements on SIP for support of an explicit private network indicator.</t>
  </section>
</section>

<section title="Conventions" anchor="sec-conventions">
<t>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14, RFC 2119 <xref target="RFC2119"/>.
</t>
</section>

<section title="Definitions"
anchor="sec-definitions">

  <section title="Public Network Traffic" anchor="sec-definitions-public">
  <t>
  Traffic sent to or received from a public telecommunication network for processing according to the normal rules.
  </t>
  </section>

  <section title="Private Network Traffic" anchor="sec-definitions-private">
  <t>
  Traffic sent to or received from an public telecommunication network for processing according to an agreed set of rules specific to an enterprise or a community of closely related enterprises.
  </t>
  </section>

  <section title="Trust Domain" anchor="sec-definitions-trust">
  <t>
  The term Trust Domain in this document is taken from RFC3324 <xref target="RFC3324"/>. In the context of this document it is assumed that a trust domain for  the purpose of private network indication contains the same set of SIP nodes as the trust domain for the purpose of network asserted identity.
  </t>
  </section>


</section>

<section title="Requirements"
anchor="sec-requirements">
  <t>
  This section lists the requirements on SIP derived from consideration in <xref
  target="sec-introduction"/>:
  <list style='format R%d:'>
    <t anchor="r1">It is REQUIRED that an indication can be send in SIP initial requests for a dialog or SIP standalone requests and or SIP responses to those that indicate that the request or associated session is to be treated according to the rules of private network traffic.</t> 
    <t>The indication from R1 can be inserted by a SIP proxy belonging to an administrative entity where for onward routeing, the traffic within that administrative entity needs to be so distinguished. The indication is not needed where the traffic is assumed to be all public, or where the traffic is assumed to be all private.</t>
    <t>The indication from R<xref target="r1" format="counter"/> can be removed by a SIP proxy belonging to an administrative entity where for onward routeing, the traffic no longer needs to be so distinguished. An example exists where the traffic reaches an NGCN site where the traffic is now assumed to all private network traffic.</t>
    <t>It is REQUIRED that the indication from R<xref target="r1" format="counter"/> allows entities to determine the set of rules that are applicable, these rules may be enterprise specific.</t>
    <t anchor="r3">It is REQUIRED that the indication from R<xref target="r1" format="counter"/> allows entities receiving it to distinguish private network traffic from different enterprises.</t>
    <t>This distinction R<xref target="r3" format="counter"/> of traffic belonging to one private network can be inserted by SIP proxies where for administrative reasons it becomes important. This insertion may be by a different entity to that which inserted the indicator between private network traffic. For example, an NGCN site inserts the indicator to distinguish public network traffic from private network traffic, but all private network traffic belongs to this enterprise so an explicit indication to distinguish the traffic from that belonging to other enterprises is not needed. However the request is then routed to the NGN, which is handling private network traffic relating to multiple enterprises, so an additional identifier needs to be added at this time. </t>
    <t>The identifier to distinguish private network traffic belonging to one enterprise from that belonging to another enterprise must be globally unique. Business communication arrangements for any particular enterprise can be expected to span multiple NGN operators potentially in multiple countries.</t>
    <t>The indication from R<xref target="r1" format="counter"/> relates primarily to the SIP signaling. There may be an association of the concent with media, but only where the limitations of such an association can be applied due to the potential different routeing of media.</t>
  </list>
  </t>

</section>

<section title="Potential Solutions"
anchor="sec-solutions">
    <section title="General" anchor="sec-sol-gen">
    <t>
    It would be technical possible, but extremely complex to perform this function without an explicit indication. For example, a logical distinction of proxies to handle private network traffic relating to enterprise 1, enterprise 2 and the public network traffic could be made by assigning different SIP URIs to these logical entities. This is not regarded as a viable solution.
    </t>

    <t>
    Several solutions have been raised and whether or not they are suitable and fulfill the requirements need to be discussed:
    <list style="symbols">
    <t>
    Attribute on existing header?
    </t>
    <t>
    Token on some existing header?
    </t>
    <t>
    Resource-Priority header?
    </t>
    <t>
    P-Asserted-Service header?
    </t>
    <t>
    Request-Disposition header?
    </t>
    <t>
    P-Access-Network-Information header?
    </t>
    <t>
    URI parameter?
    </t>
    <t>
    New P-header?
    </t>
    <t>
    New header?
    </t>
    </list>
    </t>
    </section>

    <section title="Attribute on existing header" anchor="sec-sol-attr">
    <t>
    </t>
    </section>

    <section title="Token value on existing header" anchor="sec-sol-token">
    <t>
    </t>
    </section>

    <section title="Resource-Priority header" anchor="sec-sol-rph">
    <t>
    Some of the distinctive functions are already provided for in this header. A potential mechanism would be to define a namespace for private network traffic. It would however be impossible to define a namespace for each enterprise, and therefore some additional parameter would need to be defined to carry the unique identifier of the particular enterprise to which the private network traffic relates. Successful usage may also require a tightening of the procedures for use of the Resource-Priority header (much at the moment is left to the particular application of this header).
    </t>
    </section>

    <section title="P-Asserted-Service header" anchor="sec-sol-pas">
    <t>
    The services envisaged by the P-Asserted-Service header field (draft-drage-sipping-service-identification) are those applied to the end user. The end user in these cases is the end user of the enterprise or NGCN, not the enterprise itself. There fore this header is not considered suitable for this problem.
    </t>
    </section>

    <section title="Request-Disposition header" anchor="sec-sol-rdh">
    <t>
    The Request-Disposition header field (RFC3841 <xref target="RFC3841"/>) specifies caller preferences for how a server should process a request. The caller in these cases is the end user of the enterprise or NGCN, not the enterprise itself. There fore this header is not considered suitable for this problem. Further RFC3841 explicitly states that the set of request disposition directives is not extensible.
    </t>
    </section>

    <section title="P-Access-Network-Information" anchor="sec-sol-pani">
    <t>
    The P-Access-Network-Info header field (RFC3455 <xref target="RFC3455"/>) contains information about the access network that a UA uses to get IP connectivity. However the access that one uses does not define the private network that a call that one sets up is to be part of.</t> 
    <t> Particular examples that illustrate this:
    <list style='symbols'>
      <t>A Hosted Enterprise Services user (i.e. Centrex) uses the access of the operator while still being able to setup calls that will turn out to be private network traffic.</t>
      <t>A corporate network UE that attaches to an operator network, but receives services from its home corporate network.</t>
    </list>
    </t>
    </section>

    <section title="New P-header" anchor="sec-sol-ph">
    <t>
    Possible usage is more general than that envisaged for a P-header.
    </t>
    </section>

    <section title="URI parameter" anchor="sec-sol-urip">
    <t>
    A marking on the entities within the Via header that are treating this as private network traffic. Potential marking on the route header of entities that are expected to treat it as private network traffic.
    </t>
    </section>

    <section title="New header?" anchor="sec-sol-nh">
    <t>
    If none of the existing headers is appropriate a new header might need to be defined.
    </t>
    </section>
</section>



<section title="Security Considerations"
anchor="sec-security">
<t>
The private network indication being defined in this document is to be used in an environment where elements are trusted and where attackers are not supposed to have access to the protocol messages between those elements. Traffic protection between network elements is sometimes achieved by using IPsec and sometimes by physically protecting the network. In any case, the environment where the private network indication will be used ensures the integrity and the confidentiality of the contents of this header field.
</t>
<t>
A private network indication received from an untrusted node MUST NOT be used and the information MUST be removed from a request or response before it is forwarded to entities in the trust domain. 
</t>
<t>
There is a security risk if a private network indication is allowed to propagate out of the trust domain where it was generated. In that case sensitive information would be revealed by such a breach. To prevent such a breach from happening: Proxies MUST NOT insert the information when forwarding requests to a next hop located outside the trust domain. When forwarding the request to a trusted node, proxies MUST NOT insert the header unless they have sufficient knowledge that the route set includes another proxy in the trust domain that understands the header, such as the own proxy. There is no automatic mechanism to learn the support for this specification. Proxies MUST remove the information when forwarding requests to untrusted nodes or when the proxy does not have knowledge of any other proxy in the route set that is able to understand the header.
</t>
</section>

<section title="IANA Considerations"
anchor="sec-iana">
<t>
This document defines ... This
... needs to be registered by the IANA in the ...
registry under the ... subregistry.
</t>

</section>


<section title="Acknowledgments"
anchor="sec-acks">
<t>
The authors thank Bruno Chatras, John Ellwell and Salvatore Loreto for providing comments on an early version of this draft.
</t>
</section>

</middle>
<back>
    <references title="Normative References">
      <?rfc include="reference.RFC.2119" ?>
      <?rfc include="reference.RFC.3261" ?>
      <?rfc include="reference.RFC.3324" ?>
    </references>
    
    <references title="Informative References">

      <reference anchor='ETSI.181.019'>
        <front>
          <title>Telecommunication and Internet converged Services and Protocols for Advanced Networking (TISPAN); Business Communication Requirements</title>
          <author><organization>ETSI</organization></author>
          <date day='' month='July' year='2007' />
        </front>
      <seriesInfo name='ETSI TS' value='181 019 V2' />
      <format type='HTML' target='http://pda.etsi.org/pda/queryform.asp' />
      </reference>

      <reference anchor='3GPP.23.228'>
        <front>
          <title>IP Multimedia Subsystem (IMS); Stage 2</title>
          <author><organization>3GPP</organization></author>
         </front>
        <seriesInfo name='3GPP TS' value='23.228 V8' />
        <format type='HTML' target='http://www.3gpp.org/ftp/Specs/html-info/23228.htm' />
      </reference>

      <reference anchor='3GPP.24.229'>
        <front>
          <title>Internet Protocol (IP) multimedia call control protocol based on Session Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3</title>
          <author><organization>3GPP</organization></author>
        </front>
        <seriesInfo name='3GPP TS' value='24.229 V8' />
        <format type='HTML' target='http://www.3gpp.org/ftp/Specs/html-info/24229.htm' />
      </reference>
      <?rfc include="reference.RFC.3455" ?>
      <?rfc include="reference.RFC.3841" ?>

    </references>

    <appendix title="Revision Information"
    anchor="app-revision-info">

    <section title="version 00">
    <list style="numbers">
    <t>
    2008-02-18, Initial version
    </t>
    </list>
    </section>

    </appendix>
  </back>
</rfc>















