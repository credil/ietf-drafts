<?xml version="1.0"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes" ?>
<?rfc compact="yes" ?>
<?rfc sortrefs="no" ?>

<rfc docName="draft-poretsky-bmwg-sip-bench-meth-02"
     ipr="full3978">

<front>
	<title abbrev="SIP Benchmarking Methodology">
       Methodology for Benchmarking SIP Networking 
	   Devices
    </title>
	
	<author initials="S." surname="Poretsky" fullname="Scott Porersky">
    <organization>Reef Point Networks</organization>
    <address>
      <postal>
         <street>8 New England and Executive Park</street>
         <city>Burlington</city>
         <region>MA</region>
         <code>08103</code>
         <country>USA</country>
      </postal>
      <phone>+1 508 439 9008</phone>
      <email>sporetsky@reefpoint.com</email>
    </address>
    </author>

    <author initials="V." surname="Gurbani" fullname="Vijay K. Gurbani">
    <organization>Bell Laboratories, Alcatel-Lucent</organization>
    <address>
      <postal>
         <street>2701 Lucent Lane</street>
         <street>Rm 9F-546</street>
         <city>Lisle</city>
         <region>IL</region>
         <code>60532</code>
         <country>USA</country>
      </postal>
      <phone>+1 630 224 0216</phone>
      <email>vkg@alcatel-lucent.com</email>
    </address>
    </author>

    <author initials="C." surname="Davids" fullname="Carol Davids">
    <organization>Illinois Institute of Technology</organization>
    <address>
      <postal>
         <street>201 East Loop Road</street>
         <city>Wheaton</city>
         <region>IL</region>
         <code>60187</code>
         <country>USA</country>
      </postal>
      <email>davids@iit.edu</email>
    </address>
    </author>
	
    <date year="2007"/>
	<area>Operations and Management Area</area>
    <workgroup>Benchmarking Methodology Working Group</workgroup>

<abstract>
<t>This document describes the methodology for benchmarking Session 
Initiation Protocol (SIP) performance as described in Terminology 
document <xref target="I-D.sip-bench-term"/>.  The methodology and 
terminology are to be used for benchmarking signaling plane performance 
with varying signaling and media load.  Both scale and establishment 
rate are measured by signaling plane performance.  The SIP Devices to 
be benchmarked may be a single device under test (DUT) or a system 
under test (SUT).  Benchmarks can be obtained and compared for different 
types of devices such as SIP Proxy Server, SBC, P-CSCF, and Server 
paired with a Firewall/NAT device. </t>
</abstract>

</front>
<middle>

<section title="Terminology">
<t>In this document, the key words "MUST", "MUST NOT", "REQUIRED",
"SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as described
in BCP 14, conforming to <xref target="RFC2119">RFC 2119</xref> and indicate
requirement levels for compliant implementations.</t> 

<t>Terms specific to SIP Performance benchmarking are defined in 
<xref target="I-D.sip-bench-term"/>.</t>

<t>RFC 2119 defines the use of these key words to help make the
intent of standards track documents as clear as possible.  While this
document uses these keywords, this document is not a standards track
document.  The term Throughput is defined in RFC 2544.</t>

</section>

<section title="Introduction">
<t>This document describes the methodology for benchmarking Session 
  Initiation Protocol (SIP) performance as described in Terminology 
  document <xref target="I-D.sip-bench-term"/>.  The methodology and 
  terminology are to be used for benchmarking signaling plane performance 
  with varying signaling and media load.  Both scale and establishment 
  rate are measured by signaling plane performance.</t>
  
<t>The SIP Devices to be benchmarked may be a single device under test 
  (DUT) or a system under test (SUT).  The DUT is a SIP Server, which 
  may be any RFC 3261 <xref target="RFC.3261"/> conforming device.  
  The SUT can be any device or group of devices containing RFC 3261 conforming 
  functionality along with Firewall and/or NAT functionality.  This 
  enables benchmarks to be obtained and compared for different types 
  of devices such as SIP Proxy Server, SBC, P-CSCF, Proxy Server 
  paired with a Firewall/NAT device, and P-CSCF paired with a 
  Firewall/NAT device.  SIP Associated Media benchmarks can also 
  be made when testing SUTs.</t>
  
<t>The test cases covered in this methodology document provide
  benchmarks metrics of  Registration Rate, SIP Session Setup Rate, 
  Session Capacity, IM Rate, and Presence Rate.  These can be 
  benchmarked with or without associated Media.  Some cases are also 
  included to cover Forking, Loop detecion, Encrypted SIP, and SIP 
  Flooding.  The test topologies that can be used are described in 
  the Test Setup section.  Topologies are provided for benchmarking 
  of a DUT or SUT.  Benchmarking with Associated Media can be 
  performed when using a SUT.</t>
  
<t>SIP permits a wide range of configuration options that are also 
  explained in the Test Setup section.  Benchmark metrics could 
  possibly be impacted by Associated Media. The selected values for 
  Session Duration and Media Streams per Session enable benchmark
  metrics to be benchmarked without Associated Media.  Session Setup 
  Rate could possibly be impacted by the selected value for Maximum 
  Sessions Attempted.  The benchmark for Session Setup Rate is 
  measured with a fixed value for Maximum Sessions Attempted.</t>
  
</section> <!-- Introduction -->

<section title="Test Setup" anchor="test-setup">

<section title="Test Topologies" anchor="test-topologies">
<t> Figures 1 through 5 below provide various topologies to perform
   the SIP Performance Benchmarking.  These figures show the Device 
   Under Test (DUT) to be a single server or a System Under Test (SUT).  
   Test Topology options to include benchmarking with Associated Media 
   require use of a SUT and are shown in Figures 4 and 5. </t>
   
<figure anchor= 'figure 1'>

<artwork>
<![CDATA[
          DUT  
        ---------               ---------
        |       |               |       |
        |       |               |       |
        |       |      SIP      |       |
        |Server |<------------->| Tester|
        |       |               |       |
        |       |               |       |
        |       |               |       |
        ---------               ---------
]]>

</artwork>

<postamble> Figure 1. Basic SIP Test Topology </postamble>

</figure>

<figure anchor= 'figure 2'>

<artwork>
<![CDATA[
                  SUT   
        ------------------------ 
        ---------      ---------         ---------
        |       |      |       |         |       |
        |       |      |       |         |       |
        |       |  SIP |Fire-  |   SIP   |       |
        | Server|<---------------------->| Tester|
        |       |      |Wall   |         |       |
        |       |      |       |         |       |
        |       |      |       |         |       |
        ---------      ---------         ---------

]]>

</artwork>

<postamble> Figure 2. SIP Test Topology with Firewall </postamble>

</figure>

<figure anchor= 'figure 3'>

<artwork>
<![CDATA[
                  SUT   
        ------------------------ 
        ---------      ---------         ---------
        |       |      |       |         |       |
        |       |      |       |         |       |
        |       |  SIP | NAT   |   SIP   |       |
        | Server|<---------------------->| Tester|
        |       |      |       |         |       |
        |       |      |       |         |       |
        |       |      |       |         |       |
        ---------      ---------         ---------


]]>

</artwork>

<postamble> Figure 3. SIP Test Topology with NAT Device </postamble>

</figure>

<figure anchor= 'figure 4'>

<artwork>
<![CDATA[
                  SUT   
        ------------------------ 
        ---------      ---------         ---------
        |       |      |       |         |       |
        |       |      |       |         |       |
        |       |  SIP |Fire-  |   SIP   |       |
        | Server|<---------------------->| Tester|
        |       |      |Wall   |         |       |
        |       |      |       |  Media  |       |
        |       |   ---|       |---------|       |
        ---------   |  ---------         ---------
                    |             Media      ^ 
                    -------------------------|

]]>

</artwork>

<postamble> Figure 4. SIP Test Topology with Media through Firewall </postamble>

</figure>

<figure anchor= 'figure 5'>

<artwork>
<![CDATA[
                   SUT   
        ------------------------ 
        ---------      ---------         ---------
        |       |      |       |         |       |
        |       |      |       |         |       |
        |       |  SIP |  NAT  |   SIP   |       |
        | Server|<---------------------->| Tester|
        |       |      |       |         |       |
        |       |      |       |  Media  |       |
        |       |   ---|       |---------|       |
        ---------   |  ---------         ---------
                    |             Media      ^ 
                    -------------------------|


]]>

</artwork>

<postamble> Figure 5. SIP Test Topology with Media through NAT Device </postamble>

</figure>

</section> <!-- Test Topologies -->

<section title="Test Considerations" anchor="test-considerations">

<section title="Selection of SIP Transport Protocol" anchor="SIP Trans-Pro selection">

<list style="hanging">
  <t hangText="Discussion:"></t>
   <t>Test cases may be performed with any transport protocol supported
   by SIP.  This includes, but is not limited to, SIP TCP, SIP UDP, 
   and TLS.  The protocol used for the SIP transport protocol must 
   be reported with benchmarking results.</t>
  <t></t>
</list>
</section> 
  
 <section title="Server" anchor="Server">

<list style="hanging">
  <t hangText="Discussion:"></t>
   <t>The Server is a SIP-speaking device that complies with RFC 3261.
   The purpose of this document is to benchmark SIP performance, not
   conformance.  Conformance to RFC 3261 <xref target="RFC.3261"/> is 
   assumed for all tests.  The Server may be the DUT or a component 
   of a SUT that includes Firewall and/or NAT functionality. The 
   components of the SUT may be a single physical device or 
   separate devices.</t>
  <t></t>
</list>
</section> 
  
<section title="Associated Media" anchor="associated-media">

<list style="hanging">
  <t hangText="Discussion:"></t>
   <t>Some tests may require associated media to be present for each SIP 
   session.  The Server is not involved in the forwarding of media.
   Associated Media can be benchmarked only with a SUT in which
   the media traverses a Firewall, NAT, or Firewall NAT device.The test
   topologies to be used when benchmarking SUT performance
   for Associated Media are shown in Figures 4 and 5.   
</t>
  <t></t>
</list>
</section> 
  
<section title="Selection of Associated Media Protocol" 
 anchor="associated-media pro selection">

<list style="hanging">
  <t hangText="Discussion:"></t>
   <t>The test cases specified in this document provide SIP performance 
   independent of the protocol used for the media stream.  Any media 
   protocol supported by SIP may be used.  This includes, but is not
   limited to, RTP, RTSP, and SRTP.  The protocol used for 
   Associated Media must be reported with benchmarking results. </t>
  <t></t> 
</list>
</section> 
  
 <section title="Number of Associated Media Streams per SIP Session" 
 anchor="assoc-media stream number per SIP session">

<list style="hanging">
  <t hangText="Discussion:"></t>
   <t>Benchmarking results may vary with the number of media 
   streams per SIP session.  When benchmarking a SUT for voice, a
   single media stream is used.  When benchmarking a SUT for voice 
   and video, two media streams are used.  The number of Associated 
   Media Streams must be reported with benchmarking results. </t>
  <t></t> 
</list>
</section> 
  
<section title="Session Duration" anchor="session-duration">

<list style="hanging">
  <t hangText="Discussion:"></t>
   <t>SUT performance benchmarks may vary with the duration 
   of SIP sessions. Session Duration must be reported with 
   benchmarking results.  A Session Duration of zero seconds 
   indicates transmission of a BYE immediately following successful 
   SIP establishment indicate by receipt of a 200 OK.  An infinite 
   Session Duration indicates that a BYE is never transmitted.</t>
  <t></t> 
</list>
</section> 
  
<section title="Attempted Sessions per Second" anchor="sessions attempted per second">

<list style="hanging">
  <t hangText="Discussion:"></t>
   <t>DUT and SUT performance benchmarks may vary with the 
   the rate of attempted sessions offered by the Tester.  Attempted 
   Sessions per Second must be reported with benchmarking results.</t>
  <t></t> 
</list>
</section> 
  
<section title="Stress Testing" anchor="stress-testing">

<list style="hanging">
  <t hangText="Discussion:"></t>
   <t>The purpose of this document is to benchmark SIP performance, not
   system stability under stressful conditions such as a high rate
   of Attempted Sessions per Second.</t>
  <t></t>  
</list>
</section> 

</section> <!-- Test Considerations -->  

<section title="Reporting Format" anchor="reporting-format">

<section title="Test setup Report" anchor="test-setup report">

<t hang text="none" > SIP Transport Protocol =  _____________________________ </t>
<t hang text="none" > IS Duration = ____________________________________ </t>
<t hang text="none" > Maximum Sessions Attempted =  _________________________ </t>
<t hang text="none" > Media Streams per Session =  __________________________ </t>
<t hang text="none" > Media Protocol =  _____________________________________ </t>

</section> <!-- Test setup report-->

<section title="Device Benchmarks" anchor="device-benchmarks">

<t hang text="none" > Failed Session Attempts =  ___________________________ </t>
<t hang text="none" > Session Capacity = ___________________________________ </t>
<t hang text="none" > Maximum Session Establishment Rate =  ________________ </t>
<t hang text="none" > Maximum Retransmits =  _______________________________ </t>
<t hang text="none" > Mean Session Setup Delay =  __________________________ </t>
<t hang text="none" > Mean Session Disconnect Delay = ______________________ </t>

</section> <!-- Device Benchmarks -->

</section> <!-- Reporting Format -->

</section> <!-- Test Setup -->

<section title="Test Cases" anchor="test-cases">


   
<section title="Maximum Session Attempt Rate" anchor="max-sess-est-rate">

<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the maximum session attempt rate  
      of the DUT/SUT with zero failures.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	                 <t>Configure Tester for SIP UDP with an Attempted Session Rate = 
        		100 SPS, Session Duration = 0 sec, Maximum Sessions Attempted 
        		= 100,000 and media streams per session=0.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                DUT.</t>
		     <t>Measure Failed Session Attempts and Total Sessions 
                Established at the Tester.</t>
	         <t>If a Failed Session Attempt is recorded then reduce the
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>If no Failed Session Attempt is recorded then increase the 
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>Repeat steps 3 through 6 until the Maximum Session Establishment  
                Rate is obtained.</t>	
	     </list>
   </t>
<t hangText="Expected Results:"> </t>
 
</list>
</section> <!-- maximum session attempt rate -->

**
<section title="Maximum Session Attempt Rate with Media" anchor="session-attempt rate with media">

<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the maximum session establishment rate of the SUT with 
      zero failures when Associated Media is included in the benchmark test.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the SUT in the test topology shown in Figure 4 or 5.</t>
	         <t>Configure Tester for SIP UDP with an Attempted Session Rate = 
                100 SPS, Session Duration = 30 sec, Maximum Sessions Attempted 
                = 100,000 and media streams per session = 1.  The rate of 
                offered load for each media stream SHOULD be 
         
               (eq 1) Offered Load per Media Stream = 
               Throughput / Maximum Sessions Attempted, 
               where Throughput is defined in <xref target="RFC.2544"/>.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                SUT and transmit media through the SUT to a destination other
                than the server.</t>
		     <t>At the Tester measure Failed Session Attempts, Total Sessions 
                Established, and Packet Loss <xref target="RFC.2544"/> of the media.</t>
	         <t>If a Failed Session Attempt or Packet Loss is recorded then 
                reduce the Attempted Session Rate configured on the Tester by 
                50%.</t>
			 <t>If no Failed Session Attempt or Packet Loss is recorded then 
                increase the Attempted Session Rate configured on the Tester 
                by 50%.</t>
			 <t>Repeat steps 3 through 6 until the Session Setup Rate is 
                obtained.</t>
			 <t>Repeat steps 1 through 7 for multimedia in which media streams 
                per session = 2. </t>	
	     </list>
   </t>
 <t hangText="Expected Results:"></t>
   <t>Maximum Session Establishment Rate results obtained 
 with Associated Media with any number of media streams per SIP session 
 will be identical to the Session Setup Rate results obtained without media.</t>
</list> 
</section> <!-- maximum session attempt rate with media -->

** 
 
<section title="Maximum Session Attempt Rate with Loop Detection Enabled" 
anchor="ssr-loop detection enabled">

<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the maximum session attempt rate of the DUT/SUT with
      zero failures when the Loop Detection option is enabled.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP UDP with an Attempted Session Rate = 
        		100 SPS, Session Duration = 0 sec, Maximum Sessions Attempted 
        		= 100,000 and media streams per session=0.</t>
			 <t>Turn on the Loop Detection option in the DUT or SUT.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                DUT.</t>
		     <t>Measure Failed Session Attempts and Total Sessions 
                Established at the Tester.</t>
	         <t>If a Failed Session Attempt is recorded then reduce the
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>If no Failed Session Attempt is recorded then increase the 
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>Repeat steps 4 through 7 until the Maximum Session Establishment  
                Rate is obtained.</t>	
	     </list>
   </t>
<t hangText="Expected Results:"> </t>
 
</list>
</section> <!-- maximum session attempt rate with loop detection enabled -->

**

<section title="Maximum Session Attempt Rate with Forking" 
anchor="ssr-forking">

<list style="hanging">
  <t hangText="Objective:"></t>
  <t>To benchmark the maximum session attempt rate of the DUT/SUT with
      zero failures when the Forking option is enabled.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP UDP with an Attempted Session Rate = 
        		100 SPS, Session Duration = 0 sec, Maximum Sessions Attempted 
        		= 100,000 and media streams per session=0.</t>
			 <t>Turn on the Forking option in the DUT or SUT.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                DUT.</t>
		     <t>Measure Failed Session Attempts and Total Sessions 
                Established at the Tester.</t>
	         <t>If a Failed Session Attempt is recorded then reduce the
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>If no Failed Session Attempt is recorded then increase the 
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>Repeat steps 4 through 7 until the Maximum Session Establishment  
                Rate is obtained.</t>	
	     </list>
   </t>
<t hangText="Expected Results:"> </t>
</list>
</section> <!-- maximum session attempt rate with forking --> 

**

<section title="Maximum Session Attempt Rate with Forking and Loop Detection" 
anchor="ssr-forking and loop detection">

<list style="hanging">
  <t hangText="Objective:"></t>
  <t>To benchmark the maximum session attempt rate  
      of the DUT/SUT with zero failures when both forking and loop detection are enabled.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	                 <t>Configure Tester for SIP UDP with an Attempted Session Rate = 
        		100 SPS, Session Duration = 0 sec, Maximum Sessions Attempted 
        		= 100,000 and media streams per session=0.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                DUT.</t>
			 <t>Turn on both the forking and the loop detection options.</t>
		     <t>Measure Failed Session Attempts and Total Sessions 
                Established at the Tester.</t>
	         <t>If a Failed Session Attempt is recorded then reduce the
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>If no Failed Session Attempt is recorded then increase the 
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>Repeat steps 4 through 7 until the Maximum Session Establishment  
                Rate is obtained.</t>	
	     </list>
   </t>
<t hangText="Expected Results:"> </t>
 
</list>
</section> <!-- maximum session attempt rate with forking and loop detection-->

**

**
<section title="Maximum Session Attempt Rate with TLS Encrypted SIP" 
anchor="ssr-with TLS Encrypted SIP">

<list style="hanging">
  <t hangText="Objective:"></t>
  <t>To benchmark the maximum session attempt rate  
      of the DUT/SUT with zero failures.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP TCP, enable TLS, Attempted Session Rate =
          100 SPS, Session Duration = 0 sec, Maximum Sessions Attempted
          = 100,000 and media streams per session=0.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                DUT.</t>
		     <t>Measure Failed Session Attempts and Total Sessions 
                Established at the Tester.</t>
	         <t>If a Failed Session Attempt is recorded then reduce the
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>If no Failed Session Attempt is recorded then increase the 
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>Repeat steps 3 through 6 until the Maximum Session Establishment  
                Rate is obtained.</t>	
	     </list>
   </t>
<t hangText="Expected Results:"> </t>
</list>
</section> <!-- maximum session attempt rate with TLS Encrypted SIP -->
 
** 
<section title="Maximum Session Attempt Rate with IPsec Encrypted SIP" 
anchor="ssr-with IPsec Encrypted SIP">

<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the maximum session attempt rate  
      of the DUT/SUT with zero failures.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP TCP, enable IPSec, Attempted Session Rate =
          100 SPS, Session Duration = 0 sec, Maximum Sessions Attempted
          = 100,000 and media streams per session=0.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                DUT.</t>
		     <t>Measure Failed Session Attempts and Total Sessions 
                Established at the Tester.</t>
	         <t>If a Failed Session Attempt is recorded then reduce the
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>If no Failed Session Attempt is recorded then increase the 
                Attempted Session Rate configured on the Tester by 50%.</t>
			 <t>Repeat steps 3 through 6 until the Maximum Session Establishment  
                Rate is obtained.</t>	
	     </list>
   </t>
<t hangText="Expected Results:"> </t>
</list>
</section> <!-- Maximum Session Attempt Rate with IPsec Encrypted SIP -->

<section title="Maximum Session Attempt Rate with SIP Flooding" 
anchor="session-setup rate with SIP Flooding">

<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the maximum session attempt rate 
      of the SUT with zero failures when SIP Flooding is occurring.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or 
                the SUT as shown in Figure 2.</t>
	         <t>Configure Tester for SIP UDP with an Attempted Session Rate = 
                100 SPS, Session Duration = 0 sec, Maximum Sessions Attempted 
                = 100,000, Associated Media Streams per session = 0, and 
                SIP INVITE Message Flood = 500 per second. </t>
			 <t>Start Tester to initiate SIP Session establishment with the
                SUT and SIP Flood targetted at the Server.</t>
		     <t>At the Tester measure Failed Session Attempts, Total Sessions 
                Established, and Packet Loss <xref target="RFC.2544"/> of the media.</t>
	         <t>If a Failed Session Attempt or Packet Loss is recorded then 
                reduce the Attempted Session Rate configured on the Tester by 
                50%.</t>
			 <t>If no Failed Session Attempt or Packet Loss is recorded then 
                increase the Attempted Session Rate configured on the Tester 
                 by 50%.</t>
			 <t>Repeat steps 3 through 6 until the Session Setup Rate is 
               obtained.</t>
			 <t> Repeat steps 1 through 7 with SIP INVITE Message Flood = 
         1000 per second.</t>
			 </list>
   </t>
 <t hangText="Expected Results:">Session Setup Rate results obtained with SIP Flooding may
      be degraded.</t>
</list> 
</section> <!-- Maximum Session Attempt Rate with SIP Flooding -->


<section title="Maximum Registration Rate" anchor="registration-rate">
<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the maximum registration rate of the SUT with 
      zero failures.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP UDP with an Attempted Registration Rate = 
                100 SPS, Maximum Registrations Attempted 
                = 100,000. </t>
		     <t>At the Tester measure Failed Registration Attempts, Total Registrations and Packet Loss. 
                </t>
	         <t>If a Failed Registration Attempt or Packet Loss is recorded then 
                reduce the Attempted Registration Rate configured on the Tester by 
                50%.</t>
			 <t>If no Failed Registration or Packet Loss is recorded then 
                increase the Attempted Registration Rate configured on the Tester 
                by 50%.</t>
			 <t>Repeat steps 3 through 6 until the Session Setup Rate is 
                obtained.</t>	
	     </list>
   </t>
 <t hangText="Expected Results:"></t>
</list>
</section> <!-- Maximum Registration Rate -->


<section title="Maximum IM Rate" anchor="IM-rate">
<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the maximum IM rate of the SUT with 
      zero failures.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP UDP with an Attempted IM Rate = 
                100 SPS, Maximum IM Attempted 
                = 100,000. </t>
		     <t>At the Tester measure Failed IM Attempts, Total IM and Packet Loss. 
                </t>
	         <t>If a Failed IM Attempt or Packet Loss is recorded then 
                reduce the Attempted IM Rate configured on the Tester by 
                50%.</t>
			 <t>If no Failed IM or Packet Loss is recorded then 
                increase the Attempted IM Rate configured on the Tester 
                by 50%.</t>
			 <t>Repeat steps 3 through 6 until the Session Setup Rate is 
                obtained.</t>	
	     </list>
   </t>
 <t hangText="Expected Results:"></t>
</list>
</section> <!-- Maximum IM Rate -->
	  	       


<section title="Maximum Presence Rate" anchor="presence-rate">
<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the Maximum Presence Rate of the SUT with 
      zero failures.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
        		SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP UDP with an Attempted Presence Rate = 
                100 SPS, Maximum Registrations Attempted 
                = 100,000. </t>
		     <t>At the Tester measure Failed Presence Attempts, Total Presence Attempts and Packet Loss. 
                </t>
	         <t>If a Failed Presence Attempt or Packet Loss is recorded then 
                reduce the Attempted Presence Rate configured on the Tester by 
                50%.</t>
			 <t>If no Failed Presence Attempt or Packet Loss is recorded then 
                increase the Attempted Registration Rate configured on the Tester 
                by 50%.</t>
			 <t>Repeat steps 3 through 6 until the Session Setup Rate is 
                obtained.</t>	
	     </list>
   </t>
 <t hangText="Expected Results:"></t>
</list>
</section> <!-- Maximum Presence Rate -->

<section title="Maximum Session Establishment Rate" anchor="max-sess-est">

<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the Session Capacity of the SUT
      with Associated Media.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
                SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP UDP with an Attempted Session Rate = 
                Zero-Failure Session Setup Rate, Session Duration = 0 sec, 
                Maximum Sessions Attempted = 10,000 and media streams per 
                session = 0.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                DUT.</t>
		     <t>Measure Failed Session Attempts, Total Sessions Established,
                and Packet Loss <xref target="RFC.2544"/> at the Tester.</t>
	         <t>If a Failed Session Attempt or Packet Loss is recorded then 
                reduce the Maximum Sessions Attempted configured on the 
                Tester by 5,000.</t>
			 <t>If no Failed Session Attempt or Packet Loss is recorded then 
                increase the Maximum Sessions Attempted configured on the 
                Tester by 10,000.</t>
			 <t>Repeat steps 3 through 6 until the Session Capacity is 
                obtained.</t>
			 <t> Repeat steps 1 through 7 for multimedia in which media 
         streams per session = 2. </t>
			 </list>
   </t>
 
 <t hangText="Expected Results:"> </t>

</list> 
</section> <!-- Maximum Session establishment rate  -->

<section title="Maximum Session Establishment Rate with media" anchor="session-est-rate-w-media">

<list style="hanging">
  <t hangText="Objective:"></t>
   <t>To benchmark the Maximum Session Establishment Rate of the DUT/SUT with associated media.</t>
  
  <t hangText="Procedure:">
  		<list style= "numbers">
  			 <t>Configure the DUT in the test topology shown in Figure 1 or
                SUT as shown in Figures 2 or 3.</t>
	         <t>Configure Tester for SIP UDP with a Session Attempt Rate = 
                100 SPS, Session Duration = 30 sec, Maximum Sessions Attempted 
                = 100,000 and media streams per session = 1.  The rate of 
               offered load for each media stream SHOULD be 
         
               (eq 1) Offered Load per Media Stream = 
               Throughput / Maximum Sessions Attempted, 
               where Throughput is defined in <xref target="RFC.2544"/>.</t>
			 <t>Start Tester to initiate SIP Session establishment with the
                SUT and transmit media through the SUT to a destination other
                than the server.</t>
		     <t>Measure Failed Session Attempts and Total Sessions Established 
                at the Tester.</t>
	         <t>If a Failed Session Attempt is recorded then reduce the 
                Maximum Sessions Attempted configured on the Tester by 5,000.</t>
			 <t>If no Failed Session Attempt is recorded then increase the 
                Maximum Sessions Attempted configured on the Tester by 10,000.</t>
			 <t>Repeat steps 3 through 6 until the Session Capacity is 
                obtained.</t>
			 </list>
   </t> 
<t hangText="Expected Results:">Session establishment rate results obtained with Associated Media with
 any number of media streams per SIP session will be identical to the
 Session Capacity results obtained without media. </t>

</list> 
</section> <!-- max session est rate with media -->
 

**********************************************************************************************

</section> <!-- test cases -->

<section title="IANA Considerations" anchor="iana">

<t>This document requires no IANA considerations.</t>
      
</section>     

<section title="Security Considerations" anchor="security">

<t>Documents of this type do not directly affect the security of Internet 
   or corporate networks as long as benchmarking is not performed on 
   devices or systems connected to production networks.  Security threats
   and how to counter these in SIP and the media layer is discussed 
   in RFC3261, RFC3550, and RFC3711 and various other drafts.  This document
   attempts to formalize a set of common methodology for benchmarking 
   performance of SIP devices in a lab environment.
</t>
</section>      

<section title="Acknowledgments" anchor="acks">

<t>The authors would like to thank Keith Drage and Daryl Malas for their 
contributions to this document.</t>
</section>

</middle> 

<back>
    <references title="Normative References">
      <reference anchor="RFC2119">
       <front>
         <title>Key words for use in RFCs to Indicate Requirement Levels</title>
         <author initials="S." surname="Bradner">
         <organization/></author>
         <date month="March" year="1997"/>
       </front>
       <seriesInfo name="RFC" value="2119"/>
       <format type="TXT" target="http://www.ietf.org/rfc/rfc2119.txt"/>
      </reference>

      <!----- -->
	  
	  <reference anchor="RFC.1242">
      <front>
       <title>Benchmarking Terminology for Network Interconnection
       Devices</title>
       <author initials="S." surname="Bradner"><organization/></author>
       <date month="July" year="1991"/>
      </front>
       <seriesInfo name="RFC" value="1242"/>
       <format type="TXT" target="http://www.ietf.org/rfc/rfc1242.txt"/>
      </reference>

      <!----- -->
  
 <reference anchor="RFC.2544">
      <front>
       <title>Benchmarking Methodology for Network Interconnection
       Devices</title>
       <author initials="S." surname="Bradner"><organization/></author>
       <author initials="J." surname="McQuaid"><organization/></author>
       <date month="July" year="1999"/>
      </front>
       <seriesInfo name="RFC" value="2544"/>
       <format type="TXT" target="http://www.ietf.org/rfc/rfc2544.txt"/>
      </reference>

      <!----- -->
	  
<reference anchor="RFC.2285">
      <front>
       <title>Benchmarking Terminology for LAN Switching Devices</title>
       <author initials="R." surname="Mandeville"><organization/></author>
       <date month="February" year="1998"/>
      </front>
       <seriesInfo name="RFC" value="2285"/>
       <format type="TXT" target="http://www.ietf.org/rfc/rfc2285.txt"/>
      </reference>
     

      <!----- -->

<reference anchor="I-D.sip-bench-term">
      <front>
       <title>SIP Performance Benchmarking Terminology</title>
       <author initials="S." surname="Poretsky"><organization/></author>
       <author initials="V." surname="Gurbani"><organization/></author>
       <author initials="C." surname="Davids"><organization/></author>
       <date month="October" year="2006"/>
      </front>
      <seriesInfo name="Internet-Draft" 
                  value="draft-poretsky-sip-bench-term-02"/>
      <format type="TXT" 
              target="http://www1.tools.ietf.org/html/draft-poretsky-sip-bench-term-02.txt"/>
      </reference>
	  
<reference anchor="RFC.3261">
      <front>
        <title>SIP: Session Initiation Protocol</title>
        <author initials='J.' surname='Rosenberg' fullname='J. Rosenberg'>
        <organization/></author>
        <author initials='H.' surname='Schulzrinne' fullname='H. Schulzrinne'>
        <organization /></author>
        <author initials='G.' surname='Camarillo' fullname='G. Camarillo'>
        <organization /></author>
        <author initials='A.' surname='Johnston' fullname='A. Johnston'>
        <organization /></author>
        <author initials='J.' surname='Peterson' fullname='J. Peterson'>
        <organization /></author>
        <author initials='R.' surname='Sparks' fullname='R. Sparks'>
        <organization /></author>
        <author initials='M.' surname='Handley' fullname='M. Handley'>
        <organization /></author>
        <author initials='E.' surname='Schooler' fullname='E. Schooler'>
        <organization /></author>
        <date month='June' year='2002'/>
      </front>
      <seriesInfo name='RFC' value='3261' />
      <format type='TXT' octets='647976'
                target='ftp://ftp.isi.edu/in-notes/rfc3261.txt' />
      </reference>

      <!--- -->
      <reference anchor="RFC.3856">
      <front>
       <title>A Presence Event Package for the Session Initiation Protocol (SIP)
       </title>
       <author initials="J." surname="Rosenberg"><organization/></author>
       <date month="August" year="2004"/>
      </front>
       <seriesInfo name="RFC" value="3856"/>
       <format type="TXT" target="http://www.ietf.org/rfc/rfc3856.txt"/>
      </reference>

      <!--- -->
      <reference anchor="RFC.4083">
      <front>
       <title>Input 3rd-Generation Partnership Project (3GPP) Release 5
       Requirements on the Session Initiation Protocol (SIP)</title>
       <author initials="M." surname="Garcia-Martin"><organization/></author>
       <date month="May" year="2005"/>
      </front>
       <seriesInfo name="RFC" value="4083"/>
       <format type="TXT" target="http://www.ietf.org/rfc/rfc4083.txt"/>
      </reference>

      <!--- -->
      <reference anchor="RFC.4475">
      <front>
       <title>Session Initiation Protocol (SIP) Torture Test Messages</title>
       <author initials="R." surname="Sparks"><organization/></author>
       <author initials="A." surname="Hawrylyshen"><organization/></author>
       <author initials="A." surname="Johnston"><organization/></author>
       <author initials="J." surname="Rosenberg"><organization/></author>
       <author initials="H." surname="Schulzrinne"><organization/></author>
       <date month="August" year="2006"/>
      </front>
       <seriesInfo name="RFC" value="4475"/>
       <format type="TXT" target="http://www.ietf.org/rfc/rfc4475.txt"/>
      </reference>

      <!--- -->
      <reference anchor="I-D.malas">
      <front>
       <title>SIP Performance Metrics</title>
       <author initials="D." surname="Malas"><organization/></author>
       <date month="August" year="2006"/>
      </front>
      <seriesInfo name="Internet-Draft" 
                  value="draft-malas-performance-metrics-01"/>
      <format type="TXT" 
              target="http://www.ietf.org/internet-drafts/draft-malas-performance-metrics-01.txt"/>
      </reference>

      <reference anchor="I-D.sip-mib">
      <front>
       <title>Management Information Base for the Session Initiation Protocol
       (SIP)</title>
       <author initials="K." surname="Lingle"><organization/></author>
       <author initials="J." surname="Mule"><organization/></author>
       <author initials="J." surname="Maeng"><organization/></author>
       <author initials="D." surname="Walker"><organization/></author>
       <date month="May" year="2006"/>
      </front>
      <seriesInfo name="Internet-Draft" 
                  value="draft-ietf-sip-mib-11"/>
      <format type="TXT" 
              target="http://www.ietf.org/internet-drafts/draft-ietf-sip-mib-11.txt"/>
      </reference>

    </references>

    <references title="Informational References">

    </references>

  </back>

</rfc>
