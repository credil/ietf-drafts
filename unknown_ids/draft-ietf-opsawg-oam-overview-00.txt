Operations and Management Area Working Group                 T. Mizrahi
Internet Draft                                                 Marvell
Intended status: Informational                        January 17, 2010
Expires: July 2010


                              An Overview of
        Operations, Administration, and Maintenance (OAM) Mechanisms
                   draft-ietf-opsawg-oam-overview-00.txt


Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on July 17, 2010.

Copyright Notice

   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.







Mizrahi                 Expires July 17, 2010                 [Page 1]

Internet-Draft       Overview of OAM Mechanisms           January 2010


Abstract

   Operations, Administration, and Maintenance (OAM) is a general term
   that refers to detecting and reporting link failures. OAM mechanisms
   have been defined for various layers in the protocol stack, and are
   used with a variety of protocols.

   This document presents an overview of the OAM mechanisms that have
   been defined and are currently being defined by the IETF, as well as
   a comparison to other OAM mechanisms that have been defined by the
   IEEE and ITU-T.

Table of Contents


   1. Introduction................................................3
   2. Conventions used in this document............................5
   3. Basic Terminology...........................................5
      3.1. Abbreviations..........................................5
      3.2. Terminology used in OAM Standards.......................6
         3.2.1. General Terms......................................6
         3.2.2. OAM Maintenance Entities...........................7
         3.2.3. OAM Maintenance Points.............................7
         3.2.4. OAM Link Failures..................................7
         3.2.5. Summary of OAM Terms used in the Standards..........7
   4. OAM Functions...............................................9
      4.1. ICMP Ping..............................................9
      4.2. Bidirectional Forwarding Detection (BFD)................9
         4.2.1. Overview..........................................9
         4.2.2. BFD Control........................................9
         4.2.3. BFD Echo.........................................10
      4.3. LSP Ping..............................................10
      4.4. PWE3 Virtual Circuit Connectivity Verification (VCCV)...10
      4.5. ITU-T Y.1711..........................................10
         4.5.1. Overview.........................................10
         4.5.2. Connectivity Verification (CV)....................11
         4.5.3. Fast Failure Detection (FFD)......................11
         4.5.4. Forward Defect Indication (FDI)...................11
         4.5.5. Backward Defect Indication (BDI)..................12
      4.6. ITU-T Y.1731..........................................12
         4.6.1. Overview.........................................12
         4.6.2. ETH-CC...........................................12
         4.6.3. ETH-LB...........................................13
         4.6.4. ETH-TST..........................................13
         4.6.5. ETH-LT...........................................13
         4.6.6. ETH-AIS..........................................13
         4.6.7. ETH-LCK..........................................14


Mizrahi                 Expires July 17, 2010                 [Page 2]

Internet-Draft       Overview of OAM Mechanisms           January 2010


         4.6.8. ETH-RDI..........................................14
         4.6.9. ETH-APS..........................................14
         4.6.10. ETH-LM..........................................14
         4.6.11. ETH-DM..........................................15
      4.7. IEEE 802.1ag..........................................15
         4.7.1. Overview.........................................15
         4.7.2. Continuity Check..................................16
         4.7.3. Loopback.........................................16
         4.7.4. Linktrace........................................16
      4.8. IEEE 802.3ah..........................................16
         4.8.1. Overview.........................................16
         4.8.2. Remote Failure Indication.........................16
         4.8.3. Remote Loopback...................................16
         4.8.4. Link Monitoring...................................16
      4.9. MPLS-TP OAM...........................................16
         4.9.1. Overview.........................................16
         4.9.2. Continuity Checks.................................17
         4.9.3. Connectivity Verification.........................17
         4.9.4. Diagnostic Tests..................................17
         4.9.5. Route Tracing.....................................17
         4.9.6. Lock Instruct.....................................17
         4.9.7. Lock Reporting....................................17
         4.9.8. Alarm Reporting...................................17
         4.9.9. Remote Defect Indication..........................18
         4.9.10. Client Failure Indication........................18
         4.9.11. Packet Loss Measurement..........................18
         4.9.12. Packet Delay Measurement.........................18
      4.10. Summary of OAM Functions..............................18
      4.11. Summary of Unidirectional Connectivity Check Mechanisms19
   5. Security Considerations.....................................20
   6. IANA Considerations........................................20
   7. Acknowledgments............................................20
   8. References.................................................21
      8.1. Normative References...................................21
      8.2. Informative References.................................21

1. Introduction

   OAM is a general term that refers to detecting and reporting link
   failures and defects. The term OAM has been used over the years in
   several different contexts, as discussed in [OAM Soup]. In the
   context of this document OAM refers to Operations, Administration,
   and Maintenance. OAM was originally used in the world of telephony,
   and has been adopted in packet based networks. OAM mechanisms are
   used in various layers in the protocol stack, and are applied to a
   variety of different protocols.



Mizrahi                 Expires July 17, 2010                 [Page 3]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   The IETF has defined OAM for several protocols, and is currently
   working on defining several new OAM protocols. These protocols are
   listed below.

   o MPLS LSP Ping, as defined in [LSP Ping] is an OAM mechanism for
      point to point MPLS LSPs. The IETF is currently working on an
      extension to the LSP Ping for point to multipoint MPLS - [P2MP
      Ping].

   o Virtual Circuit Connectivity Check (VCCV) for Pseudowires, as
      defined in [VCCV].

   o ICMP Echo request, also known as Ping, as defined in [ICMPv4], and
      [ICMPv6]. ICMP Ping is a very simple and basic mechanism in
      failure diagnosis, and is not typically associated with OAM, but
      it is presented in this document for the sake of completeness,
      since both LSP Ping and VCCV are to some extent based on ICMP
      Ping.

   o Bidirectional Forwarding Detection (BFD) is a family of standards
      that are currently being defined by the IETF. BFD is intended to
      be a generic OAM mechanism that can be used with various
      encapsulation types, and in various medium types.

   o OAM for MPLS-TP is currently being defined in the MPLS workgroup.

   In addition to the OAM mechanisms defined by the IETF, the IEEE and
   ITU-T have also defined various OAM mechanisms. These various
   mechanisms defined by the three standard organizations are often
   tightly coupled, and have had a mutual effect on each other. For
   example, the emerging MPLS-TP OAM is in many ways based on [ITU-T
   Y.1731]. The ITU-T and IETF have both defined OAM mechanisms for MPLS
   LSPs, [ITU-T Y.1711] and [LSP Ping]. The following OAM standards by
   the IEEE and ITU-T are to some extent linked to IETF OAM mechanisms
   listed above, and are also discussed in this document:

   o OAM mechanisms for Ethernet based networks have been defined by
      both the ITU-T in [ITU-T Y.1731], and by the IEEE in [IEEE
      802.1ag]. The IEEE 802.3 standard defines OAM for one-hop Ethernet
      links [IEEE 802.3ah].

   o The ITU-T has defined OAM for MPLS LSPs in [ITU-T Y.1711].

   This document summarizes the OAM mechanisms defined in the standards
   above. The focus is on OAM mechanisms defined by the IETF, compared
   with the relevant OAM mechanisms defined by the ITU-T and IEEE. We
   first present a comparison of the terminology used in various OAM


Mizrahi                 Expires July 17, 2010                 [Page 4]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   standards, and then summarize the OAM functions that each OAM
   standard provides.

2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [KEYWORDS].

3. Basic Terminology

3.1. Abbreviations

   AIS    Alarm Indication Signal

   APS    Automatic Protection Switching

   BDI    Backward Defect Indication

   BFD    Bidirectional Forwarding Detection

   CC     Continuity Check

   CCM    Continuity Check Message

   CV     Connectivity Verification

   DM     Delay Measurement

   DTE    Data Terminal Equipment

   FDI    Forward Defect Indication

   FFD    Fast Failure Detection

   ICMP   Internet Control Message Protocol

   L2TP   Layer Two Tunneling Protocol

   LCCE   L2TP Control Connection Endpoint

   LM     Loss Measurement

   LSP    Label Switching Path

   LSR    Label Switching Router



Mizrahi                 Expires July 17, 2010                 [Page 5]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   MA     Maintenance Association

   ME     Maintenance Entity

   MEG    Maintenance Entity Group

   MEP    Maintenance End Point

   MIP    Maintenance Intermediate Point

   MP     Maintenance Point

   MPLS   Multiprotocol Label Switching

   MPLS-TP MPLS Transport Profile

   OAM    Operations, Administration, and Maintenance

   PE     Provider Edge

   PW     Pseudowire

   PWE3   Pseudowire Emulation Edge-to-Edge

   RDI    Remote Defect Indication

   TTSI   Trail Termination Source Identifier

   VCCV   Virtual Circuit Connectivity Verification

3.2. Terminology used in OAM Standards

3.2.1. General Terms

   A wide variety of terms is used in various OAM standards. Each of the
   OAM standards listed in the reference section includes a section that
   defines the relevant terms. A thesaurus of terminology for MPLS-TP
   terms is presented in [MPLS-TP Term], and provides a good summary of
   some of the OAM related terminology.

   This section presents a comparison of the terms used in various OAM
   standards, without fully quoting the definition of each term. For a
   formal definition of each term, refer to the references at the end of
   this document. The comparison focuses on three basic terms, and is
   summarized in section 3                             ..2.5.




Mizrahi                 Expires July 17, 2010                 [Page 6]

Internet-Draft       Overview of OAM Mechanisms           January 2010


3.2.2. OAM Maintenance Entities

   A Maintenance Entity (ME) can be either a point-to-point or a point-
   to-multipoint relationship between two or more Maintenance Points.
   The connectivity between these Maintenance Points is mangaged and
   monitored by the OAM protocol.

   The term Maintenance Entity (ME) is defined in ITU-T standards (e.g.
   [ITU-T Y.1731]). Various terms are used to refer to an ME. For
   example, in MPLS terminology, an ME is simply referred to as an LSP.
   BFD does not explicitly use a term that is equivalent to ME, but
   rather uses the term "session", referring to the relationship between
   two nodes using a BFD protocol.

3.2.3. OAM Maintenance Points

   A Maintenance Point (MP) is a node that uses an OAM protocol. A
   Maintenance End Point (MEP) is one of the end points of an ME. A
   Maintenance Intermediate Point (MIP) is a point between two MEPs,
   that is able to respond to OAM frames, but does not initiate them.

   The terms MEP and MIP are defined in ITU-T standards (e.g. [ITU-T
   Y.1731]). The term Maintenance Point is a general term for MEPs and
   MIPs, and is used in [IEEE 802.1ag].

3.2.4. OAM Link Failures

   The terms Failure, Fault, and Defect are intermittently used in the
   standards. In some standards, such as [IEEE 802.1ag], there is no
   distinction between these terms, while in other standards each of
   these terms refers to a different type of malfunction.

   The ITU-T distinguishes between these terms in [ITU-T G.806]. The
   term Fault refers to an inability to perform a required action, e.g.,
   an unsuccessful attempt to deliver a packet. The term Defect refers
   to an interruption in the normal operation, such as a consecutive
   period of time where no packets are delivered successfully. The term
   Failure refers to the termination of the required function. While a
   Defect typically refers to a limited period of time, a failure refers
   to a long period of time.

3.2.5. Summary of OAM Terms used in the Standards

   Table 1 provides a comparison of the terminology used in different
   OAM standards.




Mizrahi                 Expires July 17, 2010                 [Page 7]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   +-----------+-------------+-----------+----------------------------+
   |           |Maintenance  |Maintenance|Link Failure Terminology    |
   |           |Point        |Entity     |                            |
   |           |Terminology  |Terminology|                            |
   +-----------+-------------+-----------+----------------------------+
   |ICMPv4 Ping|-Host        |           |                            |
   |           |-Gateway     |           |                            |
   + --------- + ----------- + --------- + -------------------------- +
   |ICMPv6 Ping| Node        |           |                            |
   + --------- + ----------- + --------- + -------------------------- +
   |BFD        | System      | Session   |-Failure                    |
   |           |             |           |-Session is declared down   |
   + --------- + ----------- + --------- + -------------------------- +
   |LSP Ping   | LSR         | LSP       |-Failure                    |
   |           |             |           |-Fault = typically a local  |
   |           |             |           | isolated failure           |
   + --------- + ----------- + --------- + -------------------------- +
   |PW VCCV    |-PE          | PW        |-Failure                    |
   |           |-LCCE        |           |-Fault                      |
   + --------- + ----------- + --------- + -------------------------- +
   |ITU-T      | LSR         | LSP       |-Fault, Defect, Failure: as |
   |Y.1711     |             |           | defined in [ITU-T G.806]   |
   + --------- + ----------- + --------- + -------------------------- +
   |ITU-T      |-MEP         | ME        |-Fault, Defect, Failure: as |
   |Y.1731     |-MIP         |           | defined in [ITU-T G.806]   |
   |           |             |           |                            |
   + --------- + ----------- + --------- + -------------------------- +
   |MPLS-TP    |-End Point   |-LSP       |-Fault, Defect, Failure: as |
   |OAM        |-Intermediate|-PW        | defined in [ITU-T G.806]   |
   |           |Point        |-Section   |                            |
   + --------- + ----------- + --------- + -------------------------- +
   |IEEE       |-MEP         | ME        |-Failure                    |
   |802.1ag    |-MIP         |           |-Fault                      |
   |           |-MP          |           |-Defect                     |
   + --------- + ----------- + --------- + -------------------------- +
   |IEEE       | DTE         | Link      |-Failure                    |
   |802.3ah    |             |           |-Fault                      |
   +-----------+-------------+-----------+----------------------------+
                       Table 1 Summary of OAM Terms





Mizrahi                 Expires July 17, 2010                 [Page 8]

Internet-Draft       Overview of OAM Mechanisms           January 2010


4. OAM Functions

4.1. ICMP Ping

   ICMP provides a bidirectional connectivity check for the Internet
   Protocol. The originator transmits an echo request packet, and the
   receiver replies with an echo reply. ICMP ping is defined in two
   variants, [ICMPv4] is used for IPv4, and [ICMPv6] is used for IPv6.

4.2. Bidirectional Forwarding Detection (BFD)

4.2.1. Overview

   While multiple OAM mechanisms have been defined for various protocols
   in the protocol stack, Bidirectional Forwarding Detection (BFD),
   currently being defined by the IETF [BFD], defines a generic OAM
   mechanism that can be run over various encapsulating protocols, and
   in various medium types. The IETF is working on defining variants of
   the protocol for IP, for MPLS LSPs, and for PWE3.

   BFD includes two main OAM functions, using two types of BFD packets:
   BFD Control packets, and BFD Echo packets.

4.2.2. BFD Control

   BFD supports a unidirectional connectivity check, using BFD control
   packets. BFD control packets are be sent in one of two modes:

   o Asynchronous mode: in this mode BFD control packets are sent
      periodically. When the receiver detects that no BFD control packet
      have been received during a predetermined period of time, a
      failure is detected.

   o Demand mode: in this mode, BFD control packets are sent on-demand.
      Upon need, a system initiates a series of BFD control packets to
      verify the link. BFD control packets are sent independently in
      each direction of the link.

   The transmission interval of BFD packets that are sent periodically,
   is a result of negotiation between the two systems. Each BFD Control
   packet includes the desired transmission interval, and the desired
   reception interval, allowing the two systems to agree on common
   intervals.

   If no BFD Control packets are received during a fixed period of time
   called the Detection Time, the session is declared to be down. The
   detection time is a function of the negotiated transmission time, and


Mizrahi                 Expires July 17, 2010                 [Page 9]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   a parameter called Detect Mult. Detect Mult determines the number of
   missing BFD Control packets that cause the session to be declared as
   down. This parameter is included in the BFD Control packet.

   The BFD Control packet also includes two fields that specify the
   transmitting and receiving systems, called My Discriminator and Your
   Discriminator, respectively.

4.2.3. BFD Echo

   The echo function is a bidirectional connectivity check. A BFD echo
   packet is sent to a peer system, and is looped back to the
   originator. The echo function can be used proactively, or on-demand.

4.3. LSP Ping

   The IETF defined an OAM mechanisms for MPLS LSPs in [LSP Ping]. LSP
   ping is used to detect data plain failures in MPLS LSPs. The
   transmitting LSR sends an echo request to a remote LSR, and in turn
   receives an echo reply. LSP ping is used in one of two modes:

   o "Ping" mode: In this mode LSP ping is used for end-to-end
      connectivity verification between two LSRs.

   o "Traceroute" mode: This mode is used for hop-by-hop fault
      localization.

4.4. PWE3 Virtual Circuit Connectivity Verification (VCCV)

   VCCV, as defined in [VCCV], maintains the connectivity status of a
   pseudowire. VCCV is supported for both MPLS PWs and L2TPv3 PWs.

   VCCV supports two possible Connectivity Verification (CV) types,
   i.e., two modes of operation:

   o ICMP Ping: In this mode the CV is performed using an ICMP ping
      packet format, as defined in [ICMPv4] or [ICMPv6].

   o LSP Ping: In this mode the LSP Ping packet format, as defined in
      [LSP Ping] is used for CV.

4.5. ITU-T Y.1711

4.5.1. Overview

   As mentioned above (4.3.), the IETF defined LSP Ping as an OAM
   mechanism for MPLS. The ITU-T has also defined an OAM protocol for


Mizrahi                 Expires July 17, 2010                [Page 10]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   MPLS, defined in [ITU-T Y.1711]. The standard defines mechanisms for
   connectivity verification and fast failure detection, as well as
   mechanism for reporting defects that have been identified in an LSP.

4.5.2. Connectivity Verification (CV)

   The CV function is used to detect connectivity defects in an LSP. CV
   frames are sent proactively at a rate of 1 per second. Each frame
   contains the Trail-Termination Source Identifier (TTSI), indicating
   the identity of the transmitting LSR.

   The CV function can detect any of the following defect conditions.

   o Loss of Connectivity Verification (LOCV): A loss of connectivity
      is detected when no CV OAM packets are received in a period of 3
      consecutive transmission periods.

   o TTSI Mismatch: A TTSI mismatch is detected when a CV frame with an
      unexpected TTSI is received.

   o TTSI Mismerge: A TTSI mismerge is detected when the CV frames
      received in a given LSP contain some frame with an expected TTSI,
      and some frames with an unexpected TTSI.

   o Excess: An excess is detected when at least 5 CV frames are
      received during a period of 3 consecutive transmission periods.

4.5.3. Fast Failure Detection (FFD)

   The FFD function is a proactive function, used for fast detection of
   connectivity defects. While CV is typically sufficient for path
   failure detection and reporting, protection switching mechanisms
   typically require faster detection. FFD is very similar to CV in
   terms of the packet format, and the possible defect conditions, but
   FFD allows a configurable transmission frequency. The default
   transmission rate of FFD frames is 20 per second, i.e., every 50 ms,
   allowing fast detection for protection switching applications.

4.5.4. Forward Defect Indication (FDI)

   The FDI function is used by an LSR to report a defect to affected
   client layers, allowing them to suppress alarms about this defect. An
   FDI packets are sent at a rate of 1 per second.






Mizrahi                 Expires July 17, 2010                [Page 11]

Internet-Draft       Overview of OAM Mechanisms           January 2010


4.5.5. Backward Defect Indication (BDI)

   The BDI function is used to inform the LSR at an LSP trail
   termination source point about a defect condition in the forward
   direction of an LSP. The LSR at the LSP trail termination sink point
   transmits the BDI to the upstream LSR through the return path. BDI
   packets are sent at the same transmission rate as FDI.

4.6. ITU-T Y.1731

4.6.1. Overview

   The [ITU-T Y.1731] is a protocol for Ethernet OAM. It is presented in
   this document as a reference point, since the OAM mechanisms that are
   currently being defined by the IETF for MPLS-TP are in many ways
   based on this standard. The standard defines various OAM functions,
   including unidirectional and bidirectional continuity check, and
   functions for performance monitoring.

4.6.2. ETH-CC

   The Ethernet Continuity Check function is a proactive function that
   allows a MEP to detect loss of continuity with any of the other MEPs
   in the MEG. This function also allows detection of other defect
   conditions, such as unintended connectivity between two MEGs. The
   ETH-CC function is used for one of three possible applications: fault
   management, performance monitoring (see 4.6.10.), and protection
   switching.

   Continuity Check Messages (CCM) are transmitted periodically at a
   constant rate. There are 7 possible transmission periods, from 3.33
   ms to 10 min. When the ETH-CC function detects a defect, it reports
   one of the following defect conditions:

   o Loss of continuity (LOC): Occurs when at least when no CCM
      messages have been received from a peer MEP during a period of 3.5
      times the configured transmission period.

   o Unexpected MEG level: The MEG level is a 3-bit number that defines
      the level of hierarchy of the MEG. This defect condition occurs
      when a CCM is received from a peer MEP with a MEG level that is
      lower than the expected MEG level.

   o Mismerge: Occurs when a CCM is received from a peer MEP with an
      unexpected MEG ID.




Mizrahi                 Expires July 17, 2010                [Page 12]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   o Unexpected MEP: Occurs when a CCM is received from a peer MEP with
      an unexpected transmitting MEP ID.

   o Unexpected period: Occurs when the transmission period field in
      the CCM does not match the expected transmission period value.

4.6.3. ETH-LB

   The Ethernet loopback function verifies connectivity with a peer MEP
   or MIP. The loopback function is performed on-demand, by sending a
   loopback message (LBM) to the peer MEP or MIP. The peer node then
   responds with a loopback reply (LBR).

   More precisely, it is used for one of two purposes:

   o Bidirectional connectivity test.

   o Bidirectional in-service / out-of-service test. The in-service
      mode refers to a test that is run under traffic, while the out-of-
      service test requires other traffic to be halted.

4.6.4. ETH-TST

   The test function is very similar to the loopback function, but is
   unidirectional, i.e., the ETH-TST PDUs are terminated by the receiver
   rather than being looped back to the sender.

4.6.5. ETH-LT

   The Ethernet linktrace is an on-demand function that is used for path
   discovery to a given target, or for locating a failure in a broken
   path.

4.6.6. ETH-AIS

   The Alarm Indication Signal indicates that a MEG should suppress
   alarms about a defect condition at a lower MEG level, i.e., since a
   defect has occurred in a lower hierarchy in the network, it should
   not be reported by the current node.

   A MEP that detects a failure periodically sends AIS messages to
   higher hierarchies. AIS messages are sent periodically at a
   recommended rate of 1 packet per second, until the defect condition
   is resolved.





Mizrahi                 Expires July 17, 2010                [Page 13]

Internet-Draft       Overview of OAM Mechanisms           January 2010


4.6.7. ETH-LCK

   The lock function is used for administrative locking. A MEP can
   initiate administrative locking, resulting in interruption of data,
   e.g., for out-of-service ETH-LB or ETH-TST.

   A MEP that initiates an administrative locking notifies its peer MEPs
   to halt all relevant traffic until administrative/diagnostic
   condition is removed. ETH-LCK frames are used to report to higher MEG
   levels about the lock. The LCK frame, much like an AIS frame,
   indicates to the receiving MEP that it should suppress alarms about
   the locked link.

4.6.8. ETH-RDI

   The Remote Defect Indication allows the sender to indicate that it
   encountered a defect conditions. The receiving MEPs are then aware
   that there is a defect condition in the MEG.

4.6.9. ETH-APS

   The Y.1731 standard defines the frame format for Automatic Protection
   Switching frames. The protection switching operations are defined in
   other ITU-T standards.

4.6.10. ETH-LM

   The loss measurement function allows a MEP to measure the packet loss
   rate from/to a given MEP in the MEG. Each MEP maintains counters of
   transmitted and received in-profile packets to/from each of its peer
   MEPs. These counters are incorporated in the ETH-LM frames, allowing
   the MEPs to compute the packet loss rate.

   The ETH-LM function measures the far-end loss, referring to traffic
   FROM the MEP to its peer, as well as the near-end loss, referring to
   traffic from the peer MEP TO the local MEP.

   ETH-LM is performed in one of two possible modes:

   o Single-ended LM: in this mode loss measurement is performed on-
      demand. The initiator sends an LM message (LMM) to its peer MEP,
      and the peer responds with an LM reply (LMR).

   o Dual-ended LM: in this mode loss measurement is performed
      proactively. The continuity check message (CCM) is used for
      proactive LM. The LM counters are piggy-backed into the CCM, and
      allow proactive loss measurement.


Mizrahi                 Expires July 17, 2010                [Page 14]

Internet-Draft       Overview of OAM Mechanisms           January 2010


4.6.11. ETH-DM

   The delay measurement function is an on-demand function that allows a
   MEP to measure the frame delay and frame delay variation to a peer
   MEP.

   ETH-DM can be performed in one of two modes of operation:

   o One-way DM: in this mode, a MEP transmits a 1DM frame containing
      the time of its transmission, TxTimeStampf. The receiving MEP
      receives the 1DM frame and records the time of reception, RxTimef.
      The receiving MEP can then compute the one-way delay by: RxTimef -
      TxTimeStampf.

   o Two-way DM: in this mode, a MEP transmits a delay measurement
      message (DMM) containing its transmission time, TxTimeStampf. The
      peer MEP receives the DMM and responds with a delay measurement
      reply (DMR). Upon receiving the DMR, the initiating MEP records
      the time of its reception, RxTimef, and computes the round trip
      delay by: RxTimef - TxTimeStampf.

   Each MEP maintains a time-of-day clock that is used for timestamping
   delay measurement frames. It should be noted that in one-way DM it is
   implicitly assumed that the clocks of the two peer MEPs are
   synchronized by a time synchronization protocol.

4.7. IEEE 802.1ag

4.7.1. Overview

   While the [ITU-T Y.1731] was defined in the ITU-T, the IEEE defined
   the [IEEE 802.1ag] as a standard for connectivity fault management in
   Ethernet based networks. While the two standards are to some extent
   overlapping, they can also be viewed as two complementary parts of a
   single Ethernet OAM picture. The two standards use a common packet
   format. There are a few differences between the two standards in
   terms of terminology: the term MEG level, used in Y.1731, as referred
   to as Maintenance Domain level in 802.1ag; the Y.1731 standard uses
   the term MEG, while the 802.1ag equivalent is Maintenance Association
   (MA).

   While Y.1731 defines multiple OAM functions (see section 4.6), the
   802.1ag standard focuses on three main OAM functions: continuity
   check, loopback, and linktrace, and defines them with great detail.





Mizrahi                 Expires July 17, 2010                [Page 15]

Internet-Draft       Overview of OAM Mechanisms           January 2010


4.7.2. Continuity Check

   See 4.6.2.

4.7.3. Loopback

   See 4.6.3.

4.7.4. Linktrace

   See 4.6.5.

4.8. IEEE 802.3ah

4.8.1. Overview

   The [IEEE 802.3ah] defines an Ethernet link-layer OAM, for single-hop
   Ethernet links. The OAM functions in this standard are described
   below.

4.8.2. Remote Failure Indication

   This function allows a node to notify a peer about a defect in the
   receive path. Some physical interfaces allow unidirectional traffic,
   where even if one direction of the link fails, the reverse direction
   can still be used to convey the remote failure indication.

4.8.3. Remote Loopback

   The remote loopback function provides a diagnostic mode that is used
   to verify the link connectivity, and to measure the packet loss rate.
   When a bridge interface is configured to loopback mode, all incoming
   traffic through the interface is looped and sent back to the
   originator.

4.8.4. Link Monitoring

   Link monitoring provides an event notification function, allowing
   peer devices to communicate defect conditions and diagnostic
   information.

4.9. MPLS-TP OAM

4.9.1. Overview

   The MPLS-TP is currently working on defining the OAM requirements and
   mechanisms for MPLS-TP. The requirements of MPLS-TP OAM are defined


Mizrahi                 Expires July 17, 2010                [Page 16]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   in [MPLS-TP OAM], and are described below. It is noted that these
   requirements are in many ways similar to the requirement of Ethernet
   OAM, as defined in [ITU-T Y.1731].

4.9.2. Continuity Checks

   The continuity check is a proactive function that allows an End Point
   to determine whether or not it receives traffic from its peer End
   Points.

4.9.3. Connectivity Verification

   The connectivity verification is a function that allows an End Point
   to verify its connectivity to a peer node. The connectivity check is
   performed by sending a connectivity verification PDU to the peer
   node, and receiving a reply within an expected time frame. This
   function can be performed proactively or on-demand.

4.9.4. Diagnostic Tests

   This function allows an End Point to perform an on-demand test, e.g.,
   for bandwidth measurement.

4.9.5. Route Tracing

   This on-demand function is used for path discovery and for locating
   link failures.

4.9.6. Lock Instruct

   The lock instruct function allows an End Point to instruct its peers
   to enter an administrative status where all traffic is halted except
   the test traffic and OAM PDUs.

4.9.7. Lock Reporting

   This function allows an Intermediate Point to report to an End Point
   about a lock condition.

4.9.8. Alarm Reporting

   This function allows an Intermediate Point to report to an End Point
   about a defect condition.






Mizrahi                 Expires July 17, 2010                [Page 17]

Internet-Draft       Overview of OAM Mechanisms           January 2010


4.9.9. Remote Defect Indication

   This is a proactive function that allows the sender to indicate that
   it encountered a defect conditions.

4.9.10. Client Failure Indication

   This function allows the MPLS-TP network to relay information about a
   fault condition in a client network, allowing the failure indication
   to propagate from end to end over the MPLS-TP network.

4.9.11. Packet Loss Measurement

   This function measures the packet loss ratio between two peer End
   Points. It can be performed proactively or on-demand.

4.9.12. Packet Delay Measurement

   This function measures the frame delay between two peer End Points.
   Two modes of operation are supported, one-way DM, and two-way DM.

4.10. Summary of OAM Functions

   Table 2 summarizes the OAM functions that are supported in each of
   the standards that were analyzed in this section.

   +-----------+-------+--------+--------+-----------+-------+--------+
   | Standard  |Unidire|Bidirect|Path    |Defect     |Perform|Other   |
   |           |ctional|ional   |Discover|Indications|ance   |Function|
   |           |Connect|Connecti|y       |           |Monitor|s       |
   |           |ivity  |vity    |        |           |ing    |        |
   |           |Check  |Check   |        |           |       |        |
   +-----------+-------+--------+--------+-----------+-------+--------+
   |ICMP Ping  |       | Echo   |        |           |       |        |
   + --------- + ----- + ------ + ------ + --------- + ----- + ------ +
   |BFD        |BFD    |BFD     |        |           |       |        |
   |           |Control|Echo    |        |           |       |        |
   + --------- + ----- + ------ + ------ + --------- + ----- + ------ +
   |LSP Ping   |       |"Ping"  |"Tracero|           |       |        |
   |           |       |mode    |ute"    |           |       |        |
   |           |       |        |mode    |           |       |        |
   + --------- + ----- + ------ + ------ + --------- + ----- + ------ +
   |PW VCCV    |       |VCCV    |        |           |       |        |
   + --------- + ----- + ------ + ------ + --------- + ----- + ------ +


Mizrahi                 Expires July 17, 2010                [Page 18]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   |ITU-T      |-CV    |        |        |           |       |        |
   |Y.1711     |-FFD   |        |        |           |       |        |
   + --------- + ----- + ------ + ------ + --------- + ----- + ------ +
   |ITU-T      |ETH-CC |ETH-LB  |ETH-LT  |-ETH-RDI   |-ETH-LM|-ETH-LCK|
   |Y.1731     |       |        |        |-ETH-AIS   |-ETH-DM|-ETH-APS|
   |           |       |        |        |           |       |-ETH-TST|
   + --------- + ----- + ------ + ------ + --------- + ----- + ------ +
   |IEEE       |CC     |Loopback|Linktrac|           |       |        |
   |802.1ag    |       |        |e       |           |       |        |
   + --------- + ----- + ------ + ------ + --------- + ----- + ------ +
   |IEEE       |       |Remote  |        |-Remote    |       |        |
   |802.3ah    |       |Loopback|        | Failure   |       |        |
   |           |       |        |        | Indication|       |        |
   |           |       |        |        |-Link      |       |        |
   |           |       |        |        | Monitoring|       |        |
   + --------- + ----- + ------ + ------ + --------- + ----- + ------ +
   |MPLS-TP    |CC     |CV      |Route   |-Alarm     |-LM    |-Diagnos|
   |OAM        |       |        |Tracing | Reporting |-DM    | tic Tes|
   |           |       |        |        |-Client    |       | s      |
   |           |       |        |        | Failure   |       |-Lock   |
   |           |       |        |        | Indication|       |        |
   |           |       |        |        |-Remote    |       |        |
   |           |       |        |        | Defect    |       |        |
   |           |       |        |        | Indication|       |        |
   +-----------+-------+--------+--------+-----------+-------+--------+
                     Table 2 Summary of OAM Functions

4.11. Summary of Unidirectional Connectivity Check Mechanisms

   A key element in some of the OAM standards that are analyzed in this
   document is the unidirectional connectivity check. It is thus
   interesting to present a more detailed comparison of the connectivity
   check mechanisms defined in OAM standards. Table 3 can be viewed as
   an extension of Table 2, but is presented separately for convenience.
   The table compares the OAM standards that support a unidirectional
   connectivity check. MPLS-TP is not included in the comparison, as the
   continuity check mechanism in MPLS-TP has not yet been defined.

   The "Tx Interval" column in the table specifies the period between
   two consequent message transmissions, while the "Source Identifier"
   column specifies the name of the field in the OAM packet that is used
   as the identifier of the transmitter. The "Error Codes" column



Mizrahi                 Expires July 17, 2010                [Page 19]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   specifies the possible error codes when the unidirectional
   connectivity check detects a failure.

   +-----------+-------+--------+---+--------+------------------------+
   |           |Mechani|Tx      |UC/|Source  | Error                  |
   |           |sm     |Interval|MC |Identifi| Codes                  |
   |           |       |        |   |er      |                        |
   +-----------+-------+--------+---+--------+------------------------+
   |BFD        |BFD    |Negotiat|UC |My Discr| Control Detection Time |
   |           |Control|ed durin|   |iminator| Expired                |
   |           |       |g sessio|   |        |                        |
   |           |       |n       |   |        |                        |
   + --------- + ----- + ------ + - + ------ + ---------------------- +
   |ITU-T      |CV     |CV: 1s  |UC |TTSI    |-Loss of CV (LOCV)      |
   |Y.1711     |FFD    |FFD: par|   |        |-TTSI Mismatch          |
   |           |       |ameter, |   |        |-TTSI Mismerge          |
   |           |       |default:|   |        |-Excess                 |
   |           |       |50 ms   |   |        |                        |
   + --------- + ----- + ------ + - + ------ + ---------------------- +
   |ITU-T      |CC     |7 possib|UC/|MEP ID  |-Loss of Continuity(LOC)|
   |Y.1731 /   |       |le perio|MC |        |-Unexpected MEG level   |
   |IEEE       |       |ds:     |   |        |-Mismerge               |
   |802.1ag    |       |3 1/3 ms|   |        |-Unexpected MEP         |
   |           |       |10 ms   |   |        |-Unexpected period      |
   |           |       |100 ms  |   |        |                        |
   |           |       |1 s     |   |        |                        |
   |           |       |10 s    |   |        |                        |
   |           |       |1 min   |   |        |                        |
   |           |       |10 min  |   |        |                        |
   +-----------+-------+--------+---+--------+------------------------+
                       Table 3 Summary of OAM Terms

5. Security Considerations

   There are no security implications imposed by this document.

6. IANA Considerations

   There are no new IANA considerations implied by this document.

7. Acknowledgments

   This document was prepared using 2-Word-v2.0.template.dot.


Mizrahi                 Expires July 17, 2010                [Page 20]

Internet-Draft       Overview of OAM Mechanisms           January 2010


8. References

8.1. Normative References

   [KEYWORDS]    Bradner, S., "Key words for use in RFCs to Indicate
                 Requirement Levels", BCP 14, RFC 2119, March 1997.

   [LSP Ping]    Kompella, K., Swallow, G., "Detecting Multi-Protocol
                 Label Switched (MPLS) Data Plane Failures", RFC 4379,
                 February 2006.

   [VCCV]        Nadeau, T., Pignataro, C., "Pseudowire Virtual Circuit
                 Connectivity Verification (VCCV): A Control Channel
                 for Pseudowires", RFC 5085, December 2007.

   [ICMPv4]      Postel, J., "Internet Control Message Protocol", STD 5,
                 RFC 792, September 1981.

   [ICMPv6]      Conta, A., Deering, S., and M. Gupta, "Internet Control
                 Message Protocol (ICMPv6) for the Internet Protocol
                 Version 6 (IPv6) Specification", RFC 4443, March 2006.

   [IEEE 802.1ag]"Connectivity Fault Management", December 2007.

   [ITU-T Y.1731]"OAM Functions and Mechanisms for Ethernet-based
                 Networks", February 2008.

   [ITU-T Y.1711]"Operation & Maintenance mechanism for MPLS networks",
                 February 2004.

   [IEEE 802.3ah]"Media Access Control Parameters, Physical Layers, and
                 Management Parameters for Subscriber Access Networks",
                 clause 57, September 2004.

8.2. Informative References

   [MPLS-TP OAM] Vigoureux, M., Ward, D., Betts, M., "Requirements for
                 OAM in MPLS Transport Networks", draft-ietf-mpls-tp-
                 oam-requirements, August 2009.

   [BFD]         Katz, D., Ward, D., "Bidirectional Forwarding
                 Detection", draft-ietf-bfd-base, February 2009.

   [P2MP Ping]   Farrel, A. , Yasukawa, S., "Detecting Data Plane
                 Failures in Point-to-Multipoint Multiprotocol Label
                 Switching (MPLS) - Extensions to LSP Ping", draft-
                 ietf-mpls-p2mp-lsp-ping, August 2009.


Mizrahi                 Expires July 17, 2010                [Page 21]

Internet-Draft       Overview of OAM Mechanisms           January 2010


   [OAM Soup]    Betts, M., Van Helvoort, H., Bonica, R., Romascanu, D.,
                 "The OAM Acronym Soup", draft-ietf-opsawg-mpls-tp-oam-
                 def, September 2009.

   [ITU-T G.806] "Characteristics of transport equipment - Description
                 methodology and generic functionality", January 2009.

   [MPLS-TP Term]Van Helvoort, H., Andersson, L., Sprecher, N., "A
                 Thesaurus for the Terminology used in Multiprotocol
                 Label Switching Transport Profile (MPLS-TP)
                 drafts/RFCs and ITU-T's Transport Network
                 Recommendations", draft-ietf-mpls-tp-rosetta-stone,
                 June 2009.



Authors' Addresses

   Tal Mizrahi
   Marvell

   Email: talmi@marvell.com


























Mizrahi                 Expires July 17, 2010                [Page 22]

