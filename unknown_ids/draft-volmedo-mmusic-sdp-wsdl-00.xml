<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
    <!ENTITY rfc4566 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4566.xml'>
    <!ENTITY rfc4234 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4234.xml'>
    <!ENTITY rfc2119 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml'>
    <!ENTITY rfc3986 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3986.xml'>
    <!ENTITY rfc2048 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2048.xml'>
    <!ENTITY rfc2434 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2434.xml'>
    <!ENTITY rfc4346 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4346.xml'>
    <!ENTITY rfc3851 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3851.xml'>
    <!ENTITY rfc3264 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3264.xml'>
    <!ENTITY rfc4145 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4145.xml'>
    <!ENTITY rfc3261 PUBLIC '' 'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3261.xml'>
]>

<rfc ipr="full3978" docName="draft-volmedo-mmusic-sdp-wsdl-00">

<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<?rfc toc="yes" ?>
<?rfc sortrefs="yes" ?>
<?rfc iprnotified="no" ?>
<?rfc strict="yes" ?>


    <front>
        
        <title abbrev='WSDL Attribute'>The Session Description Protocol (SDP) WSDL Attribute</title>
        
        <author initials='V.' surname='Olmedo' fullname='Vicente Olmedo'>
            <organization abbrev='UPM'>
                Technical University of Madrid
            </organization>
            <address>
                <postal>
                    <street>Avda. Complutense s/n</street>
                    <city>Madrid</city>
                    <region>Madrid</region>
                    <code>28040</code>
                    <country>ES</country>
                </postal>
                <phone>+34 91 549 57 00 ext. 3024</phone>
                <email>volmedo@dit.upm.es</email>
                <uri>http://www.dit.upm.es/volmedo</uri>
            </address>
        </author>
        
        <author initials='V.' surname='Villagrá' fullname='Víctor Villagrá'>
            <organization abbrev='UPM'>
                Technical University of Madrid
            </organization>
            <address>
                <postal>
                    <street>Avda. Complutense s/n</street>
                    <city>Madrid</city>
                    <region>Madrid</region>
                    <code>28040</code>
                    <country>ES</country>
                </postal>
                <phone>+34 91 453 35 15</phone>
                <email>villagra@dit.upm.es</email>
                <uri>http://www.dit.upm.es/villagra</uri>
            </address>
        </author>
        
        <author initials='J.E.' surname='Burgos' fullname='Juan Enrique Burgos'>
            <organization abbrev='Experience IS'>
                Experience Ingeniería y Servicios
            </organization>
            <address>
                <postal>
                    <street>Parque Tecnológico de Boecillo, Edificio Centro, Módulo 202</street>
                    <city>Boecillo</city>
                    <region>Valladolid</region>
                    <code>47151</code>
                    <country>ES</country>
                </postal>
                <phone>+34 98 354 82 86</phone>
                <email>jeburgos@experienceis.com</email>
            </address>
        </author>
        
        <author initials='G.' surname='Gallizo' fullname='Georgina Gallizo'>
            <organization abbrev='Telefónica I+D'>
                Telefónica Investigación y Desarrollo
            </organization>
            <address>
                <postal>
                    <street>Emilio Vargas 6</street>
                    <city>Madrid</city>
                    <region>Madrid</region>
                    <code>28043</code>
                    <country>ES</country>
                </postal>
                <phone>+34 91 312 98 79</phone>
                <email>gallizo@tid.es</email>
            </address>
        </author>
        
        <date month='November' year='2007'/>
        
        <!-- META DATA -->
        <area>Internet</area>
        <workgroup>MMUSIC</workgroup>
        <keyword>SDP</keyword>
        <keyword>Session Description Protocol</keyword>
        <keyword>WS</keyword>
        <keyword>Web Service</keyword>
        <keyword>WSDL</keyword>
        <keyword>Web Service Description Language</keyword>
        
        <abstract>
            <t>
                This document defines a new Session Description Protocol (SDP) 
                media-level attribute: 'wsdl'. The 'wsdl' attribute allows for a user 
                running Web Services to let a potential client know the Uniform 
                Resource Identifier (URI) where the Web Service Description Language file 
                (WSDL) describing the service can be obtained. The WSDL file describes
                the public interface offered by the Web Service and allows the client 
                to consume the service. It also defines the SDP proto value 'TCP/HTTP',
                needed for this type of communication.
            </t>
        </abstract>
    </front>

    <middle>
        <section anchor='intro' title='Introduction'>
            <t>
                The Session Description Protocol (SDP) <xref target="RFC4566"/>
                is a protocol usually intended to describe multimedia sessions,
                most typically used with the Session Initiation Protocol (SIP)
                <xref target="RFC3261"/>. This combination allows the establishment
                and management of multimedia sessions with nomadic and mobile users
                who can be connected from heterogeneous devices.
            </t>
            
            <t>
                Currently, massive usage of nomadic and mobile devices has pushed
                for these devices hosting also other kind of applications and
                services, not always related to multimedia. Specifically,
                Web Service-based applications are one of the most popular services nowadays
                under the so-called Service Oriented Architecture (SOA).
            </t>
            
            <t>
                SDP is generic in order to describe different types of sessions.
                However, these sessions may need some specific session-related
                attributes for its establishment. This is the case of Web Service
                sessions, where the requestor needs to access the description
                of the offered services, specified in a Web Service Description 
                Language (WSDL) document.
            </t>
            
            <t>
                This specification defines the SDP 'wsdl' media-level attribute,
                which provides the requestor with a pointer for accessing the service
                description document from the provider. Also, as this attribute is
                intended to allow the creation of Web Service sessions, which usually
                use HTTP as transport protocol, this specification also defines two new
                proto values: 'TCP/HTTP' and 'TCP/TLS/HTTP'. These new values are in
                conformance with <xref target="RFC4145">RFC 4145</xref>.
            </t>           
        </section>
       
        <section anchor='terminology' title='Terminology'>
            <t>
                In this document, the key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
                "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY",
                and "OPTIONAL" are to be interpreted as described in BCP 14, RFC 2119 
                <xref target="RFC2119"/>, and indicate requirements levels for compliant 
                implementations.
            </t>
        </section>
        
        <section anchor='motivation' title='Motivation'>
            <t>
                The aim of this Internet-Draft is the definition of a new SDP 
                attribute in order to allow the exchanging of the necessary information 
                between two entities willing to establish a "Web Service session" by using the 
                SDP offer/answer model <xref target="RFC3264"/>. The established session
                could be used, for example, by a Web Service requestor (WS-requestor)
                in order to invoke a service exposed by a Web Service provider
                (WS-provider). Considering that the <xref target="wsdl-spec">Web
                Service Description Language document (WSDL)</xref> is a key
                element on a standard Web Service interaction, a reference to this
                element needs to be included in the new attribute.
            </t>
   
            <t>
                The WSDL document contains an XML-based description of the public 
                interface that a Web Service offers, so in the most generic Web Service
                interaction scenario, a WS-requestor will need access to
                the WSDL of a WS-provider in order to generate the required software
                to invoke the offered service. A WS-requestor can obtain this 
                service WSDL document URI in multiple manners, e.g., through WS-specific 
                mechanisms, such as <xref target="uddi-spec">UDDI</xref>, or directly
                (in a peer-to-peer fashion) from the service provider, either by pre-sharing
                the WSDL URI (if the service resides in a fixed device) or by using the 
                mechanism proposed in this Internet-Draft to obtain this URI
                dynamically (especially suitable for nomadic/mobile devices).
            </t>
            
            <t>                
                The usage of nomadic/mobile devices (laptops, PDA and mobile phones) 
                acting as services providers becomes a reality. The demand on such 
                devices has experienced a spectacular increase, in parallel with the 
                growth of the capabilities that these devices can offer (memory, CPU 
                power, autonomy, interoperability...), and the intensive deployments 
                of wireless networks based on different technologies (like WiFi or WiMax).
            </t>
            
            <t>
                The definition of a SDP offer/answer model-based mechanism to retrieve
                the WSDL document is especially relevant in a mobile and pervasive 
                environment. The physical network address of a mobile computer hosting 
                a service can change for many reasons, e.g., a network handover, or 
                because the device is switched off since the user wants to remain 
                connected from a different one.
            </t>
        </section>
        
        <section anchor='wsdl' title="The 'wsdl' Attribute">
            <figure>
                <preamble>
                    This section provides the definition of the 'wsdl' attribute using
                    Augmented Backus Naur Form (ABNF) <xref target="RFC4234"/> notation:
                </preamble>
                <artwork>
    wsdl-attribute = "a=wsdl:" wsdl-uri
    wsdl-uri       = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
                </artwork>
                <postamble>
                    The 'wsdl' attribute contains a pointer (the 'wsdl-uri' part)
                    to the WSDL file that defines the Web Service offered. This
                    pointer has the form of a URI, as defined in <xref target="RFC3986">RFC 3986</xref>.
                </postamble>
            </figure>
            
            <t>
                As WSDL files are usually fetched using HTTP, the most common value
                for the 'scheme' field is 'http'.
            </t> 
        </section>
        
        <section anchor='examples' title='Examples'>
            <t>
                This section shows the SDP messages that will be exchanged when
                a service consumer (Alice) contacts the service provider (Bob) in order
                to define a new service session. In such an interaction, Alice is the Offerer
                and Bob is the Answerer, according to the SDP Offer/Answer Model
                <xref target="RFC3264"/>.
            </t>
            
            <t>
                When a positive answer is received in response to a previous offer,
                the new service session is created and ready to be used. Alice and Bob will
                then send and receive the SOAP messages needed to consume the service.
                The WSDL file location is sent by the service provider as part of the
                service session creation process.
            </t>
            
            <figure>
                <preamble>
                    In order to define the service session, Alice constructs the
                    SDP shown below:
                </preamble>
                <artwork>
    v=0
    o=alice 28903711 28903711 IN IP4 192.0.2.1
    s=-
    c=IN IP4 192.0.2.1
    t=0 0
    m=application 9 TCP/HTTP soap+xml
    a=setup:active
                </artwork>
                <postamble>
                    The SDP above defines a HTTP session targeted to the exchange
                    of SOAP messages. Although other protocols could also be used,
                    HTTP is the most popular binding for SOAP.
                </postamble> 
            </figure>   
                    
            <t>
                The SDP "s=" line has a value of "-", as recommended by 
                <xref target="RFC3264">RFC 3264</xref> for unicast sessions. 
                Also in RFC 3264, it is recommended to use a value of "0 0" 
                for the "t=" line when the session is initiated and terminated 
                using external signaling means, which will always be the case 
                in this kind of sessions.
            </t>

            <t>
                Of course, the "m=" line defines an application-type media that
                will be used to send and receive SOAP messages over HTTP. A
                client-server relationship is defined for the exchange of SOAP
                messages, with Alice being the client in this example. As this
                kind of communication is connection-oriented, this specification
                is in conformance with <xref target="RFC4145">RFC 4145</xref>.
            </t>
            
            <t>
                On the one hand, this specification uses a new proto value, 'TCP/HTTP'
                (and 'TCP/TLS/HTTP' when using <xref target="RFC4346">Transport Layer
                Security (TLS)</xref> to secure the HTTP communication).
                On the other hand, it reuses the 'setup' attribute, which is used 
                here with a value of "active" to indicate that Alice will initiate
                the SOAP interaction. Besides, the port number included in the "m="
                line is set to 9 (the discard port), as it is irrelevant but a valid
                port number must be used (as recommended in RFC 4145).
            </t>
                        
            <figure>
                <preamble>
                    When Bob receives Alice's offer, he constructs an answer
                    and sends it back to Alice. The SDP answer is shown below:
                </preamble>
                <artwork>
    v=0
    o=bob 28903823 28903823 IN IP4 192.0.2.2
    s=-
    c=IN IP4 192.0.2.2
    t=0 0
    m=application 80 TCP/HTTP soap+xml
    a=setup:passive
    a=wsdl:http://192.0.2.2/service.wsdl
                </artwork>
                <postamble>
                    In this answer, Bob indicates that he is willing to accept
                    ("a=setup:passive") SOAP messages over HTTP at the port 80.
                    Finally, he uses a "a=wsdl" line to indicate where the WSDL
                    file that defines the service can be retrieved.
                </postamble>
            </figure>
            
        </section>
        
        <section anchor='security' title='Security Considerations'>
            <t>
                As 'wsdl' attributes contain URIs to WSDL files, an attacker may
                attempt to use this URI to contact the service. This is usually not
                a problem, as authentication mechanisms can be imposed by the service.
            </t>
            
            <t>
                However, an attacker could also modify the content of the 'wsdl'
                attribute or even remove it completely. This could lead to Denial of
                Service (DoS) attacks, man-in-the-middle attacks or other kinds
                of attacks depending on how the applications handle the bogus signalling.
                Therefore, it is strongly RECOMMENDED to apply integrity protection
                to SDP session descriptions.
            </t>
            
            <t>
                For session descriptions carried as SIP message bodies, mechanisms
                as <xref target="RFC4346">Transport Layer Security (TLS)</xref> or
                <xref target="RFC3851">Secure MIME (S/MIME)</xref> MAY be used to
                provide integrity protection. These mechanisms can also be used to
                provide confidentiality if required.
           </t>
        </section>
        
        <section anchor='iana' title='IANA Considerations'>
            <figure>
                <preamble>
                    This document defines a new 'wsdl' media-level attribute for SDP.
                    Its format is defined in <xref target="wsdl"/>. The following
                    information characterizes the 'wsdl' attribute:
                </preamble>
                <artwork>
    Contact name:            Vicente Olmedo <![CDATA[<volmedo@dit.upm.es>]]>.
    
    Attribute name:          'wsdl'.
    
    Type of attribute:       Media level.
    
    Subject to charset:      No.
    
    Purpose of attribute:    The 'wsdl' attribute provides the URI of 
                             the WSDL file that defines a Web Service.
                </artwork>
                <postamble>
                    No standard values need to be defined. As the 'wsdl' attribute 
                    contains the URI of a WSDL file, every URI in conformance with 
                    <xref target="RFC3986">RFC 3986</xref> is also an allowed value 
                    for the 'wsdl' attribute.
                </postamble> 
            </figure>
            
            <t>
                Additionally, this document defines new proto values: 'TCP/HTTP'
                and 'TCP/TLS/HTTP'. These proto values should be registered by the
                IANA under "Session Description Protocol (SDP) Parameters" under "proto".
                These values are constructed according to the advices given in Section 8
                of <xref target="RFC4145">RFC 4145</xref>.
            </t>
            
            <t>
                According to the <xref target="RFC4566">RFC 4566</xref>, that
                defines SDP, the definition of new proto values must be accompanied
                by the definition of the associated media formats, i.e., the 
                allowed fmt values. For the HTTP protocol, new formats SHOULD have
                an associated MIME registration. Use of an existing MIME subtype
                for the format is encouraged. If no MIME subtype exists, it is
                RECOMMENDED that a suitable one is registered through the IETF process
                <xref target="RFC2048"/> by production of, or reference to, a 
                standards-track RFC that defines the transport protocol for the format.
            </t>
        </section>
        
        <section anchor='ack' title='Acknowledgements'>
            <t>
                The authors would like to thank the members of the
                <xref target="akogrimo">AKOGRIMO (Access to Knowledge through the
                Grid in a Mobile World) </xref> project, funded by the European 
                Commission under the FP6-IST programme, where the problem was 
                identified and the proposed solution was designed and implemented. 
            </t>
        </section>
    </middle>

    <back>
        <references title='Normative References'>
            &rfc4566;
            &rfc4145;
            &rfc2119;
            &rfc3264;
            &rfc4234;
            &rfc3986;
            &rfc2048;
            &rfc2434;
        </references>
        
        <references title='Informative References'>
            &rfc3261;
            
            <reference anchor="wsdl-spec">
                <front>
                    <title>Web Service Description Language (WSDL) Version 2.0 Part 1: Core Language</title>
                    
                    <author initials="R." surname="Chinnici" fullname="Roberto Chinnici">
                        <organization>Sun Microsystems</organization>
                    </author>
                    
                    <author initials="J. J." surname="Moreau" fullname="Jean-Jacques Moreau">
                        <organization>Canon</organization>
                    </author>
                    
                    <author initials="A." surname="Ryman" fullname="Arthur Ryman">
                        <organization>IBM</organization>
                    </author>
                    
                    <author initials="S." surname="Weerawarana" fullname="Sanjiva Weerawarana">
                        <organization>WSO2</organization>
                    </author>
                    
                    <date day="26" month="June" year="2007"/>
                </front>
                <seriesInfo name="World Wide Web Consortium Recommendation" value="REC-wsdl20-20070626"/>
                <format type="HTML" target="http://www.w3.org/TR/2007/REC-wsdl20-20070626/"/>
            </reference>
            
            <reference anchor="uddi-spec">
                <front>
                    <title>UDDI Version 3 Specification</title>
                    
                    <author initials="L." surname="Clement" fullname="Luc Clement">
                        <organization>Systinet</organization>
                    </author>
                    
                    <author initials="A." surname="Hately" fullname="Andrew Hately">
                        <organization>IBM</organization>
                    </author>
                    
                    <author initials="C." surname="von Riegen" fullname="Claus von Riegen">
                        <organization>SAP AG</organization>
                    </author>
                    
                    <author initials="T." surname="Rogers" fullname="Tony Rogers">
                        <organization>Computer Associates</organization>
                    </author>
                    
                    <date month="October" year="2004"/>
                </front>
                <seriesInfo name="OASIS" value="Specification"/>
            </reference>
        
            &rfc4346;
            &rfc3851;
            
            <reference anchor="akogrimo" target="http://www.mobilegrids.org">
                <front>
                    <title>AKOGRIMO Project Web Site</title>
                    <author>
                        <organization>The AKOGRIMO Consortium</organization>
                    </author>
                </front>
            </reference>
        </references>
    </back>

</rfc>
