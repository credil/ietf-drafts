<?xml version="1.0" encoding="US-ASCII"?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [

    <!ENTITY RFC1035 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.1035.xml">
    <!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
    <!ENTITY RFC2629 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2629.xml">
    <!ENTITY RFC5280 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5280.xml">
    <!ENTITY RFC3552 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3552.xml">
    <!ENTITY RFC3642 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3642.xml">    
    <!ENTITY RFC4033 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4033.xml">
    <!ENTITY RFC4055 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4055.xml">
    <!ENTITY RFC4648 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4648.xml">
    <!ENTITY RFC5395 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5395.xml">
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<?rfc strict="yes" ?>
<?rfc toc="yes"?>
<?rfc tocdepth="4"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes" ?>
<?rfc compact="yes" ?>
<?rfc subcompact="no" ?>
<rfc category="exp" docName="draft-hallambaker-dane-requirements-01" ipr="trust200902">

    <front>
        <title abbrev="DANE Use Cases and Requirements">DANE Use Cases, Requirement and Deployment</title>
        <author fullname="Phillip Hallam-Baker" initials="P. M." surname="Hallam-Baker">
            <organization>Comodo Group Inc.</organization>
            <address>
                <email>philliph@comodo.com</email>
            </address>
        </author>

        <date day="7" month="April" year="2011" />

        <area>General</area>

        <workgroup>Internet Engineering Task Force</workgroup>

        <keyword>DNS</keyword>
        <keyword>DNSSEC</keyword>
        <keyword>PKIX</keyword>
        
        <abstract>
            <t>
            </t>
        </abstract>
    </front>

    <middle>
        <section title="Definitions">
            <section title="Requirements Language">
                <t>
                    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
                    "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
                    document are to be interpreted as described in <xref target="RFC2119">RFC 2119</xref>.
                </t>
            </section>
            <section title="Defined Terms">
                <t>The following terms are used in this document:</t>
                <t>
                    <list style="hanging">
                        <t hangText="Abstract Syntax Notation One (ASN.1)">
                            A notation for describing abstract types and values,
                            as specified in <xref target="X.680">X.680</xref>.</t>

                        <t hangText="Certificate">
                            An X.509 Certificate, as specified in <xref target="RFC5280">RFC 5280</xref>.
                    </t>
                        <t hangText="Certification Policy (CP)">
                            Specifies the criteria that a Certification Authority undertakes to meet
                            in its issue of certificates.</t>
                        <t hangText="Certification Practices Statement (CPS)">
                            Specifies the means by which the criteria of the Certification Policy
                            are met. In most cases this will be the document against which the
                            operations of the Certification Authority are audited.</t>
                        <t hangText="Certification Authority (CA)">
                            An entity that issues Certificates in accordance with a specified 
                            Certification Policy.</t>
                        <t hangText="Distinguished Encoding Rules (DER)">
                            A set of rules for encoding ASN.1 objects, as specified in
                            <xref target="X.690">X.690</xref>.</t>
                        <t hangText="Domain">
                            The set of resources associated with a DNS Domain Name.</t>
                        <t hangText="Domain Name">
                            A DNS Domain name as specified in <xref target="RFC1035">RFC 1035</xref>
                        and revisions.
                    </t>
                        <t hangText="Domain Name System (DNS)">
                            The Internet naming system specified in <xref target="RFC1035">RFC 1035</xref>
                            and revisions.
                        </t>
                        <t hangText="DNS Security (DNSSEC)">
                            Extensions to the DNS that provide authentication services as specified in 
                            <xref target="RFC4033">RFC 4033</xref>
                        and revisions.
                    </t>
                        <t hangText="Key">
                            A cryptographic key.
                        </t>
                        <t hangText="Public Key Infrastructure X.509 (PKIX)">
                            Standards and specifications issued by the IETF that apply the
                            <xref target="X.509">X.509</xref> certificate standards specified
                            by the ITU to Internet applications as specified in
                            <xref target="RFC5280">RFC 5280</xref> and related documents.
                        </t>
                        <t hangText="Resource Record (RR)">
                            A set of attributes bound to a Domain Name.</t>
                        <t hangText="Relying Party">
                            A party that makes use of an application whose operation depends on
                            use of a Certificate or Key for making a security decision.</t>
                        <t hangText="Relying Application">
                            An application whose operation depends on
                            use of a Certificate or Key for making a security decision.
                        </t>
                     
                    </list>
                </t>
            </section>
        </section>
        <section title="Use Cases">
            <t>
            Developing use cases for a network security protocol is a 
            developing art. Should the use cases be speficied from the 
            point of view of the client or the server? How does the 
            threat model tie in?
            </t>
            <t>
            In this document we begin by classifying attackers according 
            to their capabilities. The use cases are then developed from 
            the point of view of the client and the server.
            </t>
            <section title="Attack Model">
                <t>
                    The asset to be protected is information. Information
                    assets are subject to Confidentiality Integrity and 
                    Service risks. 
                </t>
                <t>
                    For breivty, service risks are not addressed directly,
                    although it should be noted that many controls to mitigate
                    Denial of Service attacks are possible if a client can 
                    establish a secure connection to a trustworthy DNS 
                    service.
                </t>
                <section title="Eve the Evesdropper: Confidentiality">
                    <t>
                    [A-EVE] Eve has the ability to read communications 
                    between the parties but cannot modify them.
                    </t>
                    <t>
                    Eve typically observes traffic by evesdropping on
                    wireless connections or other brodcast hops but may 
                    also have access to the cabling through which the 
                    signals run.
                    </t>
                </section>
                <section title="Simon DNS Spoofer: Integrity">
                    <t>
                        [A-DNS] Simon the spoofer can control the DNS service 
                        responses for a domain. Simon's attacks may affect
                        the entire Internet or be limited in scope.
                    </t>
                    <t>
                    Simon employs a range of techniques to achieve
                    DNS spoofing on a local level. His favorites being 
                    cache poisoning and capture of DNS resolvers. He also 
                    uses malware attacks that redirect DNS resolution on 
                    an infected host or possibly by redirection of a local
                    DNS forwarder at an unsecured network access point. While
                    such attacks are limited in scope, this may actually 
                    be preferable since limited scope attacks are more likely
                    to escape detection for an extended period of time.
                    </t>
                    <t>
                    On occasion Simon has redirected  DNS domains 
                    across the entire Internet through attacks on the registry 
                    and/or registrar infrastructure. Such attacks frequently 
                    involve social engineering
                    </t>
                </section>                
                <section title="Denis the Denier of Service: Service">
                    <t>
                    [A-DENY] Denis the denier of service can prevent 
                    the parties from communicating on some but not all 
                    communication channels and/or routes.
                    </t>
                    <t>
                    Denis has used a wide range of techniques to effect
                    his attacks including SYN flooding, BGP level attacks
                    and on occasion disconnecting Internet service for
                    an entire country. Denis has also been known to
                    be extremely careless with a backhoe.
                    </t>
                </section>
                <section title="Ulma, the Untrustworthy Third Party">
                    <t>
                        [A-UCA] Ulma is an Untrustworthy Third Party
                        whose root signature key is configured to be 
                        trusted by default.
                    </t>
                    <t>
                        Opinions on Ulma vary. Some say that she is trying 
                        her best, others worry that her best may not be good 
                        enough, others still worry that Ulma is intentionally
                        acting in bad faith.
                    </t>
                </section>
                <section title="Mallet the Man-in-the-Middle: Confidentiality + Integrity + Service">
                    <t>
                    [A-MALLET] Mallet is the man in the middle, the 
                    attacker who can control every aspect of a 
                    communication.
                    </t>
                    <t>
                    While the activities of Eve, Simon or Ulma may ultimately
                    lead to a successful man in the middle attack, Mallet has
                    the ability to perform such attacks a-priori. He does this
                    by techniques such as BGP spoofing and compromise of
                    infrastructure such as hubs and routers.
                    </t>
                </section>

            </section>

            <section title="Server Use Cases (Alice)">
                <t>
                [P-Alice] Alice is the administrator of Internet services
                for a wide variety of customers with very different 
                security needs (and willingness to pay for her services).
                </t>
                <t>
                Some customers want Alice to install and deploy a service
                as quickly and simply as possible with minimal concern for 
                security.
                </t>
                <t>
                Other customers have more demanding security
                needs and Alice must meet these as well. 
                </t>
                <section title="Server Types">
                    <section title="Human/Machine Interaction: Web Browser">
                        <t>
                        A Web Server that is primarily intended to support
                        human-machine interaction MAY
                        permit the display of a security signal in some
                        circumstances.
                        </t>
                    </section>
                    <section title="Human/Machine Interaction: Other">
                        <t>
                            Other protocols that 
                            are primarily intended to support
                            human-machine interaction MAY
                            permit the display of a security signal in some
                            circumstances but the support for such signals is 
                            poorly defined.
                        </t>
                    </section>                 
                    <section title="Web Service / Internet Service">
                        <t>
                        A service that is primarily designed
                        to support machine/machine interaction. 
                        for example delivery of SMTP messages from 
                        an outgoing to an incoming mail server,
                        Web Services of all types, etc.
                        </t>
                        <t>
                        Since there is no user in such cases, there
                        is no party to read or interpert a UI security signal.
                        </t>
                    </section>
                </section>
                <section title="Administrative Use Cases">

                    <section title="Trusted Third Party Restriction">
                        <t>
                            [U-S-TRUST]

                            Having noted the behavior of Ulma and the risk of
                            compromise due to [A-UCA], Alice wishes to ensure
                            that the only certificates that are issued for a
                            domain or accepted by applications are those issued by
                            Carol [P-CAROL]
                        </t>
                    </section>
                    <section title="Single Service">
                        <t>
                        [U-S-SINGLE]

                        Alice is deploying a single service in a domain and wishes
                        to do so with minimal effort.
                        </t>
                    </section>
                    <section title="Multiple Services">
                        <t>
                            [U-S-MULTIPLE]

                            Alice is deploying many services in a domain and is
                            more concerned with the stability and long-term 
                            maintenance of the systems.
                        </t>
                    </section>
                    <section title="Rapid Configuration Changes">
                        <t>
                            [U-S-RAPID]

                            Alice is deploying many services in a domain with
                            rapidly changing configuration demands.
                        </t>
                        <t>
                        For example, Alice is supporting a Web site that has greatly 
                        varying capacity requirements throughout the day. A single
                        server is sufficient to meet demand for most of the day but
                        at peak times demand can rapidly grow to 16 servers or more. 
                        Alice meets these requirements by renting services in the 
                        cloud in response to current needs.
                        </t>
                    </section>
                    <section title="[U-S-ALIAS] Service Mapping">
                        <t>
                            [U-S-ALIAS1] Alice has been asked to change the name
                            of a Web site from www.example.net to www.example.com so that
                            a single server can support both sites without the need
                            for separate management.
                        </t>
                        <t>
                        [U-S-ALIAS2] Although the official name for the Web site is 
                        www.example.com, many users rely on the autocomplete feature in
                        most Web browsers and only type in example.com and this
                        can lead to performance issues.
                        </t>
                        <t>
                        Service mappings through use of CNAME and/or internal 
                        HTTP redirects on a Web server are a frequent administrative
                        requirement.
                        </t>
                    </section>
                    
                    <section title="[U-S-DEFAULT] Default Service">
                        <t>
                        [U-S-DEFAULT] Alice has been asked to ensure that a visitor
                        attempting to connect to a Web site with any domain name in or
                        under example.com will always succeed, even if the corresponding
                        DNS name is empty.
                        </t>
                    </section>
                </section>
            </section>
            <section title="Client Use Cases">
                <t>
                    Bob [P-BOB] is a human who uses a range of Web sites, Web Services
                    and Internet services with different security requirements.
                </t>
                <t>In some cases Bob makes use of a Web Service that will in turn 
                make service requests on his behalf, acting as an Intelligent Agent 
                [P-IA].</t>
                <section title="Verify DNS Identity">
                    <t>
                    [U-C-DNSID-BOB] Bob has used the site example.com for many
                    years and trusts the site maintainer. How can Bob ensure that he
                    has connected to the real 'example.conm'?
                    </t>
                    <t>
                        [U-C-DNSID-IA] Similar to [U-C-DNSID-BOB] above, the 
                        Intelligent Agent is preconfigured through an out-of-band
                        mechanism to trust a Web Service
                        offered by a particular DNS domain.
                    </t>
                </section>
                <section title="Establish Trust">
                    <t> [U-C-TRUST-BOB] Bob is looking for an Internet source supplying
                    widgest. He discovers such a site through a Web search engine
                    that does meet his trust criteria but Bob is not aware that this is the case.
                    How can Bob determine that he can trust the Web site he
                    has found with his credit card details?
                    </t>
                    <t>
                        [U-C-TRUST-IA]Similar to [U-C-TRUST-BOB] above, but
                        the transaction is to be handled by the Intelligent agent.
                    </t>
                </section>
                <section title="Establish Un-Trust">
                    <t>
                        [U-C-UNTRUST] In the converse of [U-C-TRUST-BOB], the 
                        Web site found does not meet Bob's trust criteria. 
                        How can Bob distinguish this case from the case where his
                        criteria are met?
                    </t>
                    <t>
                        [U-C-UNTRUST-IA]Similar to [U-C-UNTRUST]  above, but
                        the transaction is to be handled by the Intelligent agent.
                    </t>                
                </section>
                <section title="Best Connection">
                    <t>
                        [U-C-BEST] Bob connects to a Web site. Bob wants connections
                        to the example.com Web site to be 'as secure as possible'.
                    </t>
                </section>                              
                <section title="User Presence">
                    <t>[U-C-ACCOUNT] TBS
                    </t>
                </section>
                <section title="Secure Email">
                    <t>
                        [U-C-EMAIL] TBS
                    </t>
                </section>
            </section>


        </section>

        <section title="Constraints">
            <section title="DNS Size Constraints">
                <t>[C-SIZE] DNS responses must fit into a single IP packet if TCP 
                fallback is to be avoided and such mackets must be smaller than the
                path MTU if fragmentation is to be avoided.</t>
                <t>
                While some of the worst consequences of this restriction have 
                been mitigated through EDNS(0), use of DNSSEC and in particular the need to 
                attach DNS SIG records for each recordset mean that its consequences 
                cannot be entirely ignored.</t>
            </section>            
            <section title="DNSSEC Deployment">
                <t>
                [C-DNSSEC] DNSSEC is only partially deployed. While DNSSEC is deployed at most
                DNS TLDs, deployment has not been effected in many TLDs. Moreover
                in some TLDs where DNSSEC is 'deployed' it is only supported by the
                registry and not by registrars.
                </t>
            </section>
            <section title="DNS Prefixing">
                <t>
                    [C-PREFIX] The practice of using prefixes to DNS names to allow protocol and/or
                    service specific properties to be specified is not fully interoperable
                    with existing practices for using aliases or wildcards.
                </t>
                <t> As far as the 
                DNS infrastructure is concerned, a DNS name that incorporates a prefix
                is no different from any other DNS name and that creates problems for DNS 
                administration since it is generally desirable that wildcards and
                aliases apply to all protocol properties associated with a domain name,
                including those expressed using a prefix.
                </t>
                <t>
                The DNS infrastructure does not support midpoint wildcard record 
                of the form 'x.*.y.z'. The only wildcard form supported being the
                case where the wildcard is a prefix, i.e. '*.y.z'. While it is possible
                to create wildcards that create the desired matches for a given 
                prefix record, it is not possible to do so without ambiguity.
                The patern *.y.z will match _p1.y.z as desired, but it will also 
                match _p2.y.z and any other prefix.
                </t>
                <t>
                A DNS CNAME Resource record declares the canonical name for a given
                domain name. Since the purpose of a DNS CNAME record is to 'alias'
                one name to another, it is clearly desirable for an alias to have 
                effect for all prefixes associated with the domain name as well. 
                In practice a CNAME mapping x.y.z to p.q.r has no effect on 
                queries for _prefix.x.y.z and the only way to ensure that these 
                forward correctly is to create mappings for each case.
                </t>
            </section>
            <section title="Extended Discovery">
                <t>
                [C-DISC] Use of an extended discovery mechanism such as SRV, NAPTR
                and/or URI may be an Internet architecture requirement at some date 
                in the future.
                </t>
                <t>Just as IPv4 addresses are running out, IP port numbers are
                facing a similar exhaustion issue. IP only allows 16 bits for 
                specification of port numbers and this is not extended in IPv6.
                It is thus inevitable that the 'well known ports' mechanism 
                will eventually run out of code points for assignment and that
                this will be replaced by some other mechanism.
                </t>
                <t>
                Extended discovery mechanisms such as SRV, NAPTR and URI 
                provide an alternative means of service discovery, albeit with 
                significant practical limitations in their current form.
                In particular the extended discovery mechansisms proposed to date 
                all employ some form of prefix mechanism as a substitute for 
                well known port numbers and thus subject to the corresponding
                constraints [C-PREFIX].
                </t>
                <t>
                Another practical limitation to the use of SRV, NAPTR, URI, etc.
                is that the decision to support extended discovery and the 
                selection of the extended discovery mechanism to be used rests 
                with the protocol designer rather than the admninistrator of the 
                domain where they are to be deployed. 
                </t>
            </section>
        </section>


        <section title="Requirements">

            <t>
            For convenience, requirements are separated into cryptographic
            requirements and protocol requirements. 
            </t>
            <t>
            No attempt has been made to separate requirements according to 
            priority except to note where a requirement is mandated by the 
            DANE charter or is met by existing infrastrtucture.
            </t>
            <section title="Cryptographic Requirements">
                <t>
                The cryptographic requirements are set out with the intention
                of drawing attention to the precise semantics involved. 
                </t>
                <section title="Key Publication">
                    <t>
                    [R-C-KEYPUB] Allow relying party to access the value of the key material
                    which may or may not be valid for the domain for which it is 
                    published.
                    </t>
                    <t>
                        Key Publication does not necessarily entail any assertion concerning
                        the validity and/or use of the certificate in question. The certificate
                        may have expired, it may have been revoked, it may bear no correspondance
                        to the domain at which it is published whatsover.
                    </t>
                    <t>
                    Example: www.example.com CERT 1 0 [ICANN KSK Certificate]
                    </t>
                    <t>
                    Since publication of a key or certificaste does not in itself 
                    imply an assertion that it is to be considered trustworthy, 
                    satisfying this requirement does not necessitate the use of DNSSEC.
                    </t>
                    <t>
                    Publication of cryptographic keying material is 
                    supported by the existing DNS CERT record.
                    </t>
                    <t>
                        Existing CERT certificate types do not imply an assertion
                        on the part of a domain name owner that the published
                        keying material is valid for or indeed has any relationship
                        to the specified domain whatsoever.
                    </t>                    
                </section>
                <section title="Domain Validation">
                    <t>[R-C-DV] Assert that a key is valid for use with a specific 
                    domain</t>
                    <t>
                    Example: www.example.com RR-TBS [CA root for *.example.com]
                    </t>
                    <t>
                    Domain Validation entails an assertion that the specified certificate
                    or key is valid for the associated domain but does not necessarily 
                    entail an assertion that the subject is trustworthy.
                    </t>
                    <t>
                    Since the only criteria required to register a domain in most
                    domains is to pay a registration fee, Domain Validation alone 
                    does not normally provide a useful basis for trust.
                    </t>
                </section>
                <section title="Subject Validation">
                    <t>[R-C-SV]
                        Determine criteria that may indicate that the subject 
                        should be trusted. E.g. reputation
                        mechanisms, evidence of accountability.
                    </t>
                    <t>
                        Subject Validation involves verification that is above and beyond
                        the requirement for registration of a domain name. The Extended
                        Validation criteria set out requirements that are intended to
                        provide a high degree of assurance that the subject is 
                        accountable according to legal process.
                    </t>
                    <t>
                        Example: www.example.com RR-TBS [EV Cert for www.example.com]
                    </t>

                </section>
                <section title="Subject Attestation">
                    <t>[R-C-SA] Vouch for the trustworthiness of the subject, i.e. 
                    shoulc we show Padlock Icon, Green Bar</t>
                </section>
                <section title="Certificate Validation">
                    <t>
                        [R-C-CV] Additional means of certificate validation/revocation 
                        that are outside the normal PKIX path. E.g. specify 
                        trust roots, enumeration of valid certs.
                    </t>
                </section>
                <section title="Certificate Issue Control">
                    <t>[R-C-CI] Inform certificate issuers that a domain name owner
                    requires specified validation criteria to apply in addition 
                    to those normally applied.
                    </t>
                </section>
            </section>
            <section title="Protocol Requirements">
                <t>
                In order for a client to make contact with a server,
                the client must discover the IP address and port number
                to connect to.
                </t>

                <section title="Service Discovery">
                    <t>
                        Although the design of discovery mechanisms is outside the
                        scope of DANE, the use of the DNS to obtain cryptographic
                        service properties is predicated on the use of the DNS to
                        perform service discovery. The means of DNS service
                        discovery employed and interoperation of that means with DANE
                        will have impact on performance.
                    </t>
                    <t>
                    Also relevant to consideration in DANE is the range of discovery
                    mechanisms supported. 
                    </t>
                    <section title="A RR Discovry">
                        <t>
                            [R-P-A] Support use of Internet service discovery
                            by means of DNS A record and well known port assignment.
                        </t>
                    </section>
                    <section title="A/AAAA RR Discovry">
                        <t>
                            [R-P-AAAA] Support use of Internet service discovery
                            by means of DNS A record and AAAA record 
                            and well known port assignment.
                        </t>
                        <t>
                            The introduction of IPv6 has led many protocol
                            stacks to issue parallel requests for A and AAAA
                            DNS records. While this practice is out of scope 
                            for DANE protocol, the performance impact may 
                            be relevant.
                        </t>
                    </section>
                    <section title="Extended Discovery">
                        <t>
                            [R-P-EDISC] Support use of extended discovery mechanisms
                            (e.g. SRV, NAPTR, URI) mandated in protocol specification.
                        </t>
                    </section>
                    <section title="Extended Meta-Discovery">
                        <t>
                            [R-P-MDISC] Support use of extended discovery mechanisms
                            (e.g. SRV, NAPTR, URI) selected by local DNS administrator.
                        </t>
                    </section>                    
                </section>
                <section title="DNS Administration">
                    <t>
                    </t>
                    <section title="First Party Deployment">
                        <t>
                            [R-P-LOCAL] Support deployment by local network administration without reference to any other party.
                        </t>
                    </section>
                    <section title="First Party with DNSSEC Deployment">
                        <t>
                            [R-P-LOCALD] Support deployment by local network administration without reference to any other party except for enrollment of DNSSEC KSK.
                        </t>
                    </section>                    
                    <section title="Use of CNAME and other Aliases">
                        <t>
                            [R-P-CNAME] Support use of single CNAME records to establish aliases
                            for a domain name and all associated protocol properties.
                        </t>
                    </section>
                    <section title="Use of Wildcards">
                        <t>
                            [R-P-WILD] Support use of wildcards to establish default
                            properties for all empty domain names within a tree.
                        </t>
                    </section>
                    
                </section>
                <section title="Protocol Specific Properties">

                    <section title="Security Properties">

                        <section title="Opportunistic Enhancement">
                            <t>
                                [R-P-OPP] Support protocol-specific properties to 
                                declare that a security enhancement is offered.
                            </t>
                            <t>
                                Since most Internet traffic is exchanged without 
                                any form of cryptographic security, there is a school
                                of thought that holds that any form of security 
                                enhancement must be an improvement, provided that 
                                the user is not led to believe that the degree of 
                                security offered is greater than it is. 
                            </t>
                            <t>
                                For example, an encryption mode that is vulnerable to 
                                a man in the middle attack is generally to be preferred to
                                performing the same communication in plaintext.
                            </t>
                            <t>
                                The use of DNS based keying and self signed certificates
                                for such purposes has a long history in the IETF.
                            </t>
                        </section>
                        <section title="Strict Security">
                            <t>
                                [R-P-STRICT] Support protocol-specific properties
                                to declare that a security enhancement is offered
                                and that strict compliance is requested.
                            </t>
                            <t>
                                Strict security is similar to opportunistic enhancement
                                except that it is intended to provide protection against 
                                downgrade attack by informing the client that it MUST NOT
                                accept a service connection that does not meet certain
                                security and/or trust criteria.
                            </t>
                        </section>                        
                    </section>
                    <section title="Version Properties">
                        <t>
                            [R-P-VER] Support protocol specific properties such as 
                            identifying the version(s) of a protocol supported by a given
                            service instance.
                        </t>
                    </section>
                </section>
            </section>
        </section>
        <section title="Metrics">
            <t>
            Relevant performance and implementation metrics are specified as a means
            of guiding the selection process.
            </t>
            <section title="Performance Metrics">
                <t>
                When defining performance metrics it is important to consider the 
                performance of the system in which they are to be used rather than
                identifying easily measured but irrelevant properties of isolated
                components.
                </t>
                <t>
                Since the end goal of the application client is to establish a secure
                connection with the server, it is important to consider the performance
                metrics for both discovery and keying related purposes. A proposal
                that obtains the keying material in one round trip that can be performed 
                in parallel with discovery by A-record will in the general case be
                more performant than one that only requires one round trip but the
                resquest cannot be made until after the A-record lookup has completed.
                </t>
                <section title="Bandwidth">
                    <t>
                    DNS requests and responses are typically limited
                    to a single packet in each case and thus bandwidth is normally
                    irrelevant as far as measurement of performance goes.
                    </t>
                </section>                
                <section title="Latency">
                    <t>
                    Latency is a key performance metric for many interactive network 
                    applications. Browser authors report that DNS latency has a major
                    impact on overall user satisfaction [TBS].
                    </t>
                    <t>
                    The extent that a protocol design choice has impact on latency 
                    depends on properties of the DNS that are heavily context dependent
                    and thus do not translate directly into a latency metric. In 
                    particular the time taken to complete a DNS round trip, the failure
                    rate of DNS requests and the retransmit interval are all
                    situation dependent and will have impact on how protocol design
                    properties result in latency.
                    </t>
                    <section title="TCP Fallback">
                        <t>
                        [M-TCP] Probability that a request will result in TCP/IP fallback.
                        </t>
                        <t>
                            Attempts to exchange DNS packets larger than the maximum 
                            packet size supported results in an error and a retry using
                            TCP/IP.
                        </t>
                        <t>
                            In the best case, TCP fallback will result in a major impact on 
                            latency and server performance. In the worst case, TCP fallback 
                            may fail as the mechanism is rarely required in normal DNS 
                            configuration and is frequently misconfigured in middleboxes 
                            such as firewalls.
                        </t>
                    </section>
                    <section title="Round Trip Count">
                        <t>
                            [M-RT] Number of sequential DNS round trips required
                            to address supported use cases.
                        </t>
                        <t>
                            The number of round trips may depend on the circumstances.
                            For example a proposal might require 3 round trips in the 
                            worst case but resolve in 1 round trip in 95% of cases. This
                            may be preferable to a protocol that resolves in 2 round 
                            trips in every case.
                        </t>
                        <t>
                            Implementations may in some cases mitigate the impact of 
                            a proposal requiring multiple round trips through
                            speculative lookups. For example, a protocol requirement to
                            obtain the canonical form of 'www.example.com' before 
                            applying a protocol specific prefix '_http._tcp' will 
                            require two round trips but this can be achieved in a
                            single round trip if www.example.com is in fact canonical
                            and the implementation makes a speculative request for
                            '_http._tcp.www.example.com' at the same time as resolving
                            for the 
                        </t>
                    </section>
                    <section title="DNS Lookup Count">
                        <t>
                            [M-LC] Total number of DNS queries required to address supported 
                            use cases including lookups performed in parallel.
                        </t>
                        <t>
                            If DNS queries were perfectly reliable, a proposal that
                            required ten lookups to be performed in parallel would have
                            essentially the same performance characteristics as a proposal 
                            that only required one.
                        </t>
                        <t>
                        In practice, DNS queries are not perfectly reliable and 
                        a proposal that requires ten lookups rather than one has 
                        roughly ten times the probability of a random failure.
                        Should a failure occur, the client must wait before retransmitting
                        the request. The typical timeout periods being many times
                        the time taken for a round trip.
                        </t>
                        <t>
                        Although preliminary studies [AL] suggest a failure rate for
                        unknown DNS RR codes of approximately 1.5% it is not known what
                        proportion of such requests will never resolve under any 
                        circumstances.
                        </t>
                    </section>
                    
                </section>
                <section title="Caching">
                    <t>
                    [Should say something obvious here]
                    </t>
                </section>
            </section>
            <section title="Implementation Metrics">
                <section title="Number of States">
                    <t>
                        [M-STATES] Code Complexity measured by reference to the
                        number of states required to create an implementation
                        that is not optimized for performance.
                    </t>
                </section>
                <section title="Number of Transitions">
                    <t>
                        [M-TRANS] Code Complexity measured by reference to the
                        number of state transitions required to create an implementation
                        that is not optimized for performance.
                    </t>
                </section>

            </section>
        </section>




        <section title="Security Considerations">
            <t>
            [TBS]
            </t>
        </section>

        <section title="IANA Considerations">
            <t>None</t>
        </section>

    </middle>



    <back>
        <references title="Normative References">
            &RFC1035;
            &RFC2119;

            &RFC4033;
            &RFC4055;
            &RFC5280;            
            &RFC5395;
            <reference anchor="X.509">
                <front>
                    <title>
                        ITU-T Recommendation X.509 (11/2008): Information
                        technology - Open systems interconnection - The
                        Directory: Public-key and attribute certificate
                        frameworks
                    </title>
                    <author>
                        <organization>
                            International Telecommunication Union
                        </organization>
                    </author>
                    <date month="November" year="2008"/>
                </front>
                <seriesInfo name="ITU-T Recommendation" value="X.509"/>
                <format type="HTML" target="http://www.itu.int/itu-t/recommendations/rec.aspx?rec=X.509"/>
            </reference>
            <reference anchor="X.680">
                <front>
                    <title>
                        ITU-T Recommendation X.680 (11/2008): Information
                        technology - Abstract Syntax Notation One (ASN.1):
                        Specification of basic notation
                    </title>
                    <author>
                        <organization>
                            International Telecommunication Union
                        </organization>
                    </author>
                    <date month="November" year="2008"/>
                </front>
                <seriesInfo name="ITU-T Recommendation" value="X.680"/>
                <format type="HTML" target="http://www.itu.int/itu-t/recommendations/rec.aspx?rec=X.680"/>
            </reference>
            <reference anchor="X.690">
                <front>
                    <title>
                        ITU-T Recommendation X.690 (11/2008): Information
                        technology - Abstract Syntax Notation One (ASN.1):
                        Specification of Basic Encoding Rules (BER),
                        Canonical Encoding Rules (CER) and Distinguished
                        Encoding Rules (DER)
                    </title>
                    <author>
                        <organization>
                            International Telecommunication Union
                        </organization>
                    </author>
                    <date month="November" year="2008"/>
                </front>
                <seriesInfo name="ITU-T Recommendation" value="X.690"/>
                <format type="HTML" target="http://www.itu.int/itu-t/recommendations/rec.aspx?rec=X.690"/>
            </reference>
        </references>
        <references title="Non Normative References">
            &RFC3642;
            &RFC4648;                    
            <reference anchor="NIST-ALGS">
                <front>
                    <title>Cryptographic Algorithm Registration</title>
                    <author>
                        <organization abbrev="NIST">
                            National Institute of Standards and Technology
                        </organization>
                    </author>
                    <date day="11" month="March" year="2009"/>
                </front>
                <format type="HTML" target="http://csrc.nist.gov/groups/ST/crypto_apps_infra/csor/algorithms.html"/>
            </reference>
        </references>


    </back>
</rfc>
