


Network Working Group                                           A. Clark
Internet-Draft                                                  Telchemy
Intended status: Standards Track                                   Q. Wu
Expires: November 28, 2013                                        Huawei
                                                               R. Schott
                                                        Deutsche Telekom
                                                                 G. Zorn
                                                             Network Zen
                                                            May 27, 2013


 RTP Control Protocol (RTCP) Extended Report (XR) Blocks for QoE Metric
                               Reporting
                   draft-ietf-xrblock-rtcp-xr-qoe-08

Abstract

   This document defines an RTP Control Protocol (RTCP) Extended Report
   (XR) Block including two new segment types and associated SDP
   parameters that allow the reporting of QoE metrics for use in a range
   of RTP applications.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on November 28, 2013.

Copyright Notice

   Copyright (c) 2013 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Clark, et al.           Expires November 28, 2013               [Page 1]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  QoE Metrics Report Block . . . . . . . . . . . . . . . . .  3
     1.2.  RTCP and RTCP XR Reports . . . . . . . . . . . . . . . . .  3
     1.3.  Performance Metrics Framework  . . . . . . . . . . . . . .  3
     1.4.  Applicability  . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  4
     2.1.  Standards Language . . . . . . . . . . . . . . . . . . . .  4
   3.  QoE Metrics Block  . . . . . . . . . . . . . . . . . . . . . .  5
     3.1.  Metric Block Structure . . . . . . . . . . . . . . . . . .  5
     3.2.  Definition of Fields in QoE Metrics Block  . . . . . . . .  6
       3.2.1.  Single Stream Audio/Video  per SSRC Segment  . . . . .  7
       3.2.2.  Multi-Channel audio per SSRC Segment . . . . . . . . .  8
   4.  SDP Signaling  . . . . . . . . . . . . . . . . . . . . . . . .  9
     4.1.  SDP rtcp-xr-attrib Attribute Extension . . . . . . . . . .  9
     4.2.  Offer/Answer Usage . . . . . . . . . . . . . . . . . . . . 11
   5.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 13
     5.1.  New RTCP XR Block Type value . . . . . . . . . . . . . . . 13
     5.2.  New RTCP XR SDP Parameter  . . . . . . . . . . . . . . . . 13
     5.3.  Contact information for registrations  . . . . . . . . . . 13
     5.4.  New registry of calculation algorithms . . . . . . . . . . 13
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . . 14
   7.  Authors  . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
   8.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 15
   9.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     9.1.  Normative References . . . . . . . . . . . . . . . . . . . 15
     9.2.  Informative References . . . . . . . . . . . . . . . . . . 16
   Appendix A.  Example of User Quality of Experience Evaluation
                for video stream  . . . . . . . . . . . . . . . . . . 17
   Appendix B.  Metrics represented using RFC6390 Template  . . . . . 18
   Appendix C.  Change Log  . . . . . . . . . . . . . . . . . . . . . 20
     C.1.  draft-ietf-xrblock-rtcp-xr-qoe-08  . . . . . . . . . . . . 21
     C.2.  draft-ietf-xrblock-rtcp-xr-qoe-07  . . . . . . . . . . . . 21
     C.3.  draft-ietf-xrblock-rtcp-xr-qoe-06  . . . . . . . . . . . . 21
     C.4.  draft-ietf-xrblock-rtcp-xr-qoe-04  . . . . . . . . . . . . 21
     C.5.  draft-ietf-xrblock-rtcp-xr-qoe-03  . . . . . . . . . . . . 21
     C.6.  draft-ietf-xrblock-rtcp-xr-qoe-02  . . . . . . . . . . . . 21
     C.7.  draft-ietf-xrblock-rtcp-xr-qoe-01  . . . . . . . . . . . . 21
     C.8.  draft-ietf-xrblock-rtcp-xr-qoe-00  . . . . . . . . . . . . 22
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 22



Clark, et al.           Expires November 28, 2013               [Page 2]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


1.  Introduction

1.1.  QoE Metrics Report Block

   This document defines a new block type to augment those defined in
   [RFC3611], for use in a range of RTP applications.

   The new block type provides information on media quality using one of
   several standard metrics.

   The metrics belong to the class of application level metrics defined
   in [RFC6792].

1.2.  RTCP and RTCP XR Reports

   The use of RTCP for reporting is defined in [RFC3550].  [RFC3611]
   defined an extensible structure for reporting using an RTCP Extended
   Report (XR).  This draft defines a new Extended Report block for use
   with [RFC3550] and [RFC3611].

1.3.  Performance Metrics Framework

   The Performance Metrics Framework [RFC6390] provides guidance on the
   definition and specification of performance metrics.  The RTP
   Monitoring Architectures [RFC6792] provides guideline for reporting
   block format using RTCP XR.  The XR Block described in this document
   are in accordance with the guidelines in [RFC6390] and [RFC6792].

1.4.  Applicability

   The QoE Metrics Report Block can be used in any application of RTP
   for which QoE measurement algorithms are defined.

   The factors that affect real-time Audio/Video application quality can
   be split into two categories.  The first category consists of
   transport- dependent factors such as packet loss, delay and jitter
   (which also translates into losses in the playback buffer).  The
   factors in the second category are application-specific factors that
   affect real time application (e.g., video) quality and are
   sensitivity to network errors.  These factors can be but not limited
   to video codec and loss recovery technique, coding bit rate,
   packetization scheme, and content characteristics.

   Compared with application-specific factors, the transport-dependent
   factors sometimes are not sufficient to measure real time media
   quality, since the ability to analyze the real time media in the
   application layer provides quantifiable measurements for subscriber
   Quality of Experience (QoE) that may not be captured in the



Clark, et al.           Expires November 28, 2013               [Page 3]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   transmission layers or from the RTP layer down.  In a typical
   scenario, monitoring of the transmission layers can produce
   statistics suggesting that quality is not an issue, such as the fact
   that network jitter is not excessive.  However, problems may occur in
   the service layers leading to poor subscriber QoE.  Therefore
   monitoring using only network-level measurements may be insufficient
   when application layer media quality is required.

   In order to provide accurate measures of real time media quality when
   transporting real time media across a network, the QoE Metrics is
   highly required which can be conveyed in the RTCP XR packets
   [RFC3611] and may have the following three benefits:

   o  Tuning the content encoder algorithm to satisfy real time data
      quality requirements.
   o  Determining which system techniques to use in a given situation
      and when to switch from one technique to another as system
      parameters change.
   o  Verifying the continued correct operation of an existing system.


2.  Terminology

2.1.  Standards Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

   The terminology used is

      Numeric formats S X:Y

         where S indicates a two's complement signed representation, X
         the number of bits prior to the decimal place and Y the number
         of bits after the decimal place.
         Hence 8:8 represents an unsigned number in the range 0.0 to
         255.996 with a granularity of 0.0039.  S7:8 would represent the
         range -127.996 to +127.996. 0:16 represents a proper binary
         fraction with range
         0.0 to 1 - 1/65536 = 0.9999847
         though note that use of flag values at the top of the numeric
         range slightly reduces this upper limit.  For example, if the
         16- bit values 0xfffe and 0xffff are used as flags for "over-
         range" and "unavailable" conditions, a 0:16 quantity has range
         0.0 to 1 - 3/65536 = 0.9999542





Clark, et al.           Expires November 28, 2013               [Page 4]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


3.  QoE Metrics Block

   Multimedia application QoE metric is commonly expressed as a MOS
   ("Mean Opinion Score"), MOS is on a scale from 1 to 5, in which 5
   represents excellent and 1 represents unacceptable.  MOS scores are
   usually obtained using subjective testing or using objective
   algorithm.  However Subjective testing to estimate the multimedia
   quality may be not suitable for measuring the multimedia quality
   since the results may vary from test to test.  Therefore using
   objective algorithm to calculate MOS scores is recommended.  ITU-T
   recommendations define the methodologies for assessment of the
   performance of multimedia stream
   [G.107][P.564][G.1082][P.1201.1][P.1201.2][P.1202.1][P.NBAMS-HR] and
   provides a method to evaluate QoE estimation algorithms and objective
   model for video and audio.  Hence this document recommends vendors
   and implementers to use these International Telecommunication Union
   (ITU)-specified methodologies to measure parameters when possible.


   This block reports the multimedia application performance or media
   quality beyond the information carried in the standard RTCP packet
   format.  Information is recorded about QoE metric which provides a
   measure that is indicative of the user's view of a service.  The
   measurement of metrics in this block are usually made at the
   receiving end of the RTP stream.  Instances of this Metrics Block
   refer by Synchronization source (SSRC) to the separate auxiliary
   Measurement Information block [RFC6776] which describes measurement
   periods in use (see RFC6776 section 4.2).

   This Metrics Block relies on the measurement period in the
   Measurement Information block indicating the span of the report.
   Senders MUST send this block in the same compound RTCP packet as the
   measurement information block.  Receivers MUST verify that the
   measurement period is received in the same compound RTCP packet as
   this Metrics Block.  If not, this Metrics Block MUST be discarded.

3.1.  Metric Block Structure

   The report block contents are dependent upon a series of flag bits
   carried in the first part of the header.  Not all parameters need to
   be reported in each block.  Flags indicate which are and which are
   not reported.  The fields corresponding to unreported parameters MUST
   be present, but are set to zero.  The receiver MUST ignore any QoE
   Metrics Block with a non-zero value in any field flagged as
   unreported.  The encoding of QoE metrics block payload consists of a
   series of 32 bit units called segments that describe MOS Type, MoS
   algorithm and MoS value.




Clark, et al.           Expires November 28, 2013               [Page 5]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   The QoE Metrics Block has the following format:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     BT=QMB    | I |  Reserved |       Block Length            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                        SSRC of source                         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                          Segment  1                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                          Segment 2                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      ..................
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                          Segment n                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

3.2.  Definition of Fields in QoE Metrics Block

   Block type (BT): 8 bits

      The QoE Metrics Block is identified by the constant <QMB>.

   Interval Metric flag (I): 2 bits

      This field is used to indicate whether the QoE metrics are
      Sampled, Interval or Cumulative metrics [RFC6792]:

         I=10: Interval Duration - the reported value applies to the
         most recent measurement interval duration between successive
         metrics reports.
         I=11: Cumulative Duration - the reported value applies to the
         accumulation period characteristic of cumulative measurements.
         I=01: Sampled Value - the reported value is a sampled
         instantaneous value.

      In this document, the value I=00 is reserved for future use.
      Senders MUST NOT use the values I=00.  If a block is received with
      I=00, the receiver MUST discard the block.

   Reserved: 6 bits

      This field is reserved for future definition.  In the absence of
      such a definition, the bits in this field MUST be set to zero and
      ignored by the receiver (See RFC6709 section 4.2).





Clark, et al.           Expires November 28, 2013               [Page 6]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   Block Length: 16 bits

      The length of this report block in 32-bit words, minus one.  For
      the QoE Metrics Block, the block length is variable length.

   SSRC of source: 32 bits

      As defined in Section 4.1 of [RFC3611].

   Segment i: 32 bits

      There are two segment types defined in this document: single
      stream Audio/Video per SSRC segment, multi-channel audio per SSRC
      segment.  Multi-channel audio per SSRC segment is used to deal
      with the case where Multi-channel audios are carried in one RTP
      stream while single stream Audio/Video per SSRC segment is used to
      deal with the case where each media stream is identified by SSRC
      and sent in separate RTP stream.  The leftmost bit of the segment
      determines its type.  If the leftmost bit of the segment is zero,
      then it is single stream segment.  If the leftmost bit is one,
      then it is multi-channel audio segment.  Note that two segment
      types can not be present in the same metric block.


3.2.1.  Single Stream Audio/Video  per SSRC Segment

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |S|     CAID      |    PT       |           MOS Value           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Segment Type (S): 1 bit

      This field is used to identify the segment type used in this
      report block.  A zero identifies this as a single stream Audio/
      Video per SSRC segment.  Single stream means there is only one
      media stream carried in one RTP stream.  The single stream Audio/
      Video per SSRC segment can be used to report the MoS value
      associated with the media stream identified by SSRC.  If there are
      multiple media streams and they want to use the single stream
      Audio/Video per SSRC segment to report the MOS value, they should
      be carried in the separate RTP streams with each identified by
      different SSRC.  In this case, multiple QoE Metrics Blocks are
      required to report the MOS value corresponding to each media
      stream using single stream Audio/Video per SSRC segment in the
      same RTCP XR packet.






Clark, et al.           Expires November 28, 2013               [Page 7]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   Calg Algorithm ID (CAID) : 8bits

      The 8-bit CAID is the local identifier of calculation algorithm
      associated with this segment in the range 1-255 inclusive.

   Payload Type (PT): 7 bits

      QoE metrics reporting depends on the payload format in use.  This
      field identifies the format of the RTP payload.  For RTP sessions
      where multiple payload formats can be negotiated or the payload
      format changes during the mid-session), the value of this field
      will be used to indicate what payload format was in use for the
      reporting interval.

   MOS Value: 16 bits

      The estimated mean opinion score for multimedia application
      performance is defined as including the effects of delay,loss,
      discard,jitter and other effects that would affect media quality.
      It is expressed in numeric format 8:8 with the value in the range
      0.0 to 255.996.  The valid the measured value ranges from 0.0 to
      50.0, corresponding to MoS x 10 as for MoS.  If the measured value
      is over ranged, the value 0xFFFE MUST be reported to indicate an
      over-range measurement.  If the measurement is unavailable, the
      value 0xFFFF MUST be reported.  Values other than 0xFFFE,0xFFFF
      and the valid range defined above MUST NOT be sent and MUST be
      ignored by the receiving system.


3.2.2.  Multi-Channel audio per SSRC Segment

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |S|     CAID      |    PT       |CHID |        MOS Value        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Segment Type (S): 1 bit

      This field is used to identify the segment type used in this
      report block.  A one identifies this as a multi-channel audio
      segment.

   CAlg Algorithm ID (CAID) : 8bits

      The 8-bit ID is the local identifier of this segment in the range
      1-255 inclusive.






Clark, et al.           Expires November 28, 2013               [Page 8]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   Payload Type (PT): 7 bits

      As defined in Section 3.2.1 of this document.

   Channel Identifier (CHID): 3 bits

      If multiple channels of audio are carried in one RTP stream, each
      channel of audio will be viewed as a independent channel(e.g.,
      left channel audio, right channel audio).  This field is used to
      identify each channel carried in the same media stream.  The
      default Channel mapping follows static ordering rule described in
      the section 4.1 of [RFC3551].  However there are some payload
      formats that use different channel mappings, e.g., AC-3 audio over
      RTP [RFC4184] only follow AC-3 channel order scheme defined in
      [ATSC].  Enhanced AC-3 Audio over RTP [RFC4598] uses dynamic
      channel transform mechanism.  In order that the appropriate
      channel mapping can be determined, QoE reports need to be tied to
      an RTP payload format, i.e., including the payload type of the
      reported media according to [RFC6792] and using Payload Type to
      determine the appropriate channel mapping.

   MOS Value: 13 bits

      The estimated mean opinion score for multimedia application
      performance is defined as including the effects of delay,loss,
      discard,jitter and other effects that would affect multimedia
      quality .  It is expressed in numeric format 6:7 with the value in
      the range 0.0 to 63.992.  The valid the measured value ranges from
      0.0 to 50.0, corresponding to MoS x 10 as for MoS.  If the
      measured value is over ranged, the value 0x1FFE MUST be reported
      to indicate an over-range measurement.  If the measurement is
      unavailable, the value 0x1FFF MUST be reported.  Values other than
      0x1FFE,0x1FFF and the valid range defined above MUST NOT be sent
      and MUST be ignored by the receiving system.



4.  SDP Signaling

   [RFC3611] defines the use of SDP (Session Description Protocol)
   [RFC4566] for signaling the use of XR blocks.  However XR blocks MAY
   be used without prior signaling (see section 5 of RFC3611).

4.1.  SDP rtcp-xr-attrib Attribute Extension

   This section augments the SDP [RFC4566] attribute "rtcp-xr" defined
   in [RFC3611] by providing an additional value of "xr-format" to
   signal the use of the report block defined in this document.  Within



Clark, et al.           Expires November 28, 2013               [Page 9]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   the "xr-format", the syntax element "extmap" is an attribute as
   defined in [RFC4566] and used to signal the mapping of the local
   identifier (CAID) in the segment extension defined in section 3.2 to
   the calculation algorithm.  Specific extensionattributes are defined
   by the specification that defines a specific extension name; there
   may be several.

   xr-format =/ xr-qoe-block
   xr-qoe-block = "qoe-metrics" ["=" extmap *("," extmap)]
   extmap =  mapentry "=" extensionname [SP extentionattributes]
   direction = "sendonly" / "recvonly" / "sendrecv" / "inactive"
   mapentry =  "calg:" 1*5 DIGIT ["/" direction]
   extensionname = "P564";ITU-T P.564 Compliant Algorithm [P.564]
                 / "G107";ITU-T G.107 [G.107]
                 / "TS101_329";ETSI TS 101 329-5 Annex E [ ETSI]
                 /"JJ201_01 ";TTC JJ201.01 [TTC]
                 /"P1201_01";ITU-T P.1201.2 [P.1201.1]
                 /"P1201_02";ITU-T P.1201.2 [P.1201.2]
                 /"P1202_01";ITU-T P.1202.1 [P.1202.1]
                 /"P1202_02";ITU-T P. NBAMS-HR [P.NBAMS-HR]
                 / non-ws-string
   extentionattributes = mosref
                       /attributes-ext
   mosref =  "mosref=" ("l"; lower resolution
                      / "h";higher resolution
                      / "lh";both lower resolution and
                      ;high resolution are supported
                      / non-ws-string
   attributes-ext = non-ws-string
   SP = <Define in RFC5234>
   non-ws-string  = 1*(%x21-FF)

   Each local identifier (CAID)of calculation algorithm used in the
   segment defined in the section 3.2 is mapped to a string using an
   attribute of the form:

   a=extmap:<value> ["/"<direction>] <name> [<extensionattributes>]

   where <name> is a calculation algorithm name, as above, <value> is
   the local identifier (CAID)of the calculation algorithm associated
   with the segment defined in this document and is an integer in the
   valid range inclusive.

   Example:
   a = rtcp-xr:qoe-metrics = calg:1=G107,calg:2=P1202.1

   A usable mapping MUST use IDs in the valid range, and each ID in this
   range MUST be unique and used only once for each stream or each



Clark, et al.           Expires November 28, 2013              [Page 10]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   channel in the stream.

   The mapping MUST be provided per media stream (in the media-level
   section(s) of SDP, i.e., after an "m=" line).

   The syntax element "mosref" is referred to the media resolution(e.g.,
   Narrowband (3.4kHz) Speech and Standard Definition (SD) Resolution
   Video with lower resolution, Wideband (7kHz) Speech and High
   Definition (HD) Resolution Video with higher resolution).  MOS scores
   reported in the QoE block may vary with the MoS reference; For
   example MOS values for narrowband, wideband codecs occupy the same
   range but should be reported in different value.  For video
   application, MoS scores for SD resolution, HD resolution video also
   occupy the same ranges and should be reported in different value.

4.2.  Offer/Answer Usage

   When SDP is used in offer-answer context, the SDP Offer/Answer usage
   defined in [RFC3611] applies.  In the offer answer context, the
   signaling described above may be used in three ways:

   o  asymmetric behavior (segment extensions sent in only one
      direction),
   o  the offer of mutually exclusive alternatives, or
   o  the offer of more segments than can be sent in a single session.

   A direction attribute MAY be included in an extmap; without it, the
   direction implicitly inherits, of course, from the RTCP stream
   direction.

   Segment extension, with their directions, may be signaled for an
   "inactive" stream.  It is an error to use an extension direction
   incompatible with the stream direction (e.g., a "sendonly" attribute
   for a "recvonly" stream).

   If an segment extension is offered as "sendrecv", explicitly or
   implicitly, and asymmetric behavior is desired, the SDP may be
   modified to modify or add direction qualifiers for that segment
   extension.

   A mosref attribute MAY be included in an extmap; without it, the
   mosref implicitly inherits, of course, from the name attribute (e.g.,
   P.1201.1 [P.1201.1] indicates lower resolution used while P.1201.2
   [P.1201.2] indicates higher resolution used) or payload type carried
   in the segment extension (e.g.,EVRC-WB [RFC5188] indicates using
   Wideband Codec).  However not all payload types or MoS algorithm
   names indicates resolution to be used.




Clark, et al.           Expires November 28, 2013              [Page 11]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   If an segment extension is offered as "lh", explicitly, and
   asymmetric behavior is desired, the SDP may be modified to modify
   mosref attribute value for that segment extension.

   If an answerer receives an offer with an mosref attribute value it
   doesn't support (e.g.,the answerer only supports "l" and receives
   "h"from offerer), the answer should reject the mosref attribute value
   offered by the offerer.

   If the answerer wishes to reject a mosref attribute offered by the
   offerer, it sets identifiers associated with segment extensions in
   the answer to the value in the range 4096-4351.  The rejected answer
   MUST contain 'mosref ' attribute whose value is the value of the SDP
   offer.

   Local identifiers in the valid range inclusive in an offer or answer
   must not be used more than once per media section.  A session update
   MAY change the direction qualifiers of segment extensions under use.
   A session update MAY add or remove segment extension(s).  Identifiers
   values in the valid range MUST NOT be altered (remapped).

   If a party wishes to offer mutually exclusive alternatives, then
   multiple segment extensions with the same identifier in the
   (unusable) range 4096-4351 may be offered; the answerer should select
   at most one of the offered extensions with the same identifier, and
   remap it to a free identifier in the valid range, for that extension
   to be usable.  Note that two segment types defined in section 3 are
   also two exclusive alternatives.

   If more segment extensions are offered in the valid range, the
   answerer should choose those that are desired, and place the offered
   identifier value "as is" in the SDP answer.

   Similarly, if more segment extensions are offered than can be fit in
   the valid range, identifiers in the range 4096-4351 may be offered;
   the answerer should choose those that are desired, and remap them to
   a free identifier in the valid range.

   Note that the range 4096-4351 for these negotiation identifiers is
   deliberately restricted to allow expansion of the range of valid
   identifiers in future.  Segment extensions with an identifier outside
   the valid range cannot, of course, be used.

   Example (port numbers, RTP profiles, payload IDs and rtpmaps, etc.
   all omitted for brevity):

   The offer:




Clark, et al.           Expires November 28, 2013              [Page 12]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   a=rtcp-xr:qoe-
   metrics=calg:4906=P1201.1l,calg:4906=P1202.1l,calg:4907=G107

   The answerer is interested in transmission P.1202.1 on lower
   resolution application, but doesn't support P.1201.1 on lower
   resolution application at all.  It is interested in transmission
   G.107.  It therefore adjusts the declarations:

   a=rtcp-xr:qoe-metrics=calg:1=P1202.1l, calg:2=G107


5.  IANA Considerations

   New block types for RTCP XR are subject to IANA registration.  For
   general guidelines on IANA considerations for RTCP XR, refer to
   [RFC3611].

5.1.  New RTCP XR Block Type value

   This document assigns the block type value QMB in the IANA "RTCP XR
   Block Type Registry" to the "QoE Metrics Block".

   [Note to RFC Editor: please replace QMB with the IANA provided RTCP
   XR block type for this block.]

5.2.  New RTCP XR SDP Parameter

   This document also registers a new parameter "qoe-metrics" in the
   "RTCP XR SDP Parameters Registry".

5.3.  Contact information for registrations

   The contact information for the registrations is:

                    Qin Wu
                    sunseawq@huawei.com
                    101 Software Avenue, Yuhua District
                    Nanjing, JiangSu 210012 China

5.4.  New registry of calculation algorithms

   This document creates a new registry to be called "RTCP XR QoE metric
   block - multimedia application Calculation Algorithm" as a sub-
   registry of the "RTP Control Protocol Extended Reports (RTCP XR)
   Block Type Registry".  This registry applies to the multimedia
   session where each type of media are sent in a separate RTP stream
   and also applies to the session where Multi-channel audios are
   carried in one RTP stream.  Policies for this new registry are as



Clark, et al.           Expires November 28, 2013              [Page 13]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   follows:

   o  The information required to support this assignment is an
      unambiguous definition of the new metric, covering the base
      measurements and how they are processed to generate the reported
      metric.

   o  The review process for the registry is "Specification Required" as
      described in Section 4.1 of [RFC5226].

   o  Entries in the registry are identified by entry name and mapped to
      the local identifier (CAID) in the segment extension defined in
      section 3.2.

   o  Registration Template

      The following information must be provided with each registration:
      *  Name: A string uniquely and unambiguously identifying the
         Calculation algorithm for use in protocols.
      *  Name Description: A valid Description of the Calculation
         algorithm name.
      *  Reference: The reference which defines the calculation
         algorithm corresponding to the Name and Name Description.
      *  Type: The media type to which the calculation algorithm is
         applied

   o  Initial assignments are as follows:

Name             Name Description                  Reference    Type
=========   ===================================   ==========    ====
P564       ITU-T P.564 Compliant Algorithm        [P.564]        Voice
G107       ITU-T G.107                            [G.107]        Voice
TS101_329  ETSI TS 101 329-5 Annex E              [ETSI]         Voice
JJ201_01   TTC JJ201.01                           [TTC]          Voice
P1201_01   ITU-T P.1201.01                    [P.1201.1]      Multimedia
P1201_02   ITU-T P.1201.02                    [P.1201.2]      Multimedia
P1202_01   ITU-T P.1202.01                   [P.1202.01]         Video
P1202_02   ITU-T P. NBAMS-HR               [P. NBAMS-HR]         Video


6.  Security Considerations

   The new RTCP XR report blocks proposed in this document introduces no
   new security considerations beyond those described in [RFC3611].







Clark, et al.           Expires November 28, 2013              [Page 14]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


7.  Authors

   This draft merges ideas from two drafts addressing the QoE metric
   Reporting issue.  The authors of these drafts are listed below (in
   alphabetical order):

      Alan Clark < alan.d.clark@telchemy.com >
      Geoff Hunt < r.geoff.hunt@gmail.com >
      Martin Kastner < martin.kastner@telchemy.com >
      Kai Lee < leekai@ctbri.com.cn >
      Roland Schott < roland.schott@telekom.de >
      Qin Wu < sunseawq@huawei.com >
      Glen Zorn < gwz@net-zen.net >


8.  Acknowledgements

   The authors gratefully acknowledge the comments and contributions
   made by Bruce Adams, Philip Arden, Amit Arora, Bob Biskner, Kevin
   Connor, Claus Dahm, Randy Ethier, Roni Even, Jim Frauenthal, Albert
   Higashi, Tom Hock, Shane Holthaus, Paul Jones, Rajesh Kumar, Keith
   Lantz, Mohamed Mostafa, Amy Pendleton, Colin Perkins, Mike Ramalho,
   Ravi Raviraj, Albrecht Schwarz, Tom Taylor, Bill Ver Steeg, David R
   Oran, Ali Begen and Hideaki Yamada.


9.  References

9.1.  Normative References

   [ATSC]     U.S. Advanced Television Systems Committee (ATSC), "ATSC
              Standard: Digital Audio Compression (AC-3), Revision B",
              ATSC Doc A/52B, June 2005.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3550]  Schulzrinne, H., "RTP: A Transport Protocol for Real-Time
              Applications", RFC 3550, July 2003.

   [RFC3551]  Schulzrinne, H. and S. Casner, "RTP Profile for Audio and
              Video Conferences with Minimal Control", RFC 3551,
              July 2003.

   [RFC3611]  Friedman, T., Caceres, R., and A. Clark, "RTP Control
              Protocol Extended Reports (RTCP XR)", RFC 3611,
              November 2003.




Clark, et al.           Expires November 28, 2013              [Page 15]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   [RFC4566]  Handley, M., Jacobson, V., and C. Perkins, "SDP: Session
              Description Protocol", RFC 4566, July 2006.

   [RFC5226]  Narten, T., "Guidelines for Writing an IANA Considerations
              Section in RFCs", RFC 5226, May 2008.

   [RFC5234]  Crocker, D. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, RFC 5234, January 2008.

   [RFC6776]  Wu, Q., "Measurement Identity and information Reporting
              using SDES item and XR Block", RFC 6776, October 2012.

9.2.  Informative References

   [ETSI]     ETSI, "Quality of Service (QoS) measurement
              methodologies", ETSI TS 101 329-5 V1.1.1, November 2000.

   [G.107]    ITU-T, "The E Model, a computational model for use in
              transmission planning", ITU-T Recommendation G.107,
              April 2009.

   [G.1082]   ITU-T, "Measurement-based methods for improving the
              robustness of IPTV performance", ITU-T
              Recommendation G.1082, April 2009.

   [P.1201.1]
              ITU-T, "Parametric non-intrusive assessment of audiovisual
              media streaming quality - lower resolution application
              area", ITU-T Recommendation P.1201.1, October 2012.

   [P.1201.2]
              ITU-T, "Parametric non-intrusive assessment of audiovisual
              media streaming quality - higher resolution application
              area", ITU-T Recommendation P.1201.2, October 2012.

   [P.1202.1]
              ITU-T, "Parametric non-intrusive bitstream assessment of
              video media streaming quality - lower resolution
              application area", ITU-T Recommendation P.1202.1,
              October 2012.

   [P.564]    ITU-T, "Conformance testing for narrowband Voice over IP
              transmission quality assessment models", ITU-T
              Recommendation P.564, July 2006.

   [P.NBAMS-HR]
              ITU-T, "Parametric non-intrusive bitstream assessment of
              video media streaming quality - higher resolution



Clark, et al.           Expires November 28, 2013              [Page 16]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


              application area", ITU-T Recommendation P.NBAMS-HR,
              October 2012.

   [RFC4184]  Link, B., Hager, T., and J. Flaks, "RTP Payload Format for
              AC-3 Audio", RFC 4184, October 2005.

   [RFC4598]  Link, B., "Real-time Transport Protocol (RTP) Payload
              Format for Enhanced AC-3 (E-AC-3) Audio", RFC 4598,
              July 2006.

   [RFC5188]  Desineni, H. and Q. Xie, "RTP Payload Format for the
              Enhanced Variable Rate Wideband Codec (EVRC-WB) and the
              Media Subtype Updates for EVRC-B Codec", RFC 5188,
              February 2008.

   [RFC6390]  Clark, A. and B. Claise, "Framework for Performance Metric
              Development", RFC 6390, October 2011.

   [RFC6792]  Wu, Q., "Monitoring Architectures for RTP", RFC 6792,
              November 2012.

   [TTC]      TTC 201.01 (Japan), "A method for speech quality
              assessment for Voice over IP".


Appendix A.  Example of User Quality of Experience Evaluation for video
             stream

   To evaluate user quality of experience levels using objective test
   data, MoS Scores provide a familiar, easily understood numeric
   representation of video, audio, and overall audiovisual quality.
   Unlike audio, video is even more sensitive to transport impairments ,
   and even low rates of packet loss can cause severe degradation in
   perceived quality.  However, all occurrences of packet loss do not
   have an equal impact on perceptual quality, in part because of the
   way video frames are structured during the encoding process - such as
   frame properties including frame type, frame structure and
   quantization parameter (QP), and in part due to subjective factors -
   such as the degree to which perception is affected by the levels of
   motion, detail in the video sequence, and decoder characteristic
   parameters including media resolution,codec type.  When a video
   stream is sent from the media source to RTP receiving end and get
   monitored. in order to provide accurate evaluation of video quality,
   one possible QoE evaluation method is having network nodes that
   implement network management tools in place.  They may know frame
   properties,perception degree, decoder characteristic parameters of
   this video stream using some out of band means, gather transport
   impairment information received from the RTP receiving end and use



Clark, et al.           Expires November 28, 2013              [Page 17]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   them as MoS calculation input parameters to calculate MoS scores by
   choosing appropriate MoS calculation algorithm.  Such MoS Scores
   value can be useful for troubleshooting or comparing video quality
   across different service types.


Appendix B.  Metrics represented using RFC6390 Template

   RFC EDITOR NOTE: please change XXXX in [RFCXXXX] by the new RFC
   number, when assigned.

   a.  MoS Value Metric

       *  Metric Name: Mos value

       *  Metric Description: The estimated mean opinion score for
          multimedia application performance is defined as including the
          effects of delay,loss, discard,jitter and other effects that
          would affect multimedia quality.

       *  Method of Measurement or Calculation: See section 3.2.1, MoS
          value definition [RFCXXXX].

       *  Units of Measurement: See section 3.2.1, MoS value definition
          [RFCXXXX].

       *  Measurement Point(s) with Potential Measurement Domain: See
          section 3, 2nd paragraph [RFCXXXX].

       *  Measurement Timing: See section 3, 3rd paragraph [RFCXXXX] for
          measurement timing and section 3.1 [RFCXXXX] for Interval
          Metric flag.

       *  Use and applications: See section 1.4 [RFCXXXX].

       *  Reporting model: See RFC3611.

   b.  Segment Type Metric

       *  Metric Name: Segment Type

       *  Metric Description: It is used to identify the segment type
          used in this report block.  For more details, see section
          3.2.1, Segment type definition.

       *  Method of Measurement or Calculation: See section 3.2.1,
          Segment Type definition [RFCXXXX].




Clark, et al.           Expires November 28, 2013              [Page 18]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


       *  Units of Measurement: See section 3.2.1, Segment Type
          definition [RFCXXXX].

       *  Measurement Point(s) with Potential Measurement Domain: See
          section 3, 2nd paragraph [RFCXXXX].

       *  Measurement Timing: See section 3, 3rd paragraph [RFCXXXX] for
          measurement timing and section 3.1 [RFCXXXX] for Interval
          Metric flag.

       *  Use and applications: See section 1.4 [RFCXXXX].

       *  Reporting model: See RFC3611.

   c.  Calg Algorithm Identifier Metric

       *  Metric Name: Calg Algorithm Identifier

       *  Metric Description: It is the local identifier of calculation
          Algorithm associated with this segment in the range 1-255
          inclusive.

       *  Method of Measurement or Calculation: See section 3.2.1, Calg
          Algorithm ID definition [RFCXXXX].

       *  Units of Measurement: See section 3.2.1, Calg Algorithm ID
          definition[RFCXXXX].

       *  Measurement Point(s) with Potential Measurement Domain: See
          section 3, 2nd paragraph [RFCXXXX].

       *  Measurement Timing: See section 3, 3rd paragraph [RFCXXXX] for
          measurement timing and section 3.1 [RFCXXXX] for Interval
          Metric flag.

       *  Use and applications: See section 1.4 [RFCXXXX].

       *  Reporting model: See RFC3611.

   d.  Payload Type Metric

       *  Metric Name: Payload Type

       *  Metric Description: It is used to identify the format of the
          RTP payload.  For more details, see section 3.2.1, payload
          type definition.





Clark, et al.           Expires November 28, 2013              [Page 19]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


       *  Method of Measurement or Calculation: See section 3.2.1,
          Payload type definition [RFCXXXX].

       *  Units of Measurement: See section 3.2.1, payload type
          definition[RFCXXXX].

       *  Measurement Point(s) with Potential Measurement Domain: See
          section 3, 2nd paragraph [RFCXXXX].

       *  Measurement Timing: See section 3, 3rd paragraph [RFCXXXX] for
          measurement timing and section 3.1 [RFCXXXX] for Interval
          Metric flag.

       *  Use and applications: See section 1.4 [RFCXXXX].

       *  Reporting model: See RFC3611.

   e.  Channel Identifier Metric

       *  Metric Name: Payload Type

       *  Metric Description: It is used to identify each channel
          carried in the same media stream.  For more details, see
          section 3.2.2, channel identifier definition.

       *  Method of Measurement or Calculation: See section 3.2.2,
          Channel Identifier definition [RFCXXXX].

       *  Units of Measurement: See section 3.2.2, channel identifier
          definition[RFCXXXX].

       *  Measurement Point(s) with Potential Measurement Domain: See
          section 3, 2nd paragraph [RFCXXXX].

       *  Measurement Timing: See section 3, 3rd paragraph [RFCXXXX] for
          measurement timing and section 3.1 [RFCXXXX] for Interval
          Metric flag.

       *  Use and applications: See section 1.4 [RFCXXXX].

       *  Reporting model: See RFC3611.



Appendix C.  Change Log






Clark, et al.           Expires November 28, 2013              [Page 20]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


C.1.  draft-ietf-xrblock-rtcp-xr-qoe-08

   The following are the major changes compared to previous version:
   o  Remove mostype attribute from SDP extension since it can inferred
      from payload type.
   o  Clarify mosref attribute usage in the O/A.

C.2.  draft-ietf-xrblock-rtcp-xr-qoe-07

   The following are the major changes compared to previous version:
   o  Some editorial changes to get in line with burst gap related
      draft.
   o  Add an appendix to apply RFC6390 template.

C.3.  draft-ietf-xrblock-rtcp-xr-qoe-06

   The following are the major changes compared to previous two
   versions:
   o  A few Contact information update.
   o  A few Acknowledgement section update.

C.4.  draft-ietf-xrblock-rtcp-xr-qoe-04

   The following are the major changes compared to previous version:
   o  Split two references P.NAMS and P.NBAMS into four references.
   o  SDP signaling update.
   o  Add one example to explain User QoE evaluation for video stream

C.5.  draft-ietf-xrblock-rtcp-xr-qoe-03

   The following are the major changes compared to previous version:
   o  Add one new reference to support TTC JJ201.01.
   o  Update two references P.NAMS and P.NBAMS.
   o  Other Editorial changes based on comments applied to PDV and Delay
      drafts.

C.6.  draft-ietf-xrblock-rtcp-xr-qoe-02

   The following are the major changes compared to previous version:
   o  Remove leftmost second bit since it is ueeless.
   o  Change 13bits MoS value field into 14 bits to increase MoS
      precision.
   o  Fix some typo and make some editorial changes.

C.7.  draft-ietf-xrblock-rtcp-xr-qoe-01

   The following are the major changes compared to previous version:




Clark, et al.           Expires November 28, 2013              [Page 21]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   o  Remove layered support from the QoE metric draft.
   o  Allocate 7 bits in the block header for payload type to indicate
      what type of payload format is in use and add associated
      definition of payload type.
   o  Clarify using Payload Type to determine the appropriate channel
      mapping in the definition of Channel Identifier.

C.8.  draft-ietf-xrblock-rtcp-xr-qoe-00

   The following are the major changes compared to previous version:
   o  Allocate one more bit in the single stream per SSC segment to get
      alignment with the other two segment type.


Authors' Addresses

   Alan Clark
   Telchemy Incorporated
   2905 Premiere Parkway, Suite 280
   Duluth, GA  30097
   USA

   Email: alan.d.clark@telchemy.com


   Qin Wu
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: sunseawq@huawei.com


   Roland Schott
   Deutsche Telekom
   Heinrich-Hertz-Strasse 3-7
   Darmstadt  64295
   Germany

   Email: Roland.Schott@telekom.de










Clark, et al.           Expires November 28, 2013              [Page 22]

Internet-Draft          RTCP XR QoE Report Blocks               May 2013


   Glen Zorn
   Network Zen
   77/440 Soi Phoomjit, Rama IV Road
   Phra Khanong, Khlong Toie
   Bangkok  10110
   Thailand

   Phone: +66 (0) 87 502 4274
   Email: gwz@net-zen.net










































Clark, et al.           Expires November 28, 2013              [Page 23]

