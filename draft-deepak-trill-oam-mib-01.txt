 



TRILL Working Group                                         Deepak Kumar
Internet Draft                                               Samer Salam
Intended Status: Standard Track                       Tissa Senevirathne
                                                                   Cisco
Expires April 2014                                          Oct 19, 2013

                             TRILL OAM MIB
                   draft-deepak-trill-oam-mib-01.txt

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on November 08, 2013.

Copyright Notice

   Copyright (c) 2013 IETF Trust and the persons identified as the
   document authors.  All rights reserved.   

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.

Abstract          

   This defines Management Information Base (MIB) for the IETF TRILL
   (Transparent Interconnection of Lots of Links) OAM objects.
 


Kumar et al.             Expires April 22, 2014                 [Page 1]

Internet Draft               TRILL OAM MIB              October 19, 2013


















































 


Kumar et al.             Expires April 22, 2014                 [Page 2]

Internet Draft               TRILL OAM MIB              October 19, 2013


Table of Contents

   1. Introduction  . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2. The Internet-Standard Management Framework  . . . . . . . . . .  3
   3. Overview  . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
   4. Conventions . . . . . . . . . . . . . . . . . . . . . . . . . .  4
   5. Structure of the MIB module . . . . . . . . . . . . . . . . . .  4
     5.1. Textual Conventions . . . . . . . . . . . . . . . . . . . .  4
     5.2.  TRILL-OAM-MIB relationship to IEEE8021-TC-MIB  . . . . . .  4
     5.3.  TRILL OAM MIB Tree . . . . . . . . . . . . . . . . . . . .  5
       5.3.1.  Notifications  . . . . . . . . . . . . . . . . . . . .  5
       5.3.2. TRILL OAM MIB Per MEP Objects . . . . . . . . . . . . .  5
         5.3.2.1. trillOamMepTable Objects  . . . . . . . . . . . . .  5
         5.3.2.2. trillOamMepFlowCfgTable Objects . . . . . . . . . .  8
         5.3.2.3. trillOamPtrTable Objects  . . . . . . . . . . . . .  8
         5.3.2.4. trillOamMtrTable Objects  . . . . . . . . . . . . . 10
         5.3.2.4. trillOamMepDbTable Objects  . . . . . . . . . . . . 12
   6. Relationship to other MIB module  . . . . . . . . . . . . . . . 12
     6.1. Relationship to IEEE8021-CFM-MIB  . . . . . . . . . . . . . 13
     6.2.  MIB modules required for IMPORTS . . . . . . . . . . . . . 13
   7. Definition of the TRILL OAM MIB module  . . . . . . . . . . . . 13
   8. Security Considerations . . . . . . . . . . . . . . . . . . . . 47
   9. IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 48
   10.  Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . 48
   11.  References  . . . . . . . . . . . . . . . . . . . . . . . . . 48
     11.1.  Normative References  . . . . . . . . . . . . . . . . . . 48
     11.2.  Informative References  . . . . . . . . . . . . . . . . . 49
   12.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . 49



1. Introduction

   The general framework for TRILL OAM is specified in [TRILLOAMFRM].
   The details of the Fault Management [FM] solution, conforming to that
   framework, are presented in [TRILLOAMFM]. The solution leverages the
   message format defined in Ethernet Connectivity Fault Management
   (CFM) [802.1Q] as the basis for the TRILL OAM message channel.

   This document uses the CFM MIB modules defined in [802.1Q] as the
   basis for TRILL OAM MIB, and augments the existing tables to add new
   TRILL managed objects. The document further defines a new table with
   associated managed objects for TRILL OAM specific functionality.

2. The Internet-Standard Management Framework

   For a detailed overview of the Internet-Standard Management
   Framework, please refer to [RFC3410]. Managed objects are accessed
 


Kumar et al.             Expires April 22, 2014                 [Page 3]

Internet Draft               TRILL OAM MIB              October 19, 2013


   via a virtual information store, termed the Management Information
   Base or MIB. MIB objects are generally accessed through the Simple
   Network Management Protocol (SNMP). Objects in the MIB are defined
   using the Structure of Management Information (SMI) specification.
   This memo specifies a MIB module that is compliant to SMIv2
   [RFC2578], [RFC2579] and [RFC2580].

3. Overview

   The TRILL-OAM-MIB module is intended to provide an overall framework
   for managing TRILL OAM. It leverages the IEEE8021-CFM-MIB and
   IEEE8021-CFM-V2-MIB modules defined in [802.1Q], and augments the Mep
   and Mep Db entries. It also adds a new table for TRILL OAM specific
   messages.

4. Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC-2119 [RFC2119]. 

5. Structure of the MIB module

   Objects in this MIB module are arranged into subtrees. Each subtree
   is organized as a set of related objects. The various subtrees are
   shown below, supplemented with the required elements of the IEEE8021-
   CFM-MIB module.

5.1. Textual Conventions

   Textual conventions are defined to represent object types relevant to
   the TRILL OAM MIB. 

5.2.  TRILL-OAM-MIB relationship to IEEE8021-TC-MIB

   In TRILL, traffic labeling can be done using either a 12-bit VLAN or
   a 24-bit fine grain label. 

   IEEE8021-TC-MIB defines IEEE8021ServiceSelectorType with two values: 

   - 1 representing a vlanId, and 

   - 2 representing a 24 bit isid. 

   We propose to use value 2 for TRILL's fine grain label. As such,
   TRILL-OAM-MIB will import IEEE8021ServiceSelectorType,
   IEEE8021ServiceSelectorValueOrNone, and IEEE8021ServiceSelectorValue
   from IEEE8021-TC-MIB.
 


Kumar et al.             Expires April 22, 2014                 [Page 4]

Internet Draft               TRILL OAM MIB              October 19, 2013


5.3.  TRILL OAM MIB Tree

   TRILL-OAM-MIB

     |--trillOamNotifications

        |--trillOamFaultAlarm

     |--trillOamMibObjects

        |--trillOamMep

           |--trillOamMepTable

           |--trillOamMepFlowCfgTable

           |--trillOamPtrTable

           |--trillOamMtrTable

           |--trillOamMepDbTable

5.3.1.  Notifications

   Notification (fault alarm) is sent to the management entity with the
   OID of the MEP that has detected the fault.

5.3.2. TRILL OAM MIB Per MEP Objects

   The TRILL OAM MIB Per MEP Objects are defined in the
   trillOamMepTable. The trillOamMepTable augments the dot1agCfmMepEntry
   (please see section 6.1) defined in IEEE8021-CFM-MIB. It includes
   objects that are locally defined for an individual MEP and its
   associated Flow.

5.3.2.1. trillOamMepTable Objects

         o trillOamMepRName - This object contains the Rbridge Nickname
         as defined in RFC 6325 section 3.7.

         o trillOamMepPtmTId - indicates the next sequence
         number/transaction identifier to be sent in a Path Trace
         message. The sequence number may be zero because it wraps
         around.

         o trillOamMepNexttMtmTId - indicates the next sequence
         number/transaction identifier to be sent in a Multi-destination
         message. The sequence number may be zero because it wraps
 


Kumar et al.             Expires April 22, 2014                 [Page 5]

Internet Draft               TRILL OAM MIB              October 19, 2013


         around.

         o trillOamMepMepPtrIn - indicates the total number of valid,
         in-order, Path Trace Replies received.

         o trillOamMepPtrInOutofOrder - indicates the total number of
         valid, out-of-order, Path Trace Replies received.

         o trillOamMepPtrOut - indicates the total number of valid Path
         Trace Replies transmitted.

         o trillOamMepMtrIn - indicates the total number of valid, in-
         order, Multi-destination Replies received.

         o trillOamMepMtrInOutofOrder - indicates the total number of
         valid, out-of-order, Multi-destination Replies received.

         o trillOamMepMtrOut - indicates the total number of valid
         Multi-destination Replies transmitted.

         o trillOamMepTxLbmDestRName - indicates the target destination
         Rbridge NickName as defined in [RFC6325] section 3.7.

         o trillOamMepTxLbmHC - indicates the hop count field to be
         transmitted.

         o trillOamMepTxLbmReplyModeOob - True indicates that the Reply
         Mode of the Loopback message is requested to be out-of-band,
         and that the "Out of band IP address" TLV is to be transmitted.
         False indicates that in-band reply is transmitted.

         o trillOamMepTransmitLbmReplyIp - indicates the IP address to
         be transmitted in the "Out of band IP Address TLV" in the
         Loopback message.

         o trillOamMepTxLbmFlowEntropy - indicates the 128 bytes Flow
         entropy to be transmitted, as defined in [TRILLOAMFM].

         o trillOamMepTxPtmDestRName - indicates the target Destination
         Rbridge Nickname to be transmitted, as defined in [RFC6325]
         section 3.7.

         o trillOamMepTxPtmHC - indicates the hop count field to be
         transmitted.

         o trillOamMepTxPtmReplyModeOob - True indicates that the Reply
         Mode of the Path Trace message is requested to be out-of-band,
         and that the "Out of band IP address TLV" is to be transmitted.
 


Kumar et al.             Expires April 22, 2014                 [Page 6]

Internet Draft               TRILL OAM MIB              October 19, 2013


         False indicates that in-band reply is transmitted.

         o trillOamMepTransmitPtmReplyIP - indicates the IP address to
         be transmitted in the "Out of band IP Address TLV" in the Path
         Trace message.

         o trillOamMepTranmitPtmFlowEntropy - indicates the 128 bytes
         Flow entropy to be transmitted, as defined in [TRILLOAMFM].

         o trillOamMepTxPtmStatus - A Boolean flag set to True by the
         MEP Path Trace Initiator State Machine or a MIB manager to
         indicate that another Path trace message is being transmitted.
         Reset to false by the MEP Initiator State Machine.

         o trillOamMepTxPtmResultOK - Indicates the result of the
         operation, True : The Path Trace Message(s) will be (or has
         been) sent, False: The Path Trace Message(s) will not be sent.

         o trillOamMepTxPtmMessages - The number of Path Trace messages
         to be transmitted.

         o trillOamMepTxPtmSeqNumber - Indicates the Path Trace
         Transaction Identifier of the first PTM (to be) sent. The value
         returned is undefined if trillOamMepTxPtmResultOK is false.

         o trillOamMepTxMtmTree - Indicates the Multi-destination Tree
         identifier as defined in RFC6325.

         o trillOamMepTxMtmHC - Indicates the hop count field to be
         transmitted.

         o trillOamMepTxMtmReplyModeOob - True indicates that the Reply
         of the Multi-destination message is requested to be out-of-
         band, and that the "Out of band IP address TLV" is to be
         transmitted. False indicates that in-band reply is transmitted.

         o trillOamMepTransmitMtmReplyIp - the IP address to be
         transmitted in the "Out of band IP address TLV" in the Multi-
         destination message.

         o trillOamMepTxMtmFlowEntropy - 128 Byte Flow Entropy to be
         transmitted, as defined in [TRILL-FM].

         o trillOamMepTxMtmStatus - A Boolean flag set to True by the
         MEP Multi-Destination Initiator State Machine or a MIB manager
         to indicate that another Multicast trace message is being
         transmitted. Reset to False by the MEP Initiator State Machine.

 


Kumar et al.             Expires April 22, 2014                 [Page 7]

Internet Draft               TRILL OAM MIB              October 19, 2013


         o trillOamMepTxMtmResultOK - Indicates the result of the
         operation: -True The Multi-destination Message(s) will be (or
         has been) sent. -False The Multi-destination Message(s) will
         not be sent.

         o trillOamMepTxMtmMessages -The number of Multi-Destination
         Messages to be transmitted.

         o trillOamMepTxMtmSeqNumber - The Sequence Number of the first
         Multi-destination message (to be) sent. The value returned is
         undefined if trillOamMepTxMtmResultOK is false.

         o trillOamMepTxMtmScopeList - The Multi-destination Rbridge
         Scope list, 2 octets per Rbridge.


5.3.2.2. trillOamMepFlowCfgTable Objects

   Each row in this table represents a Flow Configuration Entry for the
   associated MEP. The table uses four indices. The first three indices
   are the indices of the Maintenance Domain, MaNet, and MEP tables. The
   fourth index is the specific Flow Configuration Entry on the selected
   MEP. Some write-able objects in this table are only applicable in
   certain cases (as described under each object below), and attempts to
   write values for them in other cases will be ignored.

      o trillOamMepFlowCfgIndex - an index to the TRILL OAM Mep flow
         configuration table which indicates the specific Flow for the
         MEP. The index is never reused for other flow sessions on the
         same MEP while this session is active. The index value keeps
         increasing until it wraps to 0. This value can also be used in
         Flow-identifier TLV.

         o trillOamMepFlowCfgFlowEntropy - This is 96 bytes of flow
         entropy as described in [TRILL-FM].

         o trillOamMepFlowCfgDestRname - The target Rbridge nickname
         field to be transmitted as defined in [RFC6325] section 3.7.

         o trillOamMepFlowCfgFlowHC - indicates the time to live field
         to be transmitted.

         o trillOamMepFlowCfgRowStatus - indicates the status of row.
         The write-able columns in a row cannot be changed if the row is
         active. All columns MUST have a valid value before a row can be
         activated.

5.3.2.3. trillOamPtrTable Objects
 


Kumar et al.             Expires April 22, 2014                 [Page 8]

Internet Draft               TRILL OAM MIB              October 19, 2013


   Each row in the table represents a Path Trace Reply Entry for the
   defined MEP and Transaction. This table uses four indices. The first
   three indices identify the MEP and the fourth index specifies the
   Transaction Identifier, and this transaction identifier uniquely
   identifies the response for a MEP which can have multiple flow.

         o trillOamMepPtrTransactionId - indicates Transaction
         identifier/sequence number returned by a previous transmit path
         trace message command, indicating which PTM's response is going
         to be returned.

         o trillOamPtrHC - indicates hop count field value for a
         returned PTR.

         o trillOamMepPtrFlag - indicates FCOI field value for a
         returned PTR.

         o trillOamMepPtrErrorcode - indicates the Return code and
         Return sub-code value for a returned PTR.

         o trillOamMepPtrTerminalMep - indicates a Boolean value stating
         whether the forwarded PTM reached a MEP enclosing its MA, as
         returned in the Terminal MEP flag field.

         o trillOamMepPtrNextEgressIdentifer -An integer field holding
         the last Egress Identifier returned in the PTR Upstream Rbridge
         nickname TLV of the PTR. The Last Egress identifies the
         Upstream Nickname.

         o trillOamMepPtrIngress - The value returned in the Ingress
         Action  field of the PTM. The value ingNoTlv(0) indicates that
         no Reply Ingress TLV was returned in the PTM.

         o trillOamMepPtrIngressMac - indicates the MAC address returned
         in the ingress MAC address filed. 

         o trillOamMepIngressPortIdSubtype - indicates ingress Port ID.
         The format of this object is determined by the value of the
         trillOamMepPtrIngressPortIdSubtype object.

         o trillOamMepIngressPortId - indicates the ingress port ID. The
         format of this object is determined by the value of the
         trillOamMepPtrIngressPortId object.

         o trillOamMepPtrEgressPortIdSubtype - indicates the value
         returned in the Egress Action field of the PTM. The value
         ingNoTlv(0) indicates that no Reply Egress TLV was returned in
         the PTM.
 


Kumar et al.             Expires April 22, 2014                 [Page 9]

Internet Draft               TRILL OAM MIB              October 19, 2013


         o trillOamMepPtrEgressPortId - indicates the egress port ID.
         The format of this object is determined by the value of
         trillOamMepPtrEgressPortId object.

         o trillOamMepPtrChassisIdSubtype - This object specifies the
         format for the Chassis ID returned in the Sender ID TLV of the
         PTR, if any. This value is ignored if the
         trillOamMepPtrChassiId has a length of 0.

         o trillOamMepPtrChassisId - indicates the chassis ID returned
         in the Sender ID TLV of the PTR, if any. The format of this
         object is determined by the value of the
         trillOamMepPtrChassisIdSubtype object.

         o trillOamMepPtrOrganizationSpecificTlv - indicates all
         Organization specific TLVs returned in the PTR, if any.
         Includes all octets including and following the TLV length
         field of each TLV, concatenated together.

         o trillOaMepPtrNextHopNicknames  - indicates Next hop Rbridge
         List TLV returned in the PTR, if any. Includes all octets
         including and following the TLV length concatenated together.


5.3.2.4. trillOamMtrTable Objects

   This table includes Multi-destination Reply managed objects. Each row
   in the table represents a Multi-destination Reply Entry for the
   defined MEP and Transaction. This table uses five indices: The first
   three indices are the indices of the Maintenance Domain, MaNet, and
   MEP tables. The fourth index is the specific Transaction Identifier
   on the selected MEP. The fifth index is the receive order of Multi-
   destination replies. Some write-able objects in this table are only
   applicable in certain cases (as described under each object below),
   and attempts to write a value for them in other cases will be
   ignored.

         o trillOamMepMtrTransactionId - indicates Transaction
         identifier/sequence number returned by a previous transmit
         Multi-destination message command, indicating which MTM's
         response is going to be returned.

         o trillOamMepMtrReceiveOrder - indicates an index to
         distinguish among multiple MTR with same same MTR Transaction
         Identifier field value. trillOamMepMtrReceiveOrder are assigned
         sequentially from 1, in the order that the Multi-destination
         Tree Initiator received the MTRs.

 


Kumar et al.             Expires April 22, 2014                [Page 10]

Internet Draft               TRILL OAM MIB              October 19, 2013


         o trillOamMepMtrFlag - indicates FCOI field value for a
         returned MTR.

         o trillOamMepMtrErrorCode - indicates return code and return
         sub code value for a returned MTR.

         o trillOamMepMtrLastEgressIdentifier - indicates an integer
         field holding the Last Egress Identifier returned in the MTR
         Upstream Rbridge Nickname TLV of the MTR. The Last Egress
         Identifier identifies the Upstream Nickname.

         o trillOamMepMtrIngress - indicates the value returned in the
         Ingress Action Field of the MTR. The value ingNoTlv(0)
         indicates that no Reply Ingress TLV was returned in the MTM.

         o trillOamMepMtrIngressMac - indicates the MAC address returned
         in the ingress MAC address field.

         o trillOamMepMtrIngressPortIdSubtype - indicates the ingress
         Port ID. The format of this object is determined by the value
         of the trillOamMepMtrIngressPortIdSubtype object.

         o trillOamMepMtrIngressPortId - indicates the ingress Port Id.
         The format of this object is determined by the value of the
         trillOamMepMtrIngressPortId object.

         o trillOamMepMtrEgress - indicates the value returned in the
         Egress Action field of the MTR. The value ingNoTLv(0) indicates
         that no Reply Egress TLV was returned in the MTR.

         o trillOamMepMtrEgressMac - indicates the MAC address returned
         in the egress MAC address field.

         o trillOamMepMtrEgressPortIdSubtype - indicates the egress Port
         ID. The format of this object is determined by the value of the
         trillOamMepMtrEgressPortIdSubtype object.

         o trillOamMepMtrEgressPortId - indicates the egress port ID.
         The format of this object is determined by the value of the
         trillOamMepMtrEgressPortId object.

         o trillOamMepMtrChassisIdSubtype - indicates the format of the
         chassis ID returned in the Sender ID TLV of the MTR, if any.
         The value is ignored if the trillOamMepMtrChassisId has length
         of 0.

         o trillOamMepMtrChassisId - indicates the chassis ID returned
         in the Sender ID TLV of the MTR, if any. The format of this
 


Kumar et al.             Expires April 22, 2014                [Page 11]

Internet Draft               TRILL OAM MIB              October 19, 2013


         object is determined by the value of the
         trillOamMepMtrChassisIdSubtype object.

         o trillOamMepMtrOrganizationSpecificTlv - indicates all
         Organization specific TLVs returned in the MTR, if any.
         Includes all octets including and following the TLV length
         filed of each TLV, contacted together.

         o trillOamMepMtrNextHopNicknames - indicates next hop Rbridge
         List TLV returned in the PTR, if any. Includes all octets
         including and following the TLV length filed of each TLV,
         concatenated together.

         o trillOamMepMtrNextHopTotalReceivers - indicates value
         indicating that MTR response contains Multicast receiver
         availability TLV.

         o trillOamMepMtrReceiverCount - indicates the number of
         Multicast receivers available on responding Rbridge on the VLAN
         specified by the diagnostic VLAN.

5.3.2.4. trillOamMepDbTable Objects

   This table is an augmentation of the dot1agCfmMepDbTable, and rows
   are automatically added or deleted from this table based upon row
   creation and destruction of the dot1agCfmMepDbTable.

         o trillOamMepDbFlowIndex - This object identifies the Flow. If
         the Flow Identifier TLV is received than index received can
         also be used.

         o trillOamMepCfgFlowEntropy - indicates 96 bytes of Flow
         entropy.

         o trillOamMepDbFlowState - indicates the operational state of
         the remote MEP (flow based) IFF state machines.

         o trillOamMepDbRmepFailedOkTime - indicates the time
         (sysUpTime) at which the Remote Mep Flow State machine last
         entered either the RMEP_FAILED or RMEP_OK state.

         o trillOamMepDbRbridgeName - indicates Remote MEP Rbridge
         Nickname.


6. Relationship to other MIB module

         The IEEE8021-CFM-MIB, IEEE801-CFM-V2-MIB and LLDP-MIB contain
 


Kumar et al.             Expires April 22, 2014                [Page 12]

Internet Draft               TRILL OAM MIB              October 19, 2013


         objects relevant to TRILL OAM MIB. Management objects contained
         in these modules are not duplicated here, to reduce overlap to
         the extent possible.


6.1. Relationship to IEEE8021-CFM-MIB

         TRILL OAM MIB Imports the following management objects from
         IEEE8021-CFM-MIB: 

         o dot1agCfmMdIndex

         o dot1agCfmMaIndex

         o dot1agCfmMepIdentifier

         o dot1agCfmMepEntry

         o dot1agCfmMepDbEntry

         o Dot1agCfmIngressActionFieldValue

         o Dot1agCfmEgessActionFieldValue

         o Dot1agCfmRemoteMepState

   trillOamMepTable Augments dot1agCfmMepEntry. Implementation of IEEE-
   CFM-MIB is required as we are Augmenting the IEEE-CFM-MIB Table.
   Objects/Tables which are not applicable to TRILL implementation has
   to be handled by TRILL implementation back end and appropriate values
   as described in IEEE-CFM-MIB has to be returned.

6.2.  MIB modules required for IMPORTS

   The following MIB module IMPORTS objects from SNMPv2-SMI [RFC2578],
   SNMPv2-TC [RFC2579], SNMPv2-CONF [RFC2580], IEEE-8021-CFM-MIB, LLDP-
   MIB.

7. Definition of the TRILL OAM MIB module

   TRILL-OAM-MIB DEFINITIONS ::= BEGIN

   IMPORTS

       MODULE-IDENTITY,
       OBJECT-TYPE,
       NOTIFICATION-TYPE,
       Counter32,
 


Kumar et al.             Expires April 22, 2014                [Page 13]

Internet Draft               TRILL OAM MIB              October 19, 2013


       Unsigned32,
       Integer32
          FROM SNMPv2-SMI
       RowStatus,
       TruthValue,
       TimeStamp,
       MacAddress
           FROM SNMPv2-TC
       OBJECT-GROUP,
       NOTIFICATION-GROUP,
       MODULE-COMPLIANCE
           FROM SNMPv2-CONF
       dot1agCfmMdIndex,
       dot1agCfmMaIndex,
       dot1agCfmMepIdentifier,
       dot1agCfmMepEntry,
       dot1agCfmMepDbEntry,
       Dot1agCfmIngressActionFieldValue,
       Dot1agCfmEgressActionFieldValue,
       Dot1agCfmRemoteMepState
           FROM IEEE8021-CFM-MIB
       LldpChassisId,
       LldpChassisIdSubtype,
       LldpPortId
           FROM LLDP-MIB;

   trillOamMib MODULE-IDENTITY
       LAST-UPDATED    "201310191200Z"
       ORGANIZATION    "TBD"
       CONTACT-INFO
               "E-mail:  dekumar@cisco.com
               Postal:  510 McCarthy Blvd
                        Milpitas, CA 95035
                        U.S.A.
               Phone:   +1 408 853 9760"
       DESCRIPTION
           "This MIB module contains the management objects for the
           management of Trill Services Operations, Administration
           and Maintenance.
           Initial version. Published as RFC xxxx.

           -----------------------------------------------------------------
           Reference Overview

           A number of base documents have been used to create the 
           Textual Conventions MIB. The following are the 
           abbreviations for the baseline documents:

 


Kumar et al.             Expires April 22, 2014                [Page 14]

Internet Draft               TRILL OAM MIB              October 19, 2013


           [CFM] refers to 'Connectivity Fault Management', IEEE 802.1ag-2007, 
           December 2007
           [Q.840.1] refers to 'ITU-T Requirements and analysis for NMS-EMS
           management interface of Ethernet over Transport and 
           Metro Ethernet Network (EoT/MEN)', March 2007
           [Y.1731] refers to ITU-T Y.1731 'OAM functions and mechanisms for 
           Ethernet based networks', February 2011
           -----------------------------------------------------------------


           Abbreviations Used 

           Term         Definition
           CCM          Continuity Check Message
           CFM          Connectivity Fault Management 
           CoS          Class of Service 
           IEEE         Institute of Electrical and Electronics Engineers
           IETF         Internet Engineering Task Force
           ITU-T        International Telecommunication Union - Telecommunication
            Standardization Bureau
           MAC          Media Access Control 
           MA           Maintenance Association (equivalent to a MEG) 
           MD           Maintenance Domain (equivalent to a OAM Domain in MEF 17) 
           MD Level     Maintenance Domain Level (equivalent to a MEG level) 
           ME           Maintenance Entity 
           MEG         Maintenance Entity Group (equivalent to a MA) 
           MEG Level   Maintenance Entity Group Level (equivalent to MD Level) 
           MEP         Maintenance Association End Point or MEG End Point 
           MIB         Management Information Base 
           MIP         Maintenance Domain Intermediate Point or MEG Intermediate 
           Point 
           MP          Maintenance Point. One of either a MEP or a MIP 
           OAM         Operations, Administration, and Maintenance On-Demand 
           OAM actions that are initiated via manual intervention 
           for a limited time to carry out diagnostics.  On-Demand 
           OAM can result in singular or periodic OAM actions during 
           the diagnostic time interval 
           PDU         Protocol Data Unit 
           RFC         Request for Comment
           SNMP        Simple Network Management Protocol
           SNMP Agent  An SNMP entity containing one or more command responder 
           and/or notification originator applications (along with 
           their associated SNMP engine).  Typically implemented in
           an NE. 
           SNMP Manager An SNMP entity containing one or more command generator 
            and/or notification receiver applications (along with 
            their associated SNMP engine). Typically implemented in 
            an EMS or NMS. 
 


Kumar et al.             Expires April 22, 2014                [Page 15]

Internet Draft               TRILL OAM MIB              October 19, 2013


           TLV         Type Length Value, a method of encoding Objects
           UTC         Coordinated Universal Time 
           UNI         User-to-Network Interface 
           VLAN        Virtual LAN"
       REVISION        "201310191200Z"
       DESCRIPTION
           "Initial version. Published as RFC xxxx."
       ::= { mib-2 xxx }


   -- RFC Ed.: assigned by IANA, see section 9 for details
   --   
   -- *******************************************************************
   -- Object definitions in the TRILL OAM MIB Module
   -- *******************************************************************

   trillOamNotifications  OBJECT IDENTIFIER
       ::= { trillOamMib 0 }

   trillOamMibObjects  OBJECT IDENTIFIER
       ::= { trillOamMib 1 }

   trillOamMibConformance  OBJECT IDENTIFIER
       ::= { trillOamMib 2 }

   -- *******************************************************************
   -- Groups in the TRILL OAM MIB Module
   -- *******************************************************************

   trillOamMep  OBJECT IDENTIFIER
       ::= { trillOamMibObjects 1 }


   -- *******************************************************************
   -- TRILL OAM MEP Configuration
   -- *******************************************************************

   trillOamMepTable OBJECT-TYPE
       SYNTAX          SEQUENCE OF TrillOamMepEntry 
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "This table is an extension of the dot1agCfmMepTable and rows
           are automatically added or deleted from this table based upon 
           row creation and destruction of the dot1agCfmMepTable. 

           This table represents the local MEP TRILL OAM configuration 
           table. The primary purpose of this table is provide local 
 


Kumar et al.             Expires April 22, 2014                [Page 16]

Internet Draft               TRILL OAM MIB              October 19, 2013


           parameters for the TRILL OAM function found in [TRILL-FM] and 
           instantiated at a MEP."
       REFERENCE       "[TRILL-FM]"
       ::= { trillOamMep 1 }

   trillOamMepEntry OBJECT-TYPE
       SYNTAX          TrillOamMepEntry
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "The conceptual row of trillOamMepTable."
       AUGMENTS           { dot1agCfmMepEntry  } 
       ::= { trillOamMepTable 1 }

   TrillOamMepEntry ::= SEQUENCE {
           trillOamMepRName              Unsigned32,
           trillOamMepNextPtmTId         Unsigned32,
           trillOamMepNextMtmTId         Unsigned32,
           trillOamMepPtrIn              Counter32,
           trillOamMepPtrInOutofOrder    Counter32,
           trillOamMepPtrOut             Counter32,
           trillOamMepMtrIn              Counter32,
           trillOamMepMtrInOutofOrder    Counter32,
           trillOamMepMtrOut             Counter32,
           trillOamMepTxLbmDestRName     Unsigned32,
           trillOamMepTxLbmHC           Unsigned32,
           trillOamMepTxLbmReplyModeOob  TruthValue,
           trillOamMepTransmitLbmReplyIp OCTET STRING,
           trillOamMepTxLbmFlowEntropy   OCTET STRING,
           trillOamMepTxPtmDestRName     Unsigned32,
           trillOamMepTxPtmHC           Unsigned32,
           trillOamMepTxPtmReplyModeOob  TruthValue,
           trillOamMepTransmitPtmReplyIp OCTET STRING,
           trillOamMepTxPtmFlowEntropy   OCTET STRING,
           trillOamMepTxPtmStatus        TruthValue,
           trillOamMepTxPtmResultOK      TruthValue,
           trillOamMepTxPtmMessages      Integer32,
           trillOamMepTxPtmSeqNumber     Unsigned32,
           trillOamMepTxMtmTree          Unsigned32,
           trillOamMepTxMtmHC           Unsigned32,
           trillOamMepTxMtmReplyModeOob  TruthValue,
           trillOamMepTransmitMtmReplyIp OCTET STRING,
           trillOamMepTxMtmFlowEntropy   OCTET STRING,
           trillOamMepTxMtmStatus        TruthValue,
           trillOamMepTxMtmResultOK      TruthValue,
           trillOamMepTxMtmMessages      Integer32,
           trillOamMepTxMtmSeqNumber     Unsigned32,
           trillOamMepTxMtmScopeList     OCTET STRING
 


Kumar et al.             Expires April 22, 2014                [Page 17]

Internet Draft               TRILL OAM MIB              October 19, 2013


   }

   trillOamMepRName OBJECT-TYPE
       SYNTAX          Unsigned32 (0..65471)
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "This object contains Rbridge NickName of TRILL Rbridge as
           defined in RFC 6325 section 3.7."
       REFERENCE "TRILL-FM and RFC 6325 section 3.7" 
       ::= { trillOamMepEntry 1 }

   trillOamMepNextPtmTId OBJECT-TYPE
       SYNTAX          Unsigned32
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Next sequence number/transaction identifier to be sent in a
           Path Trace message. This sequence number can be zero because it
           wraps around. Implementation should be unique to identify 
           Transaction Id for a MEP with multiple flows." 
       REFERENCE "TRILL-FM 11.1.1.1"
       ::= { trillOamMepEntry 2 }

   trillOamMepNextMtmTId OBJECT-TYPE
       SYNTAX          Unsigned32
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Next sequence number/transaction identifier to be sent in a
           Multi-destination message. This sequence number can be zero
           because it wraps around. Implementation should be unique to 
           identify Transaction Id for a MEP with multiple flows."
       REFERENCE "TRILL-FM 12.2.1" 
       ::= { trillOamMepEntry 3 }

   trillOamMepPtrIn OBJECT-TYPE
       SYNTAX          Counter32
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Total number of valid, in-order Path Trace Replies received."
       REFERENCE "TRILL-FM section 11" 
       ::= { trillOamMepEntry 4 }

   trillOamMepPtrInOutofOrder OBJECT-TYPE
       SYNTAX          Counter32
       MAX-ACCESS      read-only
 


Kumar et al.             Expires April 22, 2014                [Page 18]

Internet Draft               TRILL OAM MIB              October 19, 2013


       STATUS          current
       DESCRIPTION
           "Total number of valid, out-of-order Path Trace Replies received."
       REFERENCE "TRILL-FM section 11" 
       ::= { trillOamMepEntry 5 }

   trillOamMepPtrOut OBJECT-TYPE
       SYNTAX          Counter32
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Total number of valid, Path Trace Replies transmitted."
       REFERENCE "TRILL-FM section 11" 
       ::= { trillOamMepEntry 6 }

   trillOamMepMtrIn OBJECT-TYPE
       SYNTAX          Counter32
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Total number of valid, in-order Multi-destination Replies
           received." 
       REFERENCE "TRILL-FM section 12"
       ::= { trillOamMepEntry 7 }

   trillOamMepMtrInOutofOrder OBJECT-TYPE
       SYNTAX          Counter32
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Total number of valid, out-of-order Multi-destination Replies
           received." 
       REFERENCE "TRILL-FM section 12"
       ::= { trillOamMepEntry 8 }

   trillOamMepMtrOut OBJECT-TYPE
       SYNTAX          Counter32
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Total number of valid, Multi-destination Replies
           transmitted." 
       REFERENCE "TRILL-FM section 12"
       ::= { trillOamMepEntry 9 }

   trillOamMepTxLbmDestRName OBJECT-TYPE
       SYNTAX          Unsigned32 (0..65471)
       MAX-ACCESS      read-create
 


Kumar et al.             Expires April 22, 2014                [Page 19]

Internet Draft               TRILL OAM MIB              October 19, 2013


       STATUS          current
       DESCRIPTION
           "The Target Destination Rbridge NickName Field as
           defined in RFC 6325 section 3.7 to be transmitted."
       REFERENCE "TRILL-FM and RFC6325 section 3.7" 
       ::= { trillOamMepEntry 10 }

   trillOamMepTxLbmHC OBJECT-TYPE
       SYNTAX          Unsigned32(1..63)
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Hop Count to be transmitted.
           " 
       REFERENCE "TRILL-FM section 3"
       ::= { trillOamMepEntry 11 }

   trillOamMepTxLbmReplyModeOob OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "True Indicates that Reply of Lbm is out of band and
           out of band IP Address TLV is to be transmitted. 
           False indicates that In band reply is transmitted."
       REFERENCE "TRILL-FM 10.1.2.1" 
       ::= { trillOamMepEntry 12 }

   trillOamMepTransmitLbmReplyIp OBJECT-TYPE
       SYNTAX          OCTET STRING
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "IP address for out of band IP Address TLV is to be transmitted."
       REFERENCE "TRILL-FM 10.1.2.1" 
       ::= { trillOamMepEntry 13 }

   trillOamMepTxLbmFlowEntropy OBJECT-TYPE
       SYNTAX          OCTET STRING
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "128 Byte Flow Entropy as defined in TRILL-FM to be transmitted."
       REFERENCE "TRILL-FM section 3" 
       ::= { trillOamMepEntry 14 }

   trillOamMepTxPtmDestRName OBJECT-TYPE
       SYNTAX          Unsigned32 (0..65471)
 


Kumar et al.             Expires April 22, 2014                [Page 20]

Internet Draft               TRILL OAM MIB              October 19, 2013


       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Target Destination Rbridge NickName Field
           as defined in RFC 6325 section 3.7 to be transmitted." 
       REFERENCE "TRILL-FM and RFC6325 section 3.7"
       ::= { trillOamMepEntry 15 }

   trillOamMepTxPtmHC OBJECT-TYPE
       SYNTAX          Unsigned32 (1..63)
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Hop Count field to be transmitted.
           "
       REFERENCE "TRILL-FM section 3" 
       ::= { trillOamMepEntry 16 }

   trillOamMepTxPtmReplyModeOob OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "True Indicates that Reply of Ptm is out of band and
           out of band IP Address TLV is to be transmitted. 
           False indicates that In band reply is transmitted."
       REFERENCE "TRILL-FM section 11"
       DEFVAL          { false }
       ::= { trillOamMepEntry 17 }

   trillOamMepTransmitPtmReplyIp OBJECT-TYPE
       SYNTAX          OCTET STRING
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "IP address for out of band IP Address TLV is to be transmitted."
       REFERENCE "TRILL-FM section 11" 
       ::= { trillOamMepEntry 18 }

   trillOamMepTxPtmFlowEntropy OBJECT-TYPE
       SYNTAX          OCTET STRING
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "128 Byte Flow Entropy as defined in TRILL-FM to be transmitted."
       REFERENCE "TRILL-FM section 3" 
       ::= { trillOamMepEntry 19 }

 


Kumar et al.             Expires April 22, 2014                [Page 21]

Internet Draft               TRILL OAM MIB              October 19, 2013


   trillOamMepTxPtmStatus OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "A Boolean flag set to true by the MEP Path Trace Initiator State
           Machine or an MIB manager to indicate that another Ptm is being
           transmitted. 
           Reset to false by the MEP Initiator State Machine."
       REFERENCE "TRILL-FM section 11"
       DEFVAL          { false } 
       ::= { trillOamMepEntry 20 }

   trillOamMepTxPtmResultOK OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "Indicates the result of the operation:
           - true  The Path Trace Message(s) will be (or has been) sent.
           - false The Path Trace Message(s) will not be sent."
       REFERENCE "TRILL-FM section 11"
       DEFVAL          { true }
       ::= { trillOamMepEntry 21 }

   trillOamMepTxPtmMessages OBJECT-TYPE
       SYNTAX          Integer32 (1..1024)
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The number of Path Trace messages to be transmitted."
       REFERENCE "TRILL-FM section 11" 
       ::= { trillOamMepEntry 22 }

   trillOamMepTxPtmSeqNumber OBJECT-TYPE
       SYNTAX          Unsigned32
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Path Trace Transaction Identifier of the first PTM (to be)
           sent. The value returned is undefined if 
           trillOamMepTxPtmResultOK is false."
       REFERENCE "TRILL-FM section 11" 
       ::= { trillOamMepEntry 23 }

   trillOamMepTxMtmTree OBJECT-TYPE
       SYNTAX          Unsigned32
       MAX-ACCESS      read-create
 


Kumar et al.             Expires April 22, 2014                [Page 22]

Internet Draft               TRILL OAM MIB              October 19, 2013


       STATUS          current
       DESCRIPTION
           "The Multi-destination Tree is identifier for tree as defined in
           RFC6325." 
       ::= { trillOamMepEntry 24 }

   trillOamMepTxMtmHC OBJECT-TYPE
       SYNTAX          Unsigned32(1..63)
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Hop Count field to be transmitted.
           " 
       REFERENCE "TRILL-FM section 3, RFC 6325 section 3"
       ::= { trillOamMepEntry 25 }

   trillOamMepTxMtmReplyModeOob OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "True Indicates that Reply of Mtm is out of band and
           out of band IP Address TLV is to be transmitted. 
           False indicates that In band reply is transmitted."
       REFERENCE "TRILL-FM section 12" 
       ::= { trillOamMepEntry 26 }

   trillOamMepTransmitMtmReplyIp OBJECT-TYPE
       SYNTAX          OCTET STRING
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "IP address for out of band IP Address TLV is to be transmitted."
       REFERENCE "TRILL-FM section 12" 
       ::= { trillOamMepEntry 27 }

   trillOamMepTxMtmFlowEntropy OBJECT-TYPE
       SYNTAX          OCTET STRING
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "128 Byte Flow Entropy as defined in TRILL-FM to be transmitted."
       REFERENCE "TRILL-FM section 3" 
       ::= { trillOamMepEntry 28 }

   trillOamMepTxMtmStatus OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-create
 


Kumar et al.             Expires April 22, 2014                [Page 23]

Internet Draft               TRILL OAM MIB              October 19, 2013


       STATUS          current
       DESCRIPTION
           "A Boolean flag set to true by the MEP Multi Destination Initiator State
           Machine or an MIB manager to indicate that another Mtm is being
           transmitted. 
           Reset to false by the MEP Initiator State Machine."
       REFERENCE "TRILL-FM section 12"
       DEFVAL          { false } 
       ::= { trillOamMepEntry 29 }

   trillOamMepTxMtmResultOK OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "Indicates the result of the operation:
           - true  The Multi-destination Message(s) will be (or has been) sent.
           - false The Multi-destination Message(s) will not be sent."
       REFERENCE "TRILL-FM section 12"
       DEFVAL          { true } 
       ::= { trillOamMepEntry 30 }

   trillOamMepTxMtmMessages OBJECT-TYPE
       SYNTAX          Integer32 (1..1024)
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The number of Multi Destination messages to be transmitted."
       REFERENCE "TRILL-FM section 12" 
       ::= { trillOamMepEntry 31 }

   trillOamMepTxMtmSeqNumber OBJECT-TYPE
       SYNTAX          Unsigned32
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Multi-destination Transaction Identifier of the first MTM (to be)
           sent. The value returned is undefined if 
           trillOamMepTxMtmResultOK is false."
       REFERENCE "TRILL-FM section 12" 
       ::= { trillOamMepEntry 32 }

   trillOamMepTxMtmScopeList OBJECT-TYPE
       SYNTAX          OCTET STRING
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Multi-destination Rbridge Scope list, 2 OCTET per Rbridge."
 


Kumar et al.             Expires April 22, 2014                [Page 24]

Internet Draft               TRILL OAM MIB              October 19, 2013


       REFERENCE "TRILL-FM section 12" 
       ::= { trillOamMepEntry 33 }


   -- *******************************************************************
   -- TRILL OAM Tx Measurement Configuration Table
   -- *******************************************************************

   trillOamMepFlowCfgTable OBJECT-TYPE
       SYNTAX          SEQUENCE OF TrillOamMepFlowCfgEntry 
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "This table includes configuration objects and operations for
           the Trill OAM [TRILL-FM]. 

           Each row in the table represents a Flow configuration Entry for
           the defined MEP. This table uses four indices. The first 
           three indices are the indices of the Maintenance Domain, 
           MaNet, and MEP tables. The fourth index is the specific Flow 
           configuration Entry on the selected MEP.

           Some writable objects in this table are only applicable in 
           certain cases (as described under each object), and attempts to
           write values for them in other cases will be ignored."
       REFERENCE       "[TRILL-FM]"
       ::= { trillOamMep 2 }

   trillOamMepFlowCfgEntry OBJECT-TYPE
       SYNTAX          TrillOamMepFlowCfgEntry
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "The conceptual row of trillOamMepFlowCfgTable."
       INDEX           {
                           dot1agCfmMdIndex,
                           dot1agCfmMaIndex,
                           dot1agCfmMepIdentifier,
                           trillOamMepFlowCfgIndex
                       } 
       ::= { trillOamMepFlowCfgTable 1 }

   TrillOamMepFlowCfgEntry ::= SEQUENCE {
           trillOamMepFlowCfgIndex       Unsigned32,
           trillOamMepFlowCfgFlowEntropy OCTET STRING,
           trillOamMepFlowCfgDestRName   Unsigned32,
           trillOamMepFlowCfgFlowHC      Unsigned32,
           trillOamMepFlowCfgRowStatus   RowStatus
 


Kumar et al.             Expires April 22, 2014                [Page 25]

Internet Draft               TRILL OAM MIB              October 19, 2013


           }

   trillOamMepFlowCfgIndex OBJECT-TYPE
       SYNTAX          Unsigned32 (1..65535)
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "An index to the Trill OAM Mep Flow Configuration table which
           indicates the specific Flow for the MEP.

           The index is never reused for other flow sessions on the same 
           MEP while this session is active.  The index value keeps 
           increasing until it wraps to 0.
           This value can also be used in Flow-identifier TLV [TRILL-FM]"
       REFERENCE "TRILL-FM" 
       ::= { trillOamMepFlowCfgEntry 1 }

   trillOamMepFlowCfgFlowEntropy OBJECT-TYPE
       SYNTAX          OCTET STRING
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "This is 128 byte of Flow Entropy as described in
           TRILL OAM [TRILL-FM]." 
       REFERENCE "TRILL-FM section 3"
       ::= { trillOamMepFlowCfgEntry 2 }

   trillOamMepFlowCfgDestRName OBJECT-TYPE
       SYNTAX          Unsigned32 (0..65471)
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Target Destination Rbridge NickName Field as
           defined in RFC 6325 section 3.7 to be transmitted."
       REFERENCE "TRILL-FM section 3 and RFC 6325 section 3.7" 
       ::= { trillOamMepFlowCfgEntry 3 }

   trillOamMepFlowCfgFlowHC OBJECT-TYPE
       SYNTAX          Unsigned32
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The Time to Live field to be transmitted.
           to be transmitted." 
       REFERENCE "TRILL-FM section 3 and RFC 6325 section 3.7"
       ::= { trillOamMepFlowCfgEntry 4 }

   trillOamMepFlowCfgRowStatus OBJECT-TYPE
 


Kumar et al.             Expires April 22, 2014                [Page 26]

Internet Draft               TRILL OAM MIB              October 19, 2013


       SYNTAX          RowStatus
       MAX-ACCESS      read-create
       STATUS          current
       DESCRIPTION
           "The status of the row.

           The writable columns in a row cannot be changed if the row
           is active. All columns MUST have a valid value before a row
           can be activated."
       ::= { trillOamMepFlowCfgEntry 5 }


   -- ********************************************************************
   -- TRILL OAM Path Trace Reply Table
   -- ********************************************************************

   trillOamPtrTable OBJECT-TYPE
       SYNTAX          SEQUENCE OF TrillOamPtrEntry 
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "This table includes Path Trace Reply objects and operations for
           the Trill OAM [TRILL-FM]. 

           Each row in the table represents a Path Trace Reply Entry for
           the defined MEP and Transaction. This table uses four indices. 
           The first three indices are the indices of the Maintenance Domain, 
           MaNet, and MEP tables. The fourth index is the specific 
           Transaction Identifier on the selected MEP.

           Some writable objects in this table are only applicable in 
           certain cases (as described under each object), and attempts to
           write values for them in other cases will be ignored."
       REFERENCE       "TRILL-FM"
       ::= { trillOamMep 3 }

   trillOamPtrEntry OBJECT-TYPE
       SYNTAX          TrillOamPtrEntry
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "The conceptual row of trillOamPtrTable."
       INDEX           {
                           dot1agCfmMdIndex,
                           dot1agCfmMaIndex,
                           dot1agCfmMepIdentifier,
                           trillOamMepPtrTransactionId
                       } 
 


Kumar et al.             Expires April 22, 2014                [Page 27]

Internet Draft               TRILL OAM MIB              October 19, 2013


       ::= { trillOamPtrTable 1 }

   TrillOamPtrEntry ::= SEQUENCE {
           trillOamMepPtrTransactionId           Unsigned32,
           trillOamMepPtrHC                      Unsigned32,
           trillOamMepPtrFlag                    Unsigned32,
           trillOamMepPtrErrorCode               Unsigned32,
           trillOamMepPtrTerminalMep             TruthValue,
           trillOamMepPtrLastEgressId            Unsigned32,
           trillOamMepPtrIngress                 Dot1agCfmIngressActionFieldValue,
           trillOamMepPtrIngressMac              MacAddress,
           trillOamMepPtrIngressPortIdSubtype    LldpPortId,
           trillOamMepPtrIngressPortId           LldpPortId,
           trillOamMepPtrEgress                  Dot1agCfmEgressActionFieldValue,
           trillOamMepPtrEgressMac               MacAddress,
           trillOamMepPtrEgressPortIdSubtype     LldpPortId,
           trillOamMepPtrEgressPortId            LldpPortId,
           trillOamMepPtrChassisIdSubtype        LldpChassisIdSubtype,
           trillOamMepPtrChassisId               LldpChassisId,
           trillOamMepPtrOrganizationSpecificTlv OCTET STRING,
           trillOamMepPtrNextHopNicknames        OCTET STRING
   }

   trillOamMepPtrTransactionId OBJECT-TYPE
       SYNTAX          Unsigned32 (0..4294967295)
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "Transaction identifier/sequence number returned by a previous
           transmit path trace message command, indicating which PTM's
           response is going to be returned."
       REFERENCE       "TRILL-FM section 11" 
       ::= { trillOamPtrEntry 1 }

   trillOamMepPtrHC  OBJECT-TYPE
       SYNTAX          Unsigned32 (1..63)
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Hop Count field value for a returned PTR."
       REFERENCE       "TRILL-FM" 
       ::= { trillOamPtrEntry 2 }

   trillOamMepPtrFlag OBJECT-TYPE
       SYNTAX          Unsigned32 (0..15)
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
 


Kumar et al.             Expires April 22, 2014                [Page 28]

Internet Draft               TRILL OAM MIB              October 19, 2013


           "FCOI (TRILL OAM Message TLV) field value for a 
            returned PTR."
       REFERENCE       "TRILL-FM, 9.4.2.1" 
       ::= { trillOamPtrEntry 3 }

   trillOamMepPtrErrorCode OBJECT-TYPE
       SYNTAX          Unsigned32 (0..65535)
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Return Code and Return Sub code value for a returned PTR."
       REFERENCE       "TRILL-FM, 9.4.2.1" 
       ::= { trillOamPtrEntry 4 }

   trillOamMepPtrTerminalMep OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "A boolean value stating whether the forwarded PTM reached a
           MEP enclosing its MA, as returned in the Terminal MEP flag of
           the Flags field."
       REFERENCE       "TRILL-FM" 
       ::= { trillOamPtrEntry 5 }

   trillOamMepPtrLastEgressId OBJECT-TYPE
       SYNTAX          Unsigned32 (0..65535)
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "An Integer field holding the Last Egress Identifier returned
           in the PTR Upstream Rbridge nickname TLV of the PTR.
           The Last Egress Identifier identifies the Upstream Nickname"
       REFERENCE       "TRILL-FM 9.4.3.4" 
       ::= { trillOamPtrEntry 6 }

   trillOamMepPtrIngress OBJECT-TYPE
       SYNTAX          Dot1agCfmIngressActionFieldValue
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "The value returned in the Ingress Action Field of the PTM.
           The value ingNoTlv(0) indicates that no Reply Ingress TLV was
           returned in the PTM."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 7 }

   trillOamMepPtrIngressMac OBJECT-TYPE
 


Kumar et al.             Expires April 22, 2014                [Page 29]

Internet Draft               TRILL OAM MIB              October 19, 2013


       SYNTAX          MacAddress
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "MAC address returned in the ingress MAC address field."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 8 }

   trillOamMepPtrIngressPortIdSubtype OBJECT-TYPE
       SYNTAX          LldpPortId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Ingress Port ID. The format of this object is determined by
           the value of the trillOamMepPtrIngressPortIdSubtype object."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 9 }

   trillOamMepPtrIngressPortId OBJECT-TYPE
       SYNTAX          LldpPortId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Ingress Port ID. The format of this object is determined by
           the value of the trillOamMepPtrIngressPortId object."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 10 }

   trillOamMepPtrEgress OBJECT-TYPE
       SYNTAX          Dot1agCfmEgressActionFieldValue
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "The value returned in the Egress Action Field of the PTM.
           The value ingNoTlv(0) indicates that no Reply Egress TLV was
           returned in the PTM."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 11 }

   trillOamMepPtrEgressMac OBJECT-TYPE
       SYNTAX          MacAddress
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "MAC address returned in the egress MAC address field."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 12 }

 


Kumar et al.             Expires April 22, 2014                [Page 30]

Internet Draft               TRILL OAM MIB              October 19, 2013


   trillOamMepPtrEgressPortIdSubtype OBJECT-TYPE
       SYNTAX          LldpPortId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Egress Port ID. The format of this object is determined by
           the value of the trillOamMepPtrEgressPortIdSubtype object."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 13 }

   trillOamMepPtrEgressPortId OBJECT-TYPE
       SYNTAX          LldpPortId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Egress Port ID. The format of this object is determined by
           the value of the trillOamMepPtrEgressPortId object."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 14 }

   trillOamMepPtrChassisIdSubtype OBJECT-TYPE
       SYNTAX          LldpChassisIdSubtype
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "This object specifies the format of the Chassis ID returned
           in the Sender ID TLV of the PTR, if any.  This value is
           meaningless if the trillOamMepPtrChassisId has a length of 0."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 15 }

   trillOamMepPtrChassisId OBJECT-TYPE
       SYNTAX          LldpChassisId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "The Chassis ID returned in the Sender ID TLV of the PTR, if
           any. The format of this object is determined by the
           value of the trillOamMepPtrChassisIdSubtype object."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 16 }

   trillOamMepPtrOrganizationSpecificTlv OBJECT-TYPE
       SYNTAX          OCTET STRING (SIZE  (0..0 | 4..1500))
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "All Organization specific TLVs returned in the PTR, if
 


Kumar et al.             Expires April 22, 2014                [Page 31]

Internet Draft               TRILL OAM MIB              October 19, 2013


           any.  Includes all octets including and following the TLV
           Length field of each TLV, concatenated together."
       REFERENCE       "TRILL-FM 9.4.1" 
       ::= { trillOamPtrEntry 17 }

   trillOamMepPtrNextHopNicknames OBJECT-TYPE
       SYNTAX          OCTET STRING (SIZE  (0..0 | 4..1500))
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Next hop Rbridge List TLV returned in the PTR, if
           any.  Includes all octets including and following the TLV
           Length field of each TLV, concatenated together."
       REFERENCE       "TRILL-FM 9.4.3.5" 
       ::= { trillOamPtrEntry 18 }


   -- ********************************************************************
   -- TRILL OAM Multi Destination Reply Table
   -- ********************************************************************

   trillOamMtrTable OBJECT-TYPE
       SYNTAX          SEQUENCE OF TrillOamMtrEntry 
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "This table includes Multi-destination Reply objects and 
            operations for the Trill OAM [TRILL-FM]. 

           Each row in the table represents a Multi-destination Reply 
           Entry for the defined MEP and Transaction. 
           This table uses five indices. 
           The first three indices are the indices of the Maintenance Domain, 
           MaNet, and MEP tables. The fourth index is the specific 
           Transaction Identifier on the selected MEP.
           The fifth index is the receive order of Multi-destination
           replies.

           Some writable objects in this table are only applicable in 
           certain cases (as described under each object), and attempts to
           write values for them in other cases will be ignored."
       REFERENCE       "TRILL-FM"
       ::= { trillOamMep 4 }

   trillOamMtrEntry OBJECT-TYPE
       SYNTAX          TrillOamMtrEntry
       MAX-ACCESS      not-accessible
       STATUS          current
 


Kumar et al.             Expires April 22, 2014                [Page 32]

Internet Draft               TRILL OAM MIB              October 19, 2013


       DESCRIPTION
           "The conceptual row of trillOamMtrTable."
       INDEX           {
                           dot1agCfmMdIndex,
                           dot1agCfmMaIndex,
                           dot1agCfmMepIdentifier,
                           trillOamMepPtrTransactionId,
                           trillOamMepMtrReceiveOrder
                       } 
       ::= { trillOamMtrTable 1 }

   TrillOamMtrEntry ::= SEQUENCE {
           trillOamMepMtrTransactionId           Unsigned32,
           trillOamMepMtrReceiveOrder            Unsigned32,
           trillOamMepMtrFlag                    Unsigned32,
           trillOamMepMtrErrorCode               Unsigned32,
           trillOamMepMtrLastEgressId            Unsigned32,
           trillOamMepMtrIngress                 Dot1agCfmIngressActionFieldValue,
           trillOamMepMtrIngressMac              MacAddress,
           trillOamMepMtrIngressPortIdSubtype    LldpPortId,
           trillOamMepMtrIngressPortId           LldpPortId,
           trillOamMepMtrEgress                  Dot1agCfmEgressActionFieldValue,
           trillOamMepMtrEgressMac               MacAddress,
           trillOamMepMtrEgressPortIdSubtype     LldpPortId,
           trillOamMepMtrEgressPortId            LldpPortId,
           trillOamMepMtrChassisIdSubtype        LldpChassisIdSubtype,
           trillOamMepMtrChassisId               LldpChassisId,
           trillOamMepMtrOrganizationSpecificTlv OCTET STRING,
           trillOamMepMtrNextHopNicknames        OCTET STRING,
           trillOamMepMtrReceiverAvailability    TruthValue,
           trillOamMepMtrReceiverCount           TruthValue
   }

   trillOamMepMtrTransactionId OBJECT-TYPE
       SYNTAX          Unsigned32 (0..4294967295)
       MAX-ACCESS      not-accessible
       STATUS          current
       DESCRIPTION
           "Transaction identifier/sequence number returned by a previous
           transmit Multi-destination message command, indicating 
           which MTM's response is going to be returned."
       REFERENCE       "TRILL-FM section 12" 
       ::= { trillOamMtrEntry 1 }

   trillOamMepMtrReceiveOrder OBJECT-TYPE
       SYNTAX          Unsigned32 (1..4294967295)
       MAX-ACCESS      not-accessible
       STATUS          current
 


Kumar et al.             Expires April 22, 2014                [Page 33]

Internet Draft               TRILL OAM MIB              October 19, 2013


       DESCRIPTION
           "An index to distinguish among multiple MTR with same
            MTR Transaction Identifier field value. 
            trillOamMepMtrReceiveOrder are assigned sequentially from 1,
            in the order that the Multi-destination Tree Initiator
            received the MTRs." 
       REFERENCE   "TRILL-FM"
       ::= { trillOamMtrEntry 2 }

   trillOamMepMtrFlag OBJECT-TYPE
       SYNTAX          Unsigned32 (0..15)
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "FCOI (TRILL OAM Message TLV) field value for a 
            returned MTR."
       REFERENCE       "TRILL-FM, 9.4.2.1" 
       ::= { trillOamMtrEntry 3 }

   trillOamMepMtrErrorCode OBJECT-TYPE
       SYNTAX          Unsigned32 (0..65535)
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Return Code and Return Sub code value for a returned MTR."
       REFERENCE       "TRILL-FM, 9.4.2.1" 
       ::= { trillOamMtrEntry 4 }

   trillOamMepMtrLastEgressId OBJECT-TYPE
       SYNTAX          Unsigned32 (0..65535)
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "An Integer field holding the Last Egress Identifier returned
           in the MTR Upstream Rbridge Nickname TLV of the MTR.
           The Last Egress Identifier identifies the Upstream Nickname."
       REFERENCE       "TRILL-FM 9.4.3.4" 
       ::= { trillOamMtrEntry 5 }

   trillOamMepMtrIngress OBJECT-TYPE
       SYNTAX          Dot1agCfmIngressActionFieldValue
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "The value returned in the Ingress Action Field of the MTR.
           The value ingNoTlv(0) indicates that no Reply Ingress TLV was
           returned in the MTM."
       REFERENCE       "TRILL-FM 12.2.3" 
 


Kumar et al.             Expires April 22, 2014                [Page 34]

Internet Draft               TRILL OAM MIB              October 19, 2013


       ::= { trillOamMtrEntry 6 }

   trillOamMepMtrIngressMac OBJECT-TYPE
       SYNTAX          MacAddress
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "MAC address returned in the ingress MAC address field."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 7 }

   trillOamMepMtrIngressPortIdSubtype OBJECT-TYPE
       SYNTAX          LldpPortId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Ingress Port ID. The format of this object is determined by
           the value of the trillOamMepMtrIngressPortIdSubtype object."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 8 }

   trillOamMepMtrIngressPortId OBJECT-TYPE
       SYNTAX          LldpPortId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Ingress Port ID. The format of this object is determined by
           the value of the trillOamMepMtrIngressPortId object."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 9 }

   trillOamMepMtrEgress OBJECT-TYPE
       SYNTAX          Dot1agCfmEgressActionFieldValue
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "The value returned in the Egress Action Field of the MTR.
           The value ingNoTlv(0) indicates that no Reply Egress TLV was
           returned in the MTR."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 10 }

   trillOamMepMtrEgressMac OBJECT-TYPE
       SYNTAX          MacAddress
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "MAC address returned in the egress MAC address field."
 


Kumar et al.             Expires April 22, 2014                [Page 35]

Internet Draft               TRILL OAM MIB              October 19, 2013


       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 11 }

   trillOamMepMtrEgressPortIdSubtype OBJECT-TYPE
       SYNTAX          LldpPortId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Egress Port ID. The format of this object is determined by
           the value of the trillOamMepMtrEgressPortIdSubtype object."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 12 }

   trillOamMepMtrEgressPortId OBJECT-TYPE
       SYNTAX          LldpPortId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Egress Port ID. The format of this object is determined by
           the value of the trillOamMepMtrEgressPortId object."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 13 }

   trillOamMepMtrChassisIdSubtype OBJECT-TYPE
       SYNTAX          LldpChassisIdSubtype
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "This object specifies the format of the Chassis ID returned
           in the Sender ID TLV of the MTR, if any.  This value is
           meaningless if the trillOamMepMtrChassisId has a length of 0."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 14 }

   trillOamMepMtrChassisId OBJECT-TYPE
       SYNTAX          LldpChassisId
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "The Chassis ID returned in the Sender ID TLV of the MTR, if
           any. The format of this object is determined by the
           value of the trillOamMepMtrChassisIdSubtype object."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 15 }

   trillOamMepMtrOrganizationSpecificTlv OBJECT-TYPE
       SYNTAX          OCTET STRING (SIZE  (0..0 | 4..1500))
       MAX-ACCESS      read-only
 


Kumar et al.             Expires April 22, 2014                [Page 36]

Internet Draft               TRILL OAM MIB              October 19, 2013


       STATUS          current
       DESCRIPTION
           "All Organization specific TLVs returned in the MTR, if
           any.  Includes all octets including and following the TLV
           Length field of each TLV, concatenated together."
       REFERENCE       "TRILL-FM 12.2.3" 
       ::= { trillOamMtrEntry 16 }

   trillOamMepMtrNextHopNicknames OBJECT-TYPE
       SYNTAX          OCTET STRING (SIZE  (0..0 | 4..1500))
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Next hop Rbridge List TLV returned in the PTR, if
           any.  Includes all octets including and following the TLV
           Length field of each TLV, concatenated together."
       REFERENCE       "TRILL-FM 9.4.3.5" 
       ::= { trillOamMtrEntry 17 }

   trillOamMepMtrReceiverAvailability OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "True value indicates that MTR response contained
           Multicast receiver availability TLV"
       REFERENCE       "TRILL-FM 9.4.3.6" 
       ::= { trillOamMtrEntry 18 }

   trillOamMepMtrReceiverCount OBJECT-TYPE
       SYNTAX          TruthValue
       MAX-ACCESS      read-only
       STATUS          current
       DESCRIPTION
           "Indicates the number of Multicast receivers available on
           responding RBridge on the VLAN specified by the 
           diagnostic VLAN."
       REFERENCE       "TRILL-FM 9.4.3.6" 
       ::= { trillOamMtrEntry 19 }

   -- *******************************************************************
   -- TRILL OAM MEP Database Table
   -- *******************************************************************

   trillOamMepDbTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF TrillOamMepDbEntry
       MAX-ACCESS  not-accessible
       STATUS      current
 


Kumar et al.             Expires April 22, 2014                [Page 37]

Internet Draft               TRILL OAM MIB              October 19, 2013


       DESCRIPTION
          "This table is an extension of the dot1agCfmMepDbTable and rows
           are automatically added or deleted from this table based upon
           row creation and destruction of the dot1agCfmMepDbTable.
          "
       REFERENCE
          "[TRILL-FM]"
       ::= { trillOamMep 5 }

   trillOamMepDbEntry OBJECT-TYPE
       SYNTAX      TrillOamMepDbEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
          "The conceptual row of trillOamMepDbTable."
       AUGMENTS {
                dot1agCfmMepDbEntry
                }
       ::= { trillOamMepDbTable 1 }

   TrillOamMepDbEntry ::= SEQUENCE {
         trillOamMepDbFlowIndex         Unsigned32,
         trillOamMepDbFlowEntropy       OCTET STRING,
         trillOamMepDbFlowState         Dot1agCfmRemoteMepState,
         trillOamMepDbFlowFailedOkTime  TimeStamp,
         trillOamMepDbRbridgeName       Unsigned32,
         trillOamMepDbLastGoodSeqNum    Counter32
       }

   trillOamMepDbFlowIndex OBJECT-TYPE
       SYNTAX        Unsigned32 (1..65535)
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "This object identifies the Flow. If Flow Identifier TLV is received
          than index received can also be used.
         "
       REFERENCE "TRILL-FM"
       ::= {trillOamMepDbEntry 1 }

   trillOamMepDbFlowEntropy OBJECT-TYPE
       SYNTAX        OCTET STRING
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
         "128 byte Flow Entropy.
         "
       REFERENCE "TRILL-FM section 3."
 


Kumar et al.             Expires April 22, 2014                [Page 38]

Internet Draft               TRILL OAM MIB              October 19, 2013


       ::= {trillOamMepDbEntry 2 }

   trillOamMepDbFlowState OBJECT-TYPE
       SYNTAX       Dot1agCfmRemoteMepState
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
           "The operational state of the remote MEP (flow based) 
            IFF State machines. State Machine is running now per
            flow."
       REFERENCE "TRILL-FM"
       ::= {trillOamMepDbEntry 3 }

    trillOamMepDbFlowFailedOkTime OBJECT-TYPE
       SYNTAX        TimeStamp
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
           "The Time (sysUpTime) at which the Remote Mep Flow state
            machine last entered either the RMEP_FAILED or RMEP_OK
            state. 
           "
       REFERENCE "TRILL-FM"
       ::= {trillOamMepDbEntry 4 }

   trillOamMepDbRbridgeName OBJECT-TYPE
       SYNTAX        Unsigned32(0..65471)
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION 
            "Remote MEP Rbridge Nickname"
       REFERENCE "TRILL-FM RFC 6325 section 3"
       ::= {trillOamMepDbEntry 5 }

   trillOamMepDbLastGoodSeqNum OBJECT-TYPE
       SYNTAX        Counter32
       MAX-ACCESS    read-only
       STATUS        current
       DESCRIPTION
            "Last Sequence Number received."
       REFERENCE "TRILL-FM 13.1"
       ::= {trillOamMepDbEntry 6}

   -- *****************************************************************************
   -- TRILL OAM MIB NOTIFICATIONS (TRAPS)
   -- This notification is sent to management entity whenever a MEP loses/restores
   -- contact with its peer Flow Meps
   -- *****************************************************************************
 


Kumar et al.             Expires April 22, 2014                [Page 39]

Internet Draft               TRILL OAM MIB              October 19, 2013


   trillOamFaultAlarm NOTIFICATION-TYPE
       OBJECTS         { trillOamMepDbFlowState }
       STATUS          current
       DESCRIPTION
           "A MEP Flow has a persistent defect condition. 
            A notification (fault alarm) is sent to the management 
            entity with the OID of the Flow that has detected the fault.

           The management entity receiving the notification can identify
           the system from the network source address of the
           notification, and can identify the Flow reporting the defect
           by the indices in the OID of the 
           trillOamMepFlowIndex, and trillOamFlowDefect
           variable in the notification:

              dot1agCfmMdIndex - Also the index of the MEP's
                                 Maintenance Domain table entry
                                 (dot1agCfmMdTable).
              dot1agCfmMaIndex - Also an index (with the MD table index)
                                 of the MEP's Maintenance Association
                                 network table entry
                                 (dot1agCfmMaNetTable), and (with the MD
                                 table index and component ID) of the
                                 MEP's MA component table entry
                                 (dot1agCfmMaCompTable).
              dot1agCfmMepIdentifier - MEP Identifier and final index
                                 into the MEP table (dot1agCfmMepTable).
              trillOamMepFlowCfgIndex - Index identifies 
                               indicates the specific Flow for the MEP"            
       REFERENCE       "TRILL-FM"
      ::= { trillOamNotifications 1 }

   -- *****************************************************************************
   -- TRILL OAM MIB Module - Conformance Information
   -- *****************************************************************************

   trillOamMibCompliances  OBJECT IDENTIFIER
       ::= { trillOamMibConformance 1 }

   trillOamMibGroups  OBJECT IDENTIFIER
       ::= { trillOamMibConformance 2 }


   -- ******************************************************************
   -- TRILL OAM MIB Units of conformance
   -- ******************************************************************

   trillOamMepMandatoryGroup OBJECT-GROUP
 


Kumar et al.             Expires April 22, 2014                [Page 40]

Internet Draft               TRILL OAM MIB              October 19, 2013


       OBJECTS         {
                           trillOamMepRName,
                           trillOamMepNextPtmTId,
                           trillOamMepNextMtmTId,
                           trillOamMepPtrIn,
                           trillOamMepPtrInOutofOrder,
                           trillOamMepPtrOut,
                           trillOamMepMtrIn,
                           trillOamMepMtrInOutofOrder,
                           trillOamMepMtrOut,
                           trillOamMepTxLbmDestRName,
                           trillOamMepTxLbmHC,
                           trillOamMepTxLbmReplyModeOob,
                           trillOamMepTransmitLbmReplyIp,
                           trillOamMepTxLbmFlowEntropy,
                           trillOamMepTxPtmDestRName,
                           trillOamMepTxPtmHC,
                           trillOamMepTxPtmReplyModeOob,
                           trillOamMepTransmitPtmReplyIp,
                           trillOamMepTxPtmFlowEntropy,
                           trillOamMepTxPtmStatus,
                           trillOamMepTxPtmResultOK,
                           trillOamMepTxPtmMessages,
                           trillOamMepTxPtmSeqNumber,
                           trillOamMepTxMtmTree,
                           trillOamMepTxMtmHC,
                           trillOamMepTxMtmReplyModeOob,
                           trillOamMepTransmitMtmReplyIp,
                           trillOamMepTxMtmFlowEntropy,
                           trillOamMepTxMtmStatus,
                           trillOamMepTxMtmResultOK,
                           trillOamMepTxMtmMessages,
                           trillOamMepTxMtmSeqNumber,
                           trillOamMepTxMtmScopeList
                       }
       STATUS          current
       DESCRIPTION
           "Mandatory objects for the TRILL OAM MEP group."
       ::= { trillOamMibGroups 1 }

   trillOamMepFlowCfgTableGroup OBJECT-GROUP
       OBJECTS         {
                           trillOamMepFlowCfgFlowEntropy,
                           trillOamMepFlowCfgDestRName,
                           trillOamMepFlowCfgFlowHC,
                           trillOamMepFlowCfgRowStatus
                       }
       STATUS          current
 


Kumar et al.             Expires April 22, 2014                [Page 41]

Internet Draft               TRILL OAM MIB              October 19, 2013


       DESCRIPTION
           "Trill OAM MEP Flow Configuration objects group."
       ::= { trillOamMibGroups 2 }

   trillOamPtrTableGroup OBJECT-GROUP
       OBJECTS         {
                           trillOamMepPtrHC,
                           trillOamMepPtrFlag,
                           trillOamMepPtrErrorCode,
                           trillOamMepPtrTerminalMep,
                           trillOamMepPtrLastEgressId,
                           trillOamMepPtrIngress,
                           trillOamMepPtrIngressMac,
                           trillOamMepPtrIngressPortIdSubtype,
                           trillOamMepPtrIngressPortId,
                           trillOamMepPtrEgress,
                           trillOamMepPtrEgressMac,
                           trillOamMepPtrEgressPortIdSubtype,
                           trillOamMepPtrEgressPortId,
                           trillOamMepPtrChassisIdSubtype,
                           trillOamMepPtrChassisId,
                           trillOamMepPtrOrganizationSpecificTlv,
                           trillOamMepPtrNextHopNicknames
                       }
       STATUS          current
       DESCRIPTION
           "Trill OAM MEP PTR objects group."
       ::= { trillOamMibGroups 3 }

   trillOamMtrTableGroup OBJECT-GROUP
       OBJECTS         {
                           trillOamMepMtrFlag,
                           trillOamMepMtrErrorCode,
                           trillOamMepMtrLastEgressId,
                           trillOamMepMtrIngress,
                           trillOamMepMtrIngressMac,
                           trillOamMepMtrIngressPortIdSubtype,
                           trillOamMepMtrIngressPortId,
                           trillOamMepMtrEgress,
                           trillOamMepMtrEgressMac,
                           trillOamMepMtrEgressPortIdSubtype,
                           trillOamMepMtrEgressPortId,
                           trillOamMepMtrChassisIdSubtype,
                           trillOamMepMtrChassisId,
                           trillOamMepMtrOrganizationSpecificTlv,
                           trillOamMepMtrNextHopNicknames,
                           trillOamMepMtrReceiverAvailability,
                           trillOamMepMtrReceiverCount
 


Kumar et al.             Expires April 22, 2014                [Page 42]

Internet Draft               TRILL OAM MIB              October 19, 2013


                       }
       STATUS          current
       DESCRIPTION
           "Trill OAM MEP MTR objects group."
       ::= { trillOamMibGroups 4 }

   trillOamMepDbGroup  OBJECT-GROUP
       OBJECTS   {
         trillOamMepDbFlowIndex,
         trillOamMepDbFlowEntropy,
         trillOamMepDbFlowState,
         trillOamMepDbFlowFailedOkTime,
         trillOamMepDbRbridgeName,
         trillOamMepDbLastGoodSeqNum
       }

       STATUS      current
       DESCRIPTION
          "Trill OAM MEP DB objects group."
       ::= { trillOamMibGroups 5 }

   trillOamNotificationGroup NOTIFICATION-GROUP
       NOTIFICATIONS  {
           trillOamFaultAlarm
       }
       STATUS current
       DESCRIPTION
           "Objects for Notification Group"
       ::= { trillOamMibGroups 6 }

   -- ******************************************************************
   -- TRILL OAM MIB Module Compliance statements
   -- ******************************************************************

   trillOamMibCompliance MODULE-COMPLIANCE
       STATUS          current
       DESCRIPTION
           "The compliance statement for the TRILL OAM MIB."
       MODULE          -- this module
       MANDATORY-GROUPS {
                           trillOamMepMandatoryGroup,
                           trillOamMepFlowCfgTableGroup,
                           trillOamPtrTableGroup,
                           trillOamMtrTableGroup,
                           trillOamMepDbGroup,
                           trillOamNotificationGroup
                       }
       ::= { trillOamMibCompliances 1 }
 


Kumar et al.             Expires April 22, 2014                [Page 43]

Internet Draft               TRILL OAM MIB              October 19, 2013


   -- Compliance requirement for read-only implementation.

   trillOamMibReadOnlyCompliance MODULE-COMPLIANCE
       STATUS current
       DESCRIPTION
           "Compliance requirement for implementation that only
            provide read-only support for TRILL-OAM-MIB.
            Such devices can be monitored but cannot be configured
            using this MIB module
           "
       MODULE -- this module
       MANDATORY-GROUPS {
                           trillOamMepMandatoryGroup,
                           trillOamMepFlowCfgTableGroup,
                           trillOamPtrTableGroup,
                           trillOamMtrTableGroup,
                           trillOamMepDbGroup,
                           trillOamNotificationGroup
                         }
       -- trillOamMepTable

       OBJECT trillOamMepTxLbmDestRName  
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxLbmHC
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxLbmReplyModeOob    
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTransmitLbmReplyIp
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxLbmFlowEntropy
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxPtmDestRName
       MIN-ACCESS  read-only
 


Kumar et al.             Expires April 22, 2014                [Page 44]

Internet Draft               TRILL OAM MIB              October 19, 2013


            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxPtmHC
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxPtmReplyModeOob
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTransmitPtmReplyIp
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxPtmFlowEntropy
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxPtmStatus
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxPtmResultOK
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxPtmMessages
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxPtmSeqNumber
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxMtmTree
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

 


Kumar et al.             Expires April 22, 2014                [Page 45]

Internet Draft               TRILL OAM MIB              October 19, 2013


       OBJECT trillOamMepTxMtmHC
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxMtmReplyModeOob
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTransmitMtmReplyIp
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxMtmFlowEntropy
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxMtmStatus
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxMtmResultOK
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxMtmMessages
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxMtmSeqNumber
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepTxMtmScopeList
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."


   -- trillOamMepFlowCfgTable

 


Kumar et al.             Expires April 22, 2014                [Page 46]

Internet Draft               TRILL OAM MIB              October 19, 2013


       OBJECT trillOamMepFlowCfgFlowEntropy
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepFlowCfgDestRName
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepFlowCfgFlowHC
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."

       OBJECT trillOamMepFlowCfgRowStatus
       MIN-ACCESS  read-only
            DESCRIPTION
                "Write access is not required."


       ::= { trillOamMibCompliances 2 }


   END

8. Security Considerations

   This MIB relates to a system which will provide network connectivity
   and packet forwarding services. As such, improper manipulation of the
   objects represented by this MIB may result in denial of service to a
   large number of end-users.

   There are number of management objects defined in this MIB module
   with a MAX-ACCESS clause of read-create. Such objects may be
   considered sensitive or vulnerable in some network environments. The
   support for SET operations in a non-secure environment without proper
   protection can have negative effect on sensitivity/vulnerability are
   described below. 

   Some of the readable objects in this MIB module (i.e., objects with a
   MAC-ACCESS other than not-accessible) may be considered sensitive or
   vulnerable in some network environments. It is thus important to
   control event GET and/or NOTIFY access to these objects and possibly
   to event encrypt the values of these objects when sending them over
   the network via SNMP. 

   SNMP version prior to SNMPv3 did not include adequate security. Even
 


Kumar et al.             Expires April 22, 2014                [Page 47]

Internet Draft               TRILL OAM MIB              October 19, 2013


   if the network itself is secure, there is no control as to who on the
   secure network is allowed to access and GET/SET
   (read/change/create/delete) the objects in this MIB module.

   It is RECOMMENDED that implementers consider the security features as
   provided by the SNMPv3 framework (see [RFC3410], section 8),
   including full support for the SNMPv3 cryptographic mechanism (for
   authentication and privacy).

   Further, deployment of SNMP version prior to SNMPv3 is NOT
   RECOMMENDED. Instead, it is RECOMMENDED to deploy SNMPv3 and to
   enable cryptographic security. It is then a customer/operator
   responsibility to ensure that the SNMP entity giving access to an
   instance of this MIB module is properly configured to give access to
   the objects only to those principals (users) that have legitimate
   rights to indeed GET or SET (change/create/delete) them.

9. IANA Considerations

   The MIB module in this document uses the following IANA-assigned
   OBJECT IDENTIFIER value recorded in the SMI Numbers registry:

   Descriptor   OBJECT   IDENTIFIER  value
   ----------------------------------------
   trillOamMIB  { mib-2 xxx }

   Editor's Note (to be removed prior to publication): the IANA is
   requested to assign a value for "xxx" under the 'mib-2' subtree and
   to record the assignment in the SMI Numbers registry. When the
   assignment has been made, the RFC Editor is asked to replace "XXX"
   (here and in the MIB module) with the assigned value and to remove
   this note.

10.  Conclusions

11.  References
11.1.  Normative References

              [1] Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

              [2] Crocker, D. and Overell, P.(Editors), "Augmented BNF
              for Syntax Specifications: ABNF", RFC 2234, Internet Mail
              Consortium and Demon Internet Ltd., November 1997.

              [RFC2119] Bradner, S., "Key words for use in RFCs to
              Indicate Requirement Levels", BCP 14, RFC 2119, March
              1997.
 


Kumar et al.             Expires April 22, 2014                [Page 48]

Internet Draft               TRILL OAM MIB              October 19, 2013


              [RFC2234] Crocker, D. and Overell, P.(Editors), "Augmented
              BNF for Syntax Specifications: ABNF", RFC 2234, Internet
              Mail Consortium and Demon Internet Ltd., November 1997.

              [RFC6325] Perlman, R., et.al., "Routing Bridges
              (RBridges): Base Protocol Specification", RFC 6325, July
              2011.

              [RFCfgl] D. Eastlake, M. Zhang, P. Agarwal, R. Perlman, D.
              Dutt, "TRILL: Fine-Grained Labeling", draft-ietf-trill-
              fine-labeling, work in progress.

11.2.  Informative References

              [3] Faber, T., Touch, J. and W. Yue, "The TIME-WAIT state
              in TCP and Its Effect on Busy Servers", Proc. Infocom 1999
              pp. 1573-1583.

              [Fab1999]Faber, T., Touch, J. and W. Yue, "The TIME-WAIT
              state in TCP and Its Effect on Busy Servers", Proc.
              Infocom 1999 pp. 1573-1583.

              [TRILLOAMREQ] Senevirathne, T., et.al., "Requirements for
              Operations, Administration and Maintenance (OAM) in       
                   TRILL", draft-ietf-trill-oam-req, Work in Progress,
              November, 2012.

              [TRILLOAMFM] Salam, S., et.al., "TRILL OAM Framework",
              draft-ietf-trill-oam-framework, Work in Progress,November,
              2012.

              [TRILL-FM] Senevirathne, T., et.al., "TRILL Fault
              Management", draft-tissa-trill-oam-fm, Work in Progress, 
              Feburary, 2013.

12.  Acknowledgments

   Copyright (c) 2013 IETF Trust and the persons identified as authors
   of the code. All rights reserved. Redistribution and use in source
   and binary forms, with or without modification, is permitted pursuant
   to, and subject to the license terms contained in, the Simplified BSD
   License set forth in Section 4.c of the IETF Trust's Legal Provisions
   Relating to IETF Documents (http://trustee.ietf.org/license-info).

   Copyright (c) 2013 IETF Trust and the persons identified as authors
   of the code. All rights reserved. Redistribution and use in source
   and binary forms, with or without modification, are permitted
   provided that the following conditions are met:
 


Kumar et al.             Expires April 22, 2014                [Page 49]

Internet Draft               TRILL OAM MIB              October 19, 2013


      o Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer. 

      o Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution. 

      o Neither the name of Internet Society, IETF or IETF Trust, nor
      the names of specific contributors, may be used to endorse or
      promote products derived from this software without specific prior
      written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
   A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
   OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
   THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

   Authors' Addresses

      Deepak Kumar
      Cisco
      510 McCarthy Blvd,
      Milpitas, CA 95035, USA
      Phone : +1 408-853-9760
      Email: dekumar@cisco.com


      Samer Salam
      Cisco
      595 Burrard St. Suite 2123
      Vancouver, BC V7X 1J1, Canada
      Email: ssalam@cisco.com

      Tissa Senevirathne
      Cisco
      375 East Tasman Drive
      San Jose, CA 95134, USA
      Email: tsenevir@cisco.com





Kumar et al.             Expires April 22, 2014                [Page 50]
